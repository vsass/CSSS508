<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>csss508_lecture6</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="http://vsass.github.io" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">CS&amp;SS 508</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../syllabus.html" rel="" target="">
 <span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../Lectures/lectures.html" rel="" target="">
 <span class="menu-text">Lectures</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../Homework/homework.html" rel="" target="">
 <span class="menu-text">Homework</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    <div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="CSSS508_Lecture6.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">



<section id="title-slide" class="level2" data-menu-title="Data Structures &amp; Types" data-background="#1e4655" data-background-image="../../images/csss-logo.png" data-background-position="center top 5%" data-background-size="50%">
<h2 data-menu-title="Data Structures &amp; Types" data-background="#1e4655" data-background-image="../../images/csss-logo.png" data-background-position="center top 5%" data-background-size="50%" class="anchored" data-anchor-id="title-slide"></h2>
<p><span class="custom-title">Data Structures &amp; Types</span></p>
<p><span class="custom-subtitle">CS&amp;SS 508 • Lecture 6</span></p>
<p><span class="custom-subtitle2">7 November 2023</span></p>
<p><span class="custom-subtitle3">Victoria Sass</span></p>
</section>
<section id="roadmap" class="level1 section-title" data-background-color="#99a486">
<h1 class="section-title" data-background-color="#99a486">Roadmap</h1>
<hr>
<div class="columns">
<div class="column" style="width:50%;">
<p><br></p>
<section id="last-time-we-learned" class="level3">
<h3 class="anchored" data-anchor-id="last-time-we-learned">Last time, we learned:</h3>
<ul>
<li>Importing and Exporting Data</li>
<li>Tidying and Reshaping Data</li>
<li>Working with Factors</li>
<li>Wrangling Date/Date-Time Data</li>
</ul>
</section>
</div><div class="column" style="width:50%;">
<p><br></p>
<div class="fragment">
<section id="today-we-will-cover" class="level3">
<h3 class="anchored" data-anchor-id="today-we-will-cover">Today, we will cover:</h3>
<ul>
<li>Types of Data
<ul>
<li>Numbers</li>
<li>Missing Values</li>
</ul></li>
<li>Data Structures
<ul>
<li>Vectors</li>
<li>Matrices</li>
<li>Lists</li>
</ul></li>
</ul>
</section>
</div>
</div>
</div>
<p>. . .</p>
<p>This week we start getting more into the weeds of programming in <code>R</code>.</p>
<p>. . .</p>
<p>These skills will help you understand some of <code>R</code>’s quirks, how to troubleshoot errors when they arise, and how to write more efficient and automated code that does a lot of work for you!</p>
<section id="data-types-in-r" class="level2">
<h2 class="anchored" data-anchor-id="data-types-in-r">Data types in <code>R</code></h2>
<p>Returning, once again, to our list of data types in <code>R</code>:</p>
<p>. . .</p>
<ul>
<li>Logicals</li>
<li>Factors</li>
<li>Date/Date-time</li>
<li>Numbers</li>
<li>Missing Values</li>
<li>Strings</li>
</ul>
</section>
<section id="data-types-in-r-1" class="level2">
<h2 class="anchored" data-anchor-id="data-types-in-r-1">Data types in <code>R</code></h2>
<p>Returning, once again, to our list of data types in <code>R</code>:</p>
<ul>
<li><del>Logicals</del></li>
<li><del>Factors</del></li>
<li><del>Date/Date-time</del></li>
<li>Numbers</li>
<li>Missing Values</li>
<li>Strings</li>
</ul>
<p><img src="images/logicals_factors.png" class="absolute" data-top="95" data-right="0" data-left="250" width="900" height="600"></p>
<hr>
</section>
<section id="data-types-in-r-2" class="level2">
<h2 class="anchored" data-anchor-id="data-types-in-r-2">Data types in <code>R</code></h2>
<p>Returning, once again, to our list of data types in <code>R</code>:</p>
<ul>
<li><del>Logicals</del></li>
<li><del>Factors</del></li>
<li><del>Date/Date-time</del></li>
<li><span style="color:#e15759">Numbers<span></span></span></li>
<li><span style="color:#e15759">Missing Values</span></li>
<li>Strings</li>
</ul>
</section>
</section>
<section id="numbers" class="level1 section-title" data-background-color="#99a486">
<h1 class="section-title" data-background-color="#99a486">Numbers</h1>
<section id="numbers-two-ways" class="level2">
<h2 class="anchored" data-anchor-id="numbers-two-ways">Numbers, Two Ways</h2>
<p><code>R</code> has two types of numeric variables: <code>double</code> and <code>integer</code>.</p>
<p>. . .</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/numbers.png" style="width:70.0%;height:70.0%" class="figure-img"></p>
</figure>
</div>
</section>
<section id="numbers-coded-as-character-strings" class="level2">
<h2 class="anchored" data-anchor-id="numbers-coded-as-character-strings">Numbers Coded as Character Strings</h2>
<p>Oftentimes numerical data is coded as a string so you’ll need to use the appropriate parsing function to read it in in the correct form.</p>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">parse_integer</span>(<span class="fu">c</span>(<span class="st">"1"</span>, <span class="st">"2"</span>, <span class="st">"3"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 1 2 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">parse_double</span>(<span class="fu">c</span>(<span class="st">"1"</span>, <span class="st">"2"</span>, <span class="st">"3.123"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 1.000 2.000 3.123</code></pre>
</div>
</div>
<p>. . .</p>
<p><br></p>
<p>If you have values with extraneous non-numerical text you want to ignore there’s a separate function for that.</p>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">parse_number</span>(<span class="fu">c</span>(<span class="st">"USD 3,513"</span>, <span class="st">"59%"</span>, <span class="st">"$1,123,456.00"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1]    3513      59 1123456</code></pre>
</div>
</div>
</section>
<section id="count" class="level2">
<h2 class="anchored" data-anchor-id="count"><code>count()</code></h2>
<p>A very useful and common exploratory data analysis tool is to check the relative sums of different categories of a variable. That’s what <code>count()</code> is for!</p>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-4"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-4-1"><a href="#annotated-cell-4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(nycflights13)</span>
<span id="annotated-cell-4-2"><a href="#annotated-cell-4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(flights)</span>
<span id="annotated-cell-4-3"><a href="#annotated-cell-4-3" aria-hidden="true" tabindex="-1"></a></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-4" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-4-4" class="code-annotation-target"><a href="#annotated-cell-4-4" aria-hidden="true" tabindex="-1"></a>flights <span class="sc">|&gt;</span> <span class="fu">count</span>(origin)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-4" data-target-annotation="1">1</dt>
<dd>
<span data-code-lines="4" data-code-cell="annotated-cell-4" data-code-annotation="1">Add the argument <code>sort = TRUE</code> to see the most common values first (i.e.&nbsp;arranged in descending order). . . .</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; # A tibble: 3 × 2
&gt;   origin      n
&gt;   &lt;chr&gt;   &lt;int&gt;
&gt; 1 EWR    120835
&gt; 2 JFK    111279
&gt; 3 LGA    104662</code></pre>
</div>
</div>
<p>This is functionally the same as grouping and summarizing with <code>n()</code>.</p>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-5"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-5-1"><a href="#annotated-cell-5-1" aria-hidden="true" tabindex="-1"></a>flights <span class="sc">|&gt;</span> </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-5-2" class="code-annotation-target"><a href="#annotated-cell-5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n=</span> <span class="fu">n</span>(),</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-5" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-5-3" class="code-annotation-target"><a href="#annotated-cell-5-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">.by =</span> origin)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-5" data-target-annotation="2">2</dt>
<dd>
<span data-code-lines="2" data-code-cell="annotated-cell-5" data-code-annotation="2"><code>n()</code> is a special summary function that doesn’t take any arguments and instead accesses information about the “current” group. This means that it only works inside dplyr verbs.</span>
</dd>
<dt data-target-cell="annotated-cell-5" data-target-annotation="3">3</dt>
<dd>
<span data-code-lines="3" data-code-cell="annotated-cell-5" data-code-annotation="3">You can do this longer version if you also want to compute other summaries simultaneously.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; # A tibble: 3 × 2
&gt;   origin      n
&gt;   &lt;chr&gt;   &lt;int&gt;
&gt; 1 EWR    120835
&gt; 2 LGA    104662
&gt; 3 JFK    111279</code></pre>
</div>
</div>
</section>
<section id="n_distinct" class="level2">
<h2 class="anchored" data-anchor-id="n_distinct"><code>n_distinct()</code></h2>
<p>Use this function if you want the count the number of distinct (unique) values of one or more variables.</p>
<p>. . .</p>
<p>Say we’re interested in which destinations are served by the most carriers:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>flights <span class="sc">|&gt;</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">carriers =</span> <span class="fu">n_distinct</span>(carrier), </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">.by =</span> dest) <span class="sc">|&gt;</span> </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(carriers))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; # A tibble: 105 × 2
&gt;    dest  carriers
&gt;    &lt;chr&gt;    &lt;int&gt;
&gt;  1 ATL          7
&gt;  2 ORD          7
&gt;  3 TPA          7
&gt;  4 BOS          7
&gt;  5 CLT          7
&gt;  6 IAD          6
&gt;  7 MSP          6
&gt;  8 DTW          6
&gt;  9 MSY          6
&gt; 10 PIT          6
&gt; # ℹ 95 more rows</code></pre>
</div>
</div>
</section>
<section id="weighted-counts" class="level2">
<h2 class="anchored" data-anchor-id="weighted-counts">Weighted Counts</h2>
<p>A weighted count is simply a grouped sum, therefore <code>count</code> has a <code>wt</code> argument to allow for the shorthand.</p>
<p>. . .</p>
<p>Let’s find out the number of miles each plane flew.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>flights <span class="sc">|&gt;</span> </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">miles =</span> <span class="fu">sum</span>(distance), </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">.by =</span> tailnum)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; # A tibble: 4,044 × 2
&gt;    tailnum  miles
&gt;    &lt;chr&gt;    &lt;dbl&gt;
&gt;  1 N14228  171713
&gt;  2 N24211  172934
&gt;  3 N619AA   32141
&gt;  4 N804JB  311992
&gt;  5 N668DN   50352
&gt;  6 N39463  169905
&gt;  7 N516JB  359585
&gt;  8 N829AS   52549
&gt;  9 N593JB  377619
&gt; 10 N3ALAA   67925
&gt; # ℹ 4,034 more rows</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>This is equivalent to:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>flights <span class="sc">|&gt;</span> <span class="fu">count</span>(tailnum, <span class="at">wt =</span> distance) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; # A tibble: 4,044 × 2
&gt;    tailnum      n
&gt;    &lt;chr&gt;    &lt;dbl&gt;
&gt;  1 D942DN    3418
&gt;  2 N0EGMQ  250866
&gt;  3 N10156  115966
&gt;  4 N102UW   25722
&gt;  5 N103US   24619
&gt;  6 N104UW   25157
&gt;  7 N10575  150194
&gt;  8 N105UW   23618
&gt;  9 N107US   21677
&gt; 10 N108UW   32070
&gt; # ℹ 4,034 more rows</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="other-useful-arithmetic-functions" class="level2">
<h2 class="anchored" data-anchor-id="other-useful-arithmetic-functions">Other Useful Arithmetic Functions</h2>
<p>In addition to the standards (<code>+</code>, <code>-</code>, <code>/</code>, <code>*</code>, <code>^</code>), <code>R</code> has many other useful arithmetic functions.</p>
<p>. . .</p>
<p><strong>Pairwise min/max</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-7"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-7-1"><a href="#annotated-cell-7-1" aria-hidden="true" tabindex="-1"></a>df</span>
<span id="annotated-cell-7-2"><a href="#annotated-cell-7-2" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span> </span>
<span id="annotated-cell-7-3"><a href="#annotated-cell-7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-7-4" class="code-annotation-target"><a href="#annotated-cell-7-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">min =</span> <span class="fu">pmin</span>(x, y, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-7" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-7-5" class="code-annotation-target"><a href="#annotated-cell-7-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">max =</span> <span class="fu">pmax</span>(x, y, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="annotated-cell-7-6"><a href="#annotated-cell-7-6" aria-hidden="true" tabindex="-1"></a>  )</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-7" data-target-annotation="6">6</dt>
<dd>
<span data-code-lines="4" data-code-cell="annotated-cell-7" data-code-annotation="6"><code>pmin()</code> returns the smallest value in each row. <code>min()</code>, by contrast, finds the smallest observation given a number of rows.</span>
</dd>
<dt data-target-cell="annotated-cell-7" data-target-annotation="7">7</dt>
<dd>
<span data-code-lines="5" data-code-cell="annotated-cell-7" data-code-annotation="7"><code>pmax()</code> returns the largest value in each row. <code>max()</code>, by contrast, finds the largest observation given a number of rows.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; # A tibble: 3 × 2
&gt;       x     y
&gt;   &lt;dbl&gt; &lt;dbl&gt;
&gt; 1     1     3
&gt; 2     5     2
&gt; 3     7    NA
&gt; # A tibble: 3 × 4
&gt;       x     y   min   max
&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
&gt; 1     1     3     1     3
&gt; 2     5     2     2     5
&gt; 3     7    NA     7     7</code></pre>
</div>
</div>
</section>
<section id="other-useful-arithmetic-functions-1" class="level2">
<h2 class="anchored" data-anchor-id="other-useful-arithmetic-functions-1">Other Useful Arithmetic Functions</h2>
<p><strong>Modular arithmetic</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-8"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-8" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-8-1" class="code-annotation-target"><a href="#annotated-cell-8-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">10</span> <span class="sc">%/%</span> <span class="dv">3</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-8" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-8-2" class="code-annotation-target"><a href="#annotated-cell-8-2" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">10</span> <span class="sc">%%</span> <span class="dv">3</span></span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-8" data-target-annotation="8">8</dt>
<dd>
<span data-code-lines="1" data-code-cell="annotated-cell-8" data-code-annotation="8">Computes integer division.</span>
</dd>
<dt data-target-cell="annotated-cell-8" data-target-annotation="9">9</dt>
<dd>
<span data-code-lines="2" data-code-cell="annotated-cell-8" data-code-annotation="9">Computes the remainder.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt;  [1] 0 0 1 1 1 2 2 2 3 3
&gt;  [1] 1 2 0 1 2 0 1 2 0 1</code></pre>
</div>
</div>
<p>. . .</p>
<p>We can see how this can be useful in our <code>flights</code> data which has curiously stored time:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>flights <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="at">hour =</span> sched_dep_time <span class="sc">%/%</span> <span class="dv">100</span>,</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">minute =</span> sched_dep_time <span class="sc">%%</span> <span class="dv">100</span>,</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">.keep =</span> <span class="st">"used"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; # A tibble: 336,776 × 3
&gt;    sched_dep_time  hour minute
&gt;             &lt;int&gt; &lt;dbl&gt;  &lt;dbl&gt;
&gt;  1            515     5     15
&gt;  2            529     5     29
&gt;  3            540     5     40
&gt;  4            545     5     45
&gt;  5            600     6      0
&gt;  6            558     5     58
&gt;  7            600     6      0
&gt;  8            600     6      0
&gt;  9            600     6      0
&gt; 10            600     6      0
&gt; # ℹ 336,766 more rows</code></pre>
</div>
</div>
</section>
<section id="other-useful-arithmetic-functions-2" class="level2">
<h2 class="anchored" data-anchor-id="other-useful-arithmetic-functions-2">Other Useful Arithmetic Functions</h2>
<p><strong>Logarithms</strong><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-10"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-10" data-target-annotation="10" onclick="event.preventDefault();">10</a><span id="annotated-cell-10-1" class="code-annotation-target"><a href="#annotated-cell-10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">log</span>(<span class="fu">c</span>(<span class="fl">2.718282</span>, <span class="fl">7.389056</span>, <span class="fl">20.085537</span>))</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-10" data-target-annotation="11" onclick="event.preventDefault();">11</a><span id="annotated-cell-10-2" class="code-annotation-target"><a href="#annotated-cell-10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">log2</span>(<span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">8</span>))</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-10" data-target-annotation="12" onclick="event.preventDefault();">12</a><span id="annotated-cell-10-3" class="code-annotation-target"><a href="#annotated-cell-10-3" aria-hidden="true" tabindex="-1"></a><span class="fu">log10</span>(<span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">100</span>, <span class="dv">1000</span>))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-10" data-target-annotation="10">10</dt>
<dd>
<span data-code-lines="1" data-code-cell="annotated-cell-10" data-code-annotation="10">Inverse is <code>exp()</code></span>
</dd>
<dt data-target-cell="annotated-cell-10" data-target-annotation="11">11</dt>
<dd>
<span data-code-lines="2" data-code-cell="annotated-cell-10" data-code-annotation="11">Easy to interpret because a difference of 1 on the log scale corresponds to doubling on the original scale and a difference of -1 corresponds to halving. Inverse is <code>2^</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-10" data-target-annotation="12">12</dt>
<dd>
<span data-code-lines="3" data-code-cell="annotated-cell-10" data-code-annotation="12">Easy to back-transform because everything is on the order of 10. Inverse is <code>10^</code>.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 1 2 3
&gt; [1] 1 2 3
&gt; [1] 1 2 3</code></pre>
</div>
</div>
</section>
<section id="other-useful-arithmetic-functions-3" class="level2">
<h2 class="anchored" data-anchor-id="other-useful-arithmetic-functions-3">Other Useful Arithmetic Functions</h2>
<p><strong>Cumulative and Rolling Aggregates</strong></p>
<p>Base <code>R</code> provides <code>cumsum()</code>, <code>cumprod()</code>, <code>cummin()</code>, <code>cummax()</code> for running, or cumulative, sums, products, mins and maxes. <code>dplyr</code> provides <code>cummean()</code> for cumulative means.</p>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">15</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt;  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-12"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="13" onclick="event.preventDefault();">13</a><span id="annotated-cell-12-1" class="code-annotation-target"><a href="#annotated-cell-12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cumsum</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">15</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-12" data-target-annotation="13">13</dt>
<dd>
<span data-code-lines="1" data-code-cell="annotated-cell-12" data-code-annotation="13"><code>cumsum()</code> is the most common in practice.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt;  [1]   1   3   6  10  15  21  28  36  45  55  66  78  91 105 120</code></pre>
</div>
</div>
<p>. . .</p>
<p>For complex rolling/sliding aggregates, check out the <a href="https://slider.r-lib.org/index.html"><code>slidr</code> package</a>.</p>
</section>
<section id="other-useful-arithmetic-functions-4" class="level2">
<h2 class="anchored" data-anchor-id="other-useful-arithmetic-functions-4">Other Useful Arithmetic Functions</h2>
<p><strong>Numeric Ranges</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-13"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-13-1"><a href="#annotated-cell-13-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">20</span>)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-13" data-target-annotation="14" onclick="event.preventDefault();">14</a><span id="annotated-cell-13-2" class="code-annotation-target"><a href="#annotated-cell-13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cut</span>(x, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">20</span>))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-13" data-target-annotation="14">14</dt>
<dd>
<span data-code-lines="2" data-code-cell="annotated-cell-13" data-code-annotation="14"><code>cut()</code> breaks up (aka bins) a numeric vector into discrete buckets</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] (0,5]   (0,5]   (0,5]   (5,10]  (10,15] (15,20]
&gt; Levels: (0,5] (5,10] (10,15] (15,20]</code></pre>
</div>
</div>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-14"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="15" onclick="event.preventDefault();">15</a><span id="annotated-cell-14-1" class="code-annotation-target"><a href="#annotated-cell-14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cut</span>(x, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">100</span>))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-14" data-target-annotation="15">15</dt>
<dd>
<span data-code-lines="1" data-code-cell="annotated-cell-14" data-code-annotation="15">The bins don’t have to be the same size.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] (0,5]    (0,5]    (0,5]    (5,10]   (10,100] (10,100]
&gt; Levels: (0,5] (5,10] (10,100]</code></pre>
</div>
</div>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-15"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-15-1"><a href="#annotated-cell-15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cut</span>(x, </span>
<span id="annotated-cell-15-2"><a href="#annotated-cell-15-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">20</span>), </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-15" data-target-annotation="16" onclick="event.preventDefault();">16</a><span id="annotated-cell-15-3" class="code-annotation-target"><a href="#annotated-cell-15-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"sm"</span>, <span class="st">"md"</span>, <span class="st">"lg"</span>, <span class="st">"xl"</span>)</span>
<span id="annotated-cell-15-4"><a href="#annotated-cell-15-4" aria-hidden="true" tabindex="-1"></a>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-15" data-target-annotation="16">16</dt>
<dd>
<span data-code-lines="3" data-code-cell="annotated-cell-15" data-code-annotation="16">You can optionally supply your own labels. Note that there should be one less labels than breaks.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] sm sm sm md lg xl
&gt; Levels: sm md lg xl</code></pre>
</div>
</div>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-16"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-16" data-target-annotation="17" onclick="event.preventDefault();">17</a><span id="annotated-cell-16-1" class="code-annotation-target"><a href="#annotated-cell-16-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="sc">-</span><span class="dv">10</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">30</span>)</span>
<span id="annotated-cell-16-2"><a href="#annotated-cell-16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cut</span>(y, <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">20</span>))</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-16" data-target-annotation="17">17</dt>
<dd>
<span data-code-lines="1" data-code-cell="annotated-cell-16" data-code-annotation="17">Any values outside of the range of the breaks will become <code>NA</code>.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] &lt;NA&gt;   &lt;NA&gt;   (0,5]  (5,10] &lt;NA&gt;  
&gt; Levels: (0,5] (5,10] (10,15] (15,20]</code></pre>
</div>
</div>
</section>
<section id="rounding" class="level2">
<h2 class="anchored" data-anchor-id="rounding">Rounding</h2>
<p><code>round()</code> allows us to round to a certain decimal place. Without specifying an argument for the <code>digits</code> argument it will round to the nearest integer.</p>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(pi)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 3</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(pi, <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 3.14</code></pre>
</div>
</div>
<p>. . .</p>
<p>Using negative integers in the <code>digits</code> argument allows you to round on the left-hand side of the decimal place.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="dv">39472</span>, <span class="at">digits =</span> <span class="sc">-</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 39470</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="dv">39472</span>, <span class="at">digits =</span> <span class="sc">-</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 39500</code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="dv">39472</span>, <span class="at">digits =</span> <span class="sc">-</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 39000</code></pre>
</div>
</div>
</section>
<section id="rounding-1" class="level2">
<h2 class="anchored" data-anchor-id="rounding-1">Rounding</h2>
<p>What’s going on here?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">c</span>(<span class="fl">1.5</span>, <span class="fl">2.5</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 2 2</code></pre>
</div>
</div>
<p>. . .</p>
<p><code>round()</code> uses what’s known as “round half to even” or Banker’s rounding: if a number is half way between two integers, it will be rounded to the even integer. This is a good strategy because it keeps the rounding <strong>unbiased</strong>: half of all 0.5s are rounded up, and half are rounded down.</p>
<p>. . .</p>
<p><br></p>
<p><code>floor()</code> and <code>ceiling()</code> are also useful rounding shortcuts.</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-23"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-23" data-target-annotation="18" onclick="event.preventDefault();">18</a><span id="annotated-cell-23-1" class="code-annotation-target"><a href="#annotated-cell-23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">floor</span>(<span class="fl">123.456</span>)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-23" data-target-annotation="19" onclick="event.preventDefault();">19</a><span id="annotated-cell-23-2" class="code-annotation-target"><a href="#annotated-cell-23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ceiling</span>(<span class="fl">123.456</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-23" data-target-annotation="18">18</dt>
<dd>
<span data-code-lines="1" data-code-cell="annotated-cell-23" data-code-annotation="18">Always rounds down.</span>
</dd>
<dt data-target-cell="annotated-cell-23" data-target-annotation="19">19</dt>
<dd>
<span data-code-lines="2" data-code-cell="annotated-cell-23" data-code-annotation="19">Always rounds up.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 123
&gt; [1] 124</code></pre>
</div>
</div>
</section>
<section id="summary-functions" class="level2">
<h2 class="anchored" data-anchor-id="summary-functions">Summary Functions</h2>
<p>. . .</p>
<p><strong>Central Tendency</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-24"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-24" data-target-annotation="20" onclick="event.preventDefault();">20</a><span id="annotated-cell-24-1" class="code-annotation-target"><a href="#annotated-cell-24-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">500</span>, <span class="at">size =</span> <span class="dv">100</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="annotated-cell-24-2"><a href="#annotated-cell-24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(x)</span>
<span id="annotated-cell-24-3"><a href="#annotated-cell-24-3" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(x)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-24" data-target-annotation="21" onclick="event.preventDefault();">21</a><span id="annotated-cell-24-4" class="code-annotation-target"><a href="#annotated-cell-24-4" aria-hidden="true" tabindex="-1"></a><span class="fu">quantile</span>(x, .<span class="dv">95</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-24" data-target-annotation="20">20</dt>
<dd>
<span data-code-lines="1" data-code-cell="annotated-cell-24" data-code-annotation="20"><code>sample()</code> takes a vector of data, and samples <code>size</code> elements from it, with replacement if <code>replace</code> equals <code>TRUE</code>.</span>
</dd>
<dt data-target-cell="annotated-cell-24" data-target-annotation="21">21</dt>
<dd>
<span data-code-lines="4" data-code-cell="annotated-cell-24" data-code-annotation="21">A generalization of the median: <code>quantile(x, 0.95)</code> will find the value that’s greater than 95% of the values; <code>quantile(x, 0.5)</code> is equivalent to the median.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 253.72
&gt; [1] 248
&gt;   95% 
&gt; 483.3</code></pre>
</div>
</div>
</section>
<section id="summary-functions-1" class="level2">
<h2 class="anchored" data-anchor-id="summary-functions-1">Summary Functions</h2>
<p><strong>Measures of Spread/Variation</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 10</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 496</code></pre>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">range</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1]  10 496</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-28"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-28" data-target-annotation="22" onclick="event.preventDefault();">22</a><span id="annotated-cell-28-1" class="code-annotation-target"><a href="#annotated-cell-28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">IQR</span>(x)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-28" data-target-annotation="22">22</dt>
<dd>
<span data-code-lines="1" data-code-cell="annotated-cell-28" data-code-annotation="22">Equivalent to <code>quantile(x, 0.75) - quantile(x, 0.25)</code> and gives you the range that contains the middle 50% of the data.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 228.5</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-29"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-29" data-target-annotation="23" onclick="event.preventDefault();">23</a><span id="annotated-cell-29-1" class="code-annotation-target"><a href="#annotated-cell-29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">var</span>(x)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-29" data-target-annotation="23">23</dt>
<dd>
<span data-code-lines="1" data-code-cell="annotated-cell-29" data-code-annotation="23"><span class="math display">\[s^2 = \frac{\sum(x_i-\overline{x})^2}{n-1}\]</span></span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 20120.95</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-30"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="24" onclick="event.preventDefault();">24</a><span id="annotated-cell-30-1" class="code-annotation-target"><a href="#annotated-cell-30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(x)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-30" data-target-annotation="24">24</dt>
<dd>
<span data-code-lines="1" data-code-cell="annotated-cell-30" data-code-annotation="24"><span class="math display">\[s = \sqrt{\frac{\sum(x_i-\overline{x})^2}{n-1}}\]</span></span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 141.8483</code></pre>
</div>
</div>
</section>
<section id="summary-functions-2" class="level2">
<h2 class="anchored" data-anchor-id="summary-functions-2">Summary Functions</h2>
<p><strong>Positions</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">first</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 426</code></pre>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">last</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 417</code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nth</span>(x, <span class="at">n =</span> <span class="dv">77</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 223</code></pre>
</div>
</div>
</section>
<section id="common-numerical-manipulations" class="level2">
<h2 class="anchored" data-anchor-id="common-numerical-manipulations">Common Numerical Manipulations</h2>
<p>These formulas can be used in a summary call but are also useful with <code>mutate()</code>, particularly if being applied to grouped data.</p>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-34"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="19" onclick="event.preventDefault();">19</a><span id="annotated-cell-34-1" class="code-annotation-target"><a href="#annotated-cell-34-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">/</span> <span class="fu">sum</span>(x)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="20" onclick="event.preventDefault();">20</a><span id="annotated-cell-34-2" class="code-annotation-target"><a href="#annotated-cell-34-2" aria-hidden="true" tabindex="-1"></a>(x <span class="sc">-</span> <span class="fu">mean</span>(x)) <span class="sc">/</span> <span class="fu">sd</span>(x)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="21" onclick="event.preventDefault();">21</a><span id="annotated-cell-34-3" class="code-annotation-target"><a href="#annotated-cell-34-3" aria-hidden="true" tabindex="-1"></a>(x <span class="sc">-</span> <span class="fu">min</span>(x)) <span class="sc">/</span> (<span class="fu">max</span>(x) <span class="sc">-</span> <span class="fu">min</span>(x))</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="22" onclick="event.preventDefault();">22</a><span id="annotated-cell-34-4" class="code-annotation-target"><a href="#annotated-cell-34-4" aria-hidden="true" tabindex="-1"></a>x <span class="sc">/</span> <span class="fu">first</span>(x)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-34" data-target-annotation="19">19</dt>
<dd>
<span data-code-lines="1" data-code-cell="annotated-cell-34" data-code-annotation="19">Calculates the proportion of a total.</span>
</dd>
<dt data-target-cell="annotated-cell-34" data-target-annotation="20">20</dt>
<dd>
<span data-code-lines="2" data-code-cell="annotated-cell-34" data-code-annotation="20">Computes a Z-score (standardized to mean 0 and sd 1).</span>
</dd>
<dt data-target-cell="annotated-cell-34" data-target-annotation="21">21</dt>
<dd>
<span data-code-lines="3" data-code-cell="annotated-cell-34" data-code-annotation="21">Standardizes to range [0, 1].</span>
</dd>
<dt data-target-cell="annotated-cell-34" data-target-annotation="22">22</dt>
<dd>
<span data-code-lines="4" data-code-cell="annotated-cell-34" data-code-annotation="22">Computes an index based on the first observation.</span>
</dd>
</dl>
</div>
</div>
</section>
</section>
<section id="missing-values" class="level1 section-title page-columns page-full" data-background-color="#99a486">
<h1 class="section-title" data-background-color="#99a486">Missing Values</h1>
<section id="explicit-missing-values" class="level2">
<h2 class="anchored" data-anchor-id="explicit-missing-values">Explicit Missing Values</h2>
<p>. . .</p>
<blockquote class="blockquote">
<p><em>An explicit missing value is the presence of an absence.</em></p>
</blockquote>
<p>. . .</p>
<p>In other words, an explicit missing value is one in which you see an <code>NA</code>.</p>
<p>. . .</p>
<p>Depending on the reason for its missingness, there are different ways to deal with <code>NA</code>s.</p>
<p>. . .</p>
<p><strong>Data Entry Shorthand</strong></p>
<p>If your data were entered by hand and <code>NA</code>s merely represent a value being carried forward from the last entry then you can use <code>fill()</code> to help complete your data.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>treatment <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>person,           <span class="sc">~</span>treatment, <span class="sc">~</span>response,</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Derrick Whitmore"</span>, <span class="dv">1</span>,         <span class="dv">7</span>,</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>  <span class="cn">NA</span>,                 <span class="dv">2</span>,         <span class="dv">10</span>,</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Katherine Burke"</span>,  <span class="dv">3</span>,         <span class="cn">NA</span>,</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>  <span class="cn">NA</span>,                 <span class="dv">1</span>,         <span class="dv">4</span></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-1"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-1-1"><a href="#annotated-cell-1-1" aria-hidden="true" tabindex="-1"></a>treatment <span class="sc">|&gt;</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-1" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-1-2" class="code-annotation-target"><a href="#annotated-cell-1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fill</span>(<span class="fu">everything</span>())</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-1" data-target-annotation="1">1</dt>
<dd>
<span data-code-lines="2" data-code-cell="annotated-cell-1" data-code-annotation="1"><code>fill()</code> takes one or more variables (in this case <code>everything()</code>, which means all variables), and by default fills them in downwards. If you have a different issue you can change the <code>.direction</code> argument to <code>"up"</code>,<code>"downup"</code>, or <code>"updown"</code>.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; # A tibble: 4 × 3
&gt;   person           treatment response
&gt;   &lt;chr&gt;                &lt;dbl&gt;    &lt;dbl&gt;
&gt; 1 Derrick Whitmore         1        7
&gt; 2 Derrick Whitmore         2       10
&gt; 3 Katherine Burke          3       10
&gt; 4 Katherine Burke          1        4</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="explicit-missing-values-1" class="level2">
<h2 class="anchored" data-anchor-id="explicit-missing-values-1">Explicit Missing Values</h2>
<p>Other times an <code>NA</code> represents some fixed value, usually <code>0</code>.</p>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-35"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-35-1"><a href="#annotated-cell-35-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="cn">NA</span>)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-35" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-35-2" class="code-annotation-target"><a href="#annotated-cell-35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">coalesce</span>(x, <span class="dv">0</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-35" data-target-annotation="2">2</dt>
<dd>
<span data-code-lines="2" data-code-cell="annotated-cell-35" data-code-annotation="2"><code>coalesce()</code> in the <code>dplyr</code> package takes a vector as the first argument and will replace any missing values with the value provided in the second argument.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 1 4 5 7 0</code></pre>
</div>
</div>
<p>. . .</p>
<p><br></p>
<p>If the opposite issue occurs (i.e.&nbsp;a value is actually an <code>NA</code>), try specifying that to the <code>na</code> argument of your <code>readr</code> data import function. Otherwise, use <code>na_if()</code> from <code>dplyr</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="sc">-</span><span class="dv">99</span>)</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="fu">na_if</span>(x, <span class="sc">-</span><span class="dv">99</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1]  1  4  5  7 NA</code></pre>
</div>
</div>
</section>
<section id="explicit-missing-values-2" class="level2">
<h2 class="anchored" data-anchor-id="explicit-missing-values-2">Explicit Missing Values</h2>
<p><strong><code>NaN</code>s</strong></p>
<p>A special sub-type of missing value is an <code>NaN</code>, or <code>N</code>ot <code>a</code> <code>N</code>umber.</p>
<p>. . .</p>
<p>These generally behave similar to <code>NA</code>s and are likely the result of a mathematical operation that has an indeterminate result:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span> <span class="sc">/</span> <span class="dv">0</span> </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] NaN</code></pre>
</div>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span> <span class="sc">*</span> <span class="cn">Inf</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] NaN</code></pre>
</div>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="cn">Inf</span> <span class="sc">-</span> <span class="cn">Inf</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] NaN</code></pre>
</div>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="sc">-</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] NaN</code></pre>
</div>
</div>
<p>. . .</p>
<p>If you need to explicitly identify an <code>NaN</code> you can use <code>is.nan()</code>.</p>
</section>
<section id="implicit-nas" class="level2">
<h2 class="anchored" data-anchor-id="implicit-nas">Implicit <code>NA</code>s</h2>
<blockquote class="blockquote">
<p><em>An implicit missing value is the absence of a presence.</em></p>
</blockquote>
<p>. . .</p>
<p>We’ve seen a couple of ways that implicit <code>NA</code>s can be made implicit in previous lectures: <code>pivoting</code> and <code>joining</code>.</p>
<p>. . .</p>
<p>. . .</p>
<p>For example, if we <em>really</em> look at the dataset below, we can see that there are missing values that don’t appear as <code>NA</code> merely due to the current structure of the data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>stocks</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; # A tibble: 7 × 3
&gt;    year   qtr price
&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
&gt; 1  2020     1  1.88
&gt; 2  2020     2  0.59
&gt; 3  2020     3  0.35
&gt; 4  2020     4  0.89
&gt; 5  2021     2  0.34
&gt; 6  2021     3  0.17
&gt; 7  2021     4  2.66</code></pre>
</div>
</div>
</section>
<section id="implicit-nas-1" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="implicit-nas-1">Implicit <code>NA</code>s</h2>
<p><code>tidyr::complete()</code> allows you to generate explicit missing values by providing a set of variables that define the combination of rows that should exist.</p>
<div class="columns">
<div class="column" style="width:35%;">
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>stocks <span class="sc">|&gt;</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">complete</span>(year, qtr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; # A tibble: 8 × 3
&gt;    year   qtr price
&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
&gt; 1  2020     1  1.88
&gt; 2  2020     2  0.59
&gt; 3  2020     3  0.35
&gt; 4  2020     4  0.89
&gt; 5  2021     1 NA   
&gt; 6  2021     2  0.34
&gt; 7  2021     3  0.17
&gt; 8  2021     4  2.66</code></pre>
</div>
</div>
</div>
</div><div class="column" style="width:65%;">
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>stocks <span class="sc">|&gt;</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">complete</span>(year, qtr, <span class="at">fill =</span> <span class="fu">list</span>(<span class="at">price =</span> <span class="fl">0.93</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; # A tibble: 8 × 3
&gt;    year   qtr price
&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
&gt; 1  2020     1  1.88
&gt; 2  2020     2  0.59
&gt; 3  2020     3  0.35
&gt; 4  2020     4  0.89
&gt; 5  2021     1  0.93
&gt; 6  2021     2  0.34
&gt; 7  2021     3  0.17
&gt; 8  2021     4  2.66</code></pre>
</div>
</div>
</div>
</div>
</div>

<div class="no-row-height column-margin column-container"><div class="">
<p>The <code>fill</code> argument of <code>complete</code> only allows you to supply 1 value per variable. If you have more than one value to fill, using <code>complete</code> to create the data structure you need, and <code>case_when</code> to replace <code>NA</code>s would be the most straightforward approach.</p>
</div></div></section>
<section id="missing-factor-levels" class="level2">
<h2 class="anchored" data-anchor-id="missing-factor-levels">Missing Factor Levels</h2>
<p>. . .</p>
<p>The last type of missingness is a theoretical level of a factor that doesn’t have any observations.</p>
<p>. . .</p>
<p>For instance, we have this <code>health</code> dataset and we’re interested in smokers:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>health</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; # A tibble: 5 × 3
&gt;   name    smoker   age
&gt;   &lt;chr&gt;   &lt;fct&gt;  &lt;dbl&gt;
&gt; 1 Ikaia   no        34
&gt; 2 Oletta  no        88
&gt; 3 Leriah  no        75
&gt; 4 Dashay  no        47
&gt; 5 Tresaun no        56</code></pre>
</div>
</div>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-43"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-43" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-43-1" class="code-annotation-target"><a href="#annotated-cell-43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(health<span class="sc">$</span>smoker)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-43" data-target-annotation="3">3</dt>
<dd>
<span data-code-lines="1" data-code-cell="annotated-cell-43" data-code-annotation="3">This dataset only contains non-smokers, but we know that smokers exist; the group of smokers is simply empty.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] "yes" "no"</code></pre>
</div>
</div>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-44"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-44" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-44-1" class="code-annotation-target"><a href="#annotated-cell-44-1" aria-hidden="true" tabindex="-1"></a>health <span class="sc">|&gt;</span> <span class="fu">count</span>(smoker, <span class="at">.drop =</span> <span class="cn">FALSE</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-44" data-target-annotation="4">4</dt>
<dd>
<span data-code-lines="1" data-code-cell="annotated-cell-44" data-code-annotation="4">We can request <code>count()</code> to keep all the groups, even those not seen in the data by using <code>.drop = FALSE</code>.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; # A tibble: 2 × 2
&gt;   smoker     n
&gt;   &lt;fct&gt;  &lt;int&gt;
&gt; 1 yes        0
&gt; 2 no         5</code></pre>
</div>
</div>
</section>
<section id="missing-factors-in-plots" class="level2">
<h2 class="anchored" data-anchor-id="missing-factors-in-plots">Missing Factors in Plots</h2>
<p>This sample principle applies when visualizing a factor variable, which will automatically drop levels that don’t have any values. Use <code>drop_values = FALSE</code> in the appropriate scale to display implicit <code>NA</code>s.</p>
<p>. . .</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1"></a><span class="fu">ggplot</span>(health, <span class="fu">aes</span>(<span class="at">x =</span> smoker)) <span class="sc">+</span></span>
<span id="cb79-2"><a href="#cb79-2"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb79-3"><a href="#cb79-3"></a>  <span class="fu">scale_x_discrete</span>() <span class="sc">+</span> </span>
<span id="cb79-4"><a href="#cb79-4"></a>  <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">22</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="CSSS508_Lecture6_files/figure-html/unnamed-chunk-44-1.svg" class="img-fluid"></p>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1"></a><span class="fu">ggplot</span>(health, <span class="fu">aes</span>(<span class="at">x =</span> smoker)) <span class="sc">+</span></span>
<span id="cb80-2"><a href="#cb80-2"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb80-3"><a href="#cb80-3"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">drop =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb80-4"><a href="#cb80-4"></a>  <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">22</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="CSSS508_Lecture6_files/figure-html/unnamed-chunk-45-1.svg" class="img-fluid"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="testing-data-types" class="level2">
<h2 class="anchored" data-anchor-id="testing-data-types">Testing Data Types</h2>
<p>There are also functions to <strong>test</strong> for certain data types:</p>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.numeric</span>(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.character</span>(<span class="st">"A"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.logical</span>(<span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.infinite</span>(<span class="sc">-</span><span class="cn">Inf</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.na</span>(<span class="cn">NA</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">is.nan</span>(<span class="cn">NaN</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] TRUE</code></pre>
</div>
</div>
</section>
</section>
<section id="vectors" class="level1 section-title" data-background-color="#99a486">
<h1 class="section-title" data-background-color="#99a486">Vectors</h1>
<section id="making-vectors" class="level2">
<h2 class="anchored" data-anchor-id="making-vectors">Making Vectors</h2>
<p>In R, we call a set of values of the same type a <strong>vector</strong>. We can create vectors using the <code>c()</code> function (“c” for <code>c</code>ombine or <code>c</code>oncatenate).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">7</span>, <span class="sc">-</span><span class="fl">0.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1]  1.0  3.0  7.0 -0.5</code></pre>
</div>
</div>
<p>. . .</p>
<p>Vectors have one dimension: <strong>length</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">7</span>, <span class="sc">-</span><span class="fl">0.5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 4</code></pre>
</div>
</div>
<p>. . .</p>
<p>All elements of a vector are the same type (e.g.&nbsp;numeric or character)!</p>
<p>. . .</p>
<p>Character data is the lowest denomination so anything mixed with it will be converted to a character.</p>
</section>
<section id="generating-numeric-vectors" class="level2">
<h2 class="anchored" data-anchor-id="generating-numeric-vectors">Generating Numeric Vectors</h2>
<p>There are shortcuts for generating numeric vectors:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt;  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
</div>
</div>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-54"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-54" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-54-1" class="code-annotation-target"><a href="#annotated-cell-54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">seq</span>(<span class="sc">-</span><span class="dv">3</span>, <span class="dv">6</span>, <span class="at">by =</span> <span class="fl">1.75</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-54" data-target-annotation="1">1</dt>
<dd>
<span data-code-lines="1" data-code-cell="annotated-cell-54" data-code-annotation="1">Sequence from -3 to 6, increments of 1.75</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] -3.00 -1.25  0.50  2.25  4.00  5.75</code></pre>
</div>
</div>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-55"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-55" data-target-annotation="2" onclick="event.preventDefault();">2</a><span id="annotated-cell-55-1" class="code-annotation-target"><a href="#annotated-cell-55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="at">times =</span> <span class="dv">3</span>)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-55" data-target-annotation="3" onclick="event.preventDefault();">3</a><span id="annotated-cell-55-2" class="code-annotation-target"><a href="#annotated-cell-55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="at">each =</span> <span class="dv">3</span>)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-55" data-target-annotation="4" onclick="event.preventDefault();">4</a><span id="annotated-cell-55-3" class="code-annotation-target"><a href="#annotated-cell-55-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rep</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="at">length.out =</span> <span class="dv">3</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-55" data-target-annotation="2">2</dt>
<dd>
<span data-code-lines="1" data-code-cell="annotated-cell-55" data-code-annotation="2">Repeat <code>c(0, 1)</code> 3 times.</span>
</dd>
<dt data-target-cell="annotated-cell-55" data-target-annotation="3">3</dt>
<dd>
<span data-code-lines="2" data-code-cell="annotated-cell-55" data-code-annotation="3">Repeat each element 3 times.</span>
</dd>
<dt data-target-cell="annotated-cell-55" data-target-annotation="4">4</dt>
<dd>
<span data-code-lines="3" data-code-cell="annotated-cell-55" data-code-annotation="4">Repeat <code>c(0, 1)</code> until the length of the final vector is 3.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 0 1 0 1 0 1
&gt; [1] 0 0 0 1 1 1
&gt; [1] 0 1 0</code></pre>
</div>
</div>
<p>. . .</p>
<p>You can also assign values to a vector using Base <code>R</code> indexing rules.</p>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">2</span>, <span class="dv">9</span>, <span class="dv">5</span>)</span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>x[<span class="dv">6</span>] <span class="ot">&lt;-</span> <span class="dv">8</span></span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 3 6 2 9 5 8</code></pre>
</div>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">7</span>, <span class="dv">8</span>)] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">9</span>, <span class="dv">9</span>)</span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 3 6 2 9 5 8 9 9</code></pre>
</div>
</div>
</section>
<section id="element-wise-vector-math" class="level2">
<h2 class="anchored" data-anchor-id="element-wise-vector-math">Element-wise Vector Math</h2>
<p>When doing arithmetic operations on vectors, R handles these <em>element-wise</em>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-58"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-58-1"><a href="#annotated-cell-58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>) <span class="sc">+</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-58" data-target-annotation="5" onclick="event.preventDefault();">5</a><span id="annotated-cell-58-2" class="code-annotation-target"><a href="#annotated-cell-58-2" aria-hidden="true" tabindex="-1"></a><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)<span class="sc">^</span><span class="dv">3</span></span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-58" data-target-annotation="5">5</dt>
<dd>
<span data-code-lines="2" data-code-cell="annotated-cell-58" data-code-annotation="5">Exponentiation is carried out using the <code>^</code> operator.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 5 7 9
&gt; [1]  1  8 27 64</code></pre>
</div>
</div>
<p>. . .</p>
<p>Other common operations: <code>*</code>, <code>/</code>, <code>exp()</code> = <span class="math inline">\(e^x\)</span>, <code>log()</code> = <span class="math inline">\(\log_e(x)\)</span></p>
</section>
<section id="recycling-rules" class="level2">
<h2 class="anchored" data-anchor-id="recycling-rules">Recycling Rules</h2>
<p><code>R</code> handles mismatched lengths of vectors by recycling, or repeating, the short vector.</p>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-59"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-59-1"><a href="#annotated-cell-59-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">10</span>, <span class="dv">20</span>)</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-59" data-target-annotation="6" onclick="event.preventDefault();">6</a><span id="annotated-cell-59-2" class="code-annotation-target"><a href="#annotated-cell-59-2" aria-hidden="true" tabindex="-1"></a>x <span class="sc">/</span> <span class="dv">5</span></span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-59" data-target-annotation="6">6</dt>
<dd>
<span data-code-lines="2" data-code-cell="annotated-cell-59" data-code-annotation="6">This is shorthand for: <code>x / c(5, 5, 5, 5)</code></span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 0.2 0.4 2.0 4.0</code></pre>
</div>
</div>
<p>. . .</p>
<p>You generally only want to recycle scalars, or vectors the length 1. Technically, however, <code>R</code> will recycle any vector that’s shorter in length (and it <em>won’t always</em> give you a warning if the shorter vector is not a multiple of the longer vector).</p>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">*</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1]  1  4 10 40</code></pre>
</div>
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">*</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>&gt; Warning in x * c(1, 2, 3): longer object length is not a multiple of shorter
&gt; object length</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1]  1  4 30 20</code></pre>
</div>
</div>
</section>
<section id="recycling-with-logicals" class="level2">
<h2 class="anchored" data-anchor-id="recycling-with-logicals">Recycling with Logicals</h2>
<p>The same rules apply to logical operations which can lead to unexpected results <em>without warning</em>.</p>
<p>. . .</p>
<p>For example, take this code which attempts to find all flights in January and February:</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-62"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-62-1"><a href="#annotated-cell-62-1" aria-hidden="true" tabindex="-1"></a>flights <span class="sc">|&gt;</span> </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-62" data-target-annotation="7" onclick="event.preventDefault();">7</a><span id="annotated-cell-62-2" class="code-annotation-target"><a href="#annotated-cell-62-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(month <span class="sc">==</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)) <span class="sc">|&gt;</span></span>
<span id="annotated-cell-62-3"><a href="#annotated-cell-62-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">5</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-62" data-target-annotation="7">7</dt>
<dd>
<span data-code-lines="2" data-code-cell="annotated-cell-62" data-code-annotation="7">A common mistake is to mix up <code>==</code> with <code>%in%</code>. This code will actually find flights in odd numbered rows that departed in January and flights in even numbered rows that departed in February. Unfortunately there’s no warning because <code>flights</code> has an even number of rows.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; # A tibble: 5 × 19
&gt;    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
&gt;   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
&gt; 1  2013     1     1      517            515         2      830            819
&gt; 2  2013     1     1      542            540         2      923            850
&gt; 3  2013     1     1      554            600        -6      812            837
&gt; 4  2013     1     1      555            600        -5      913            854
&gt; 5  2013     1     1      557            600        -3      838            846
&gt; # ℹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
&gt; #   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
&gt; #   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
</div>
</div>
<p>. . .</p>
<p>To protect you from this type of silent failure, most tidyverse functions use a stricter form of recycling that only recycles single values. However, when using base <code>R</code> functions like <code>==</code>, this protection is not built in.</p>
</section>
<section id="example-standardizing-data" class="level2">
<h2 class="anchored" data-anchor-id="example-standardizing-data">Example: Standardizing Data</h2>
<p>Let’s say we had some test scores and we wanted to put these on a standardized scale:</p>
<p><span class="math display">\[z_i = \frac{x_i - \text{mean}(x)}{\text{SD}(x)}\]</span></p>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">97</span>, <span class="dv">68</span>, <span class="dv">75</span>, <span class="dv">77</span>, <span class="dv">69</span>, <span class="dv">81</span>)</span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> (x <span class="sc">-</span> <span class="fu">mean</span>(x)) <span class="sc">/</span> <span class="fu">sd</span>(x)</span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(z, <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1]  1.81 -0.93 -0.27 -0.08 -0.83  0.30</code></pre>
</div>
</div>
</section>
<section id="math-with-missing-values" class="level2">
<h2 class="anchored" data-anchor-id="math-with-missing-values">Math with Missing Values</h2>
<p>Even one <code>NA</code> “poisons the well”: You’ll get <code>NA</code> out of your calculations unless you add the extra argument <code>na.rm = TRUE</code> (available in some functions):</p>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>vector_w_missing <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="cn">NA</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="cn">NA</span>)</span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(vector_w_missing)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(vector_w_missing, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 3.6</code></pre>
</div>
</div>
</section>
<section id="subsetting-vectors" class="level2">
<h2 class="anchored" data-anchor-id="subsetting-vectors">Subsetting Vectors</h2>
<p>Recall, we can <strong>subset</strong> a vector in a number of ways:</p>
<ul>
<li>Passing a single index or vector of entries to <strong>keep</strong>:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>first_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Andre"</span>, <span class="st">"Brady"</span>, <span class="st">"Cecilia"</span>, <span class="st">"Danni"</span>, <span class="st">"Edgar"</span>, <span class="st">"Francie"</span>)</span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>first_names[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] "Andre" "Brady"</code></pre>
</div>
</div>
<p>. . .</p>
<ul>
<li>Passing a single index or vector of entries to <strong>drop</strong>:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>first_names[<span class="sc">-</span><span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] "Andre"   "Brady"   "Danni"   "Edgar"   "Francie"</code></pre>
</div>
</div>
<p>. . .</p>
<ul>
<li>Passing a <strong>logical condition</strong>:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-68"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-68" data-target-annotation="8" onclick="event.preventDefault();">8</a><span id="annotated-cell-68-1" class="code-annotation-target"><a href="#annotated-cell-68-1" aria-hidden="true" tabindex="-1"></a>first_names[<span class="fu">nchar</span>(first_names) <span class="sc">==</span> <span class="dv">7</span>]</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-68" data-target-annotation="8">8</dt>
<dd>
<span data-code-lines="1" data-code-cell="annotated-cell-68" data-code-annotation="8"><code>nchar()</code> counts the number of characters in a character string.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] "Cecilia" "Francie"</code></pre>
</div>
</div>
<p>. . .</p>
<ul>
<li>Passing a <strong>named vector</strong>:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>pet_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">dog =</span> <span class="st">"Lemon"</span>, <span class="at">cat =</span> <span class="st">"Seamus"</span>)</span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a>pet_names[<span class="st">"cat"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt;      cat 
&gt; "Seamus"</code></pre>
</div>
</div>
</section>
</section>
<section id="matrices" class="level1 section-title page-columns page-full" data-background-color="#99a486">
<h1 class="section-title" data-background-color="#99a486">Matrices</h1>
<section id="matrices-two-dimensions" class="level2">
<h2 class="anchored" data-anchor-id="matrices-two-dimensions">Matrices: Two Dimensions</h2>
<p><strong>Matrices</strong> extend vectors to two <strong>dimensions</strong>: <strong>rows</strong> and <strong>columns</strong>. We can construct them directly using <code>matrix()</code>.</p>
<p>. . .</p>
<p>R fills in a matrix column-by-column (<strong>not</strong> row-by-row!)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a>a_matrix <span class="ot">&lt;-</span> <span class="fu">matrix</span>(first_names, <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a>a_matrix</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt;      [,1]    [,2]      [,3]     
&gt; [1,] "Andre" "Cecilia" "Edgar"  
&gt; [2,] "Brady" "Danni"   "Francie"</code></pre>
</div>
</div>
<p>. . .</p>
<p>Similar to vectors, you can make assignments using Base <code>R</code> indexing methods.</p>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a>a_matrix[<span class="dv">1</span>, <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Hakim"</span>, <span class="st">"Tony"</span>, <span class="st">"Eduardo"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>. . .</p>
<p>However, you can’t add rows or columns to a matrix in this way. You can only reassign already-existing cell values.</p>
</section>
<section id="binding-vectors" class="level2">
<h2 class="anchored" data-anchor-id="binding-vectors">Binding Vectors</h2>
<p>We can also make matrices by <em>binding</em> vectors together with <code>rbind()</code> (<code>r</code>ow <code>bind</code>) and <code>cbind()</code> (<code>c</code>olumn <code>bind</code>).</p>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a>b_matrix <span class="ot">&lt;-</span> <span class="fu">rbind</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>))</span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a>b_matrix</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt;      [,1] [,2] [,3]
&gt; [1,]    1    2    3
&gt; [2,]    4    5    6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>c_matrix <span class="ot">&lt;-</span> <span class="fu">cbind</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>), <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">6</span>))</span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a>c_matrix</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt;      [,1] [,2] [,3]
&gt; [1,]    1    3    5
&gt; [2,]    2    4    6</code></pre>
</div>
</div>
</section>
<section id="subsetting-matrices" class="level2">
<h2 class="anchored" data-anchor-id="subsetting-matrices">Subsetting Matrices</h2>
<p>We subset matrices using the same methods as with vectors, except we index them with <code>[rows, columns]</code><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>a_matrix</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt;      [,1]    [,2]    [,3]     
&gt; [1,] "Hakim" "Tony"  "Eduardo"
&gt; [2,] "Brady" "Danni" "Francie"</code></pre>
</div>
</div>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-75"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-75" data-target-annotation="9" onclick="event.preventDefault();">9</a><span id="annotated-cell-75-1" class="code-annotation-target"><a href="#annotated-cell-75-1" aria-hidden="true" tabindex="-1"></a>a_matrix[<span class="dv">1</span>, <span class="dv">2</span>]</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-75" data-target-annotation="10" onclick="event.preventDefault();">10</a><span id="annotated-cell-75-2" class="code-annotation-target"><a href="#annotated-cell-75-2" aria-hidden="true" tabindex="-1"></a>a_matrix[<span class="dv">1</span>, <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>)]</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-75" data-target-annotation="9">9</dt>
<dd>
<span data-code-lines="1" data-code-cell="annotated-cell-75" data-code-annotation="9">Row 1, Column 2.</span>
</dd>
<dt data-target-cell="annotated-cell-75" data-target-annotation="10">10</dt>
<dd>
<span data-code-lines="2" data-code-cell="annotated-cell-75" data-code-annotation="10">Row 1, Columns 2 and 3.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] "Tony"
&gt; [1] "Tony"    "Eduardo"</code></pre>
</div>
</div>
<p>. . .</p>
<p>We can obtain the dimensions of a matrix using <code>dim()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(a_matrix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 2 3</code></pre>
</div>
</div>
</section>
<section id="matrices-becoming-vectors" class="level2">
<h2 class="anchored" data-anchor-id="matrices-becoming-vectors">Matrices Becoming Vectors</h2>
<p>If a matrix ends up having just one row or column after subsetting, by default R will make it into a vector.</p>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>a_matrix[, <span class="dv">1</span>] </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] "Hakim" "Brady"</code></pre>
</div>
</div>
<p>. . .</p>
<p>You can prevent this behavior using <code>drop = FALSE</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a>a_matrix[, <span class="dv">1</span>, drop <span class="ot">=</span> <span class="cn">FALSE</span>] </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt;      [,1]   
&gt; [1,] "Hakim"
&gt; [2,] "Brady"</code></pre>
</div>
</div>
</section>
<section id="matrix-data-type-warning" class="level2">
<h2 class="anchored" data-anchor-id="matrix-data-type-warning">Matrix Data Type Warning</h2>
<p>Matrices can contain numeric, integer, factor, character, or logical. But just like vectors, <em>all elements must be the same data type</em>.</p>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a>bad_matrix <span class="ot">&lt;-</span> <span class="fu">cbind</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="fu">c</span>(<span class="st">"Victoria"</span>, <span class="st">"Sass"</span>))</span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a>bad_matrix</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt;      [,1] [,2]      
&gt; [1,] "1"  "Victoria"
&gt; [2,] "2"  "Sass"</code></pre>
</div>
</div>
<p>. . .</p>
<p>In this case, everything was converted to characters!</p>
</section>
<section id="matrix-dimension-names" class="level2">
<h2 class="anchored" data-anchor-id="matrix-dimension-names">Matrix Dimension Names</h2>
<p>We can access dimension names or name them ourselves:</p>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-80"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-80-1"><a href="#annotated-cell-80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(bad_matrix) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"First"</span>, <span class="st">"Last"</span>)</span>
<span id="annotated-cell-80-2"><a href="#annotated-cell-80-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(bad_matrix) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Number"</span>, <span class="st">"Name"</span>)</span>
<span id="annotated-cell-80-3"><a href="#annotated-cell-80-3" aria-hidden="true" tabindex="-1"></a>bad_matrix</span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-80" data-target-annotation="11" onclick="event.preventDefault();">11</a><span id="annotated-cell-80-4" class="code-annotation-target"><a href="#annotated-cell-80-4" aria-hidden="true" tabindex="-1"></a>bad_matrix[ ,<span class="st">"Name"</span>, drop <span class="ot">=</span> <span class="cn">FALSE</span>]</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-80" data-target-annotation="11">11</dt>
<dd>
<span data-code-lines="4" data-code-cell="annotated-cell-80" data-code-annotation="11"><code>drop = FALSE</code> maintains the matrix structure; when <code>drop = TRUE</code> (the default) it will be converted to a vector.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt;       Number Name      
&gt; First "1"    "Victoria"
&gt; Last  "2"    "Sass"    
&gt;       Name      
&gt; First "Victoria"
&gt; Last  "Sass"</code></pre>
</div>
</div>
</section>
<section id="matrix-arithmetic" class="level2">
<h2 class="anchored" data-anchor-id="matrix-arithmetic">Matrix Arithmetic</h2>
<p>Matrices of the same dimensions can have math performed element-wise with the usual arithmetic operators:</p>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>),<span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">/</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">1</span>),<span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt;      [,1] [,2]
&gt; [1,]    1    2
&gt; [2,]    4    8</code></pre>
</div>
</div>
</section>
<section id="proper-matrix-math" class="level2">
<h2 class="anchored" data-anchor-id="proper-matrix-math">“Proper” Matrix Math</h2>
<p>To do matrix transpositions, use <code>t()</code>.</p>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>c_matrix</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt;      [,1] [,2] [,3]
&gt; [1,]    1    3    5
&gt; [2,]    2    4    6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a>e_matrix <span class="ot">&lt;-</span> <span class="fu">t</span>(c_matrix)</span>
<span id="cb149-2"><a href="#cb149-2" aria-hidden="true" tabindex="-1"></a>e_matrix</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt;      [,1] [,2]
&gt; [1,]    1    2
&gt; [2,]    3    4
&gt; [3,]    5    6</code></pre>
</div>
</div>
<p>. . .</p>
<p>To do actual matrix multiplication<sup>1</sup> (not element-wise), use <code>%*%</code>.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a>f_matrix <span class="ot">&lt;-</span> c_matrix <span class="sc">%*%</span> e_matrix </span>
<span id="cb151-2"><a href="#cb151-2" aria-hidden="true" tabindex="-1"></a>f_matrix</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt;      [,1] [,2]
&gt; [1,]   35   44
&gt; [2,]   44   56</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/multiply_matrices.gif" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">1.</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="proper-matrix-math-1" class="level2">
<h2 class="anchored" data-anchor-id="proper-matrix-math-1">“Proper” Matrix Math</h2>
<p>To invert an invertible square matrix<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>, use <code>solve()</code>.</p>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a>g_matrix <span class="ot">&lt;-</span> <span class="fu">solve</span>(f_matrix)</span>
<span id="cb153-2"><a href="#cb153-2" aria-hidden="true" tabindex="-1"></a>g_matrix</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt;           [,1]      [,2]
&gt; [1,]  2.333333 -1.833333
&gt; [2,] -1.833333  1.458333</code></pre>
</div>
</div>
</section>
<section id="matrices-vs.-data.frames-and-tibbles" class="level2">
<h2 class="anchored" data-anchor-id="matrices-vs.-data.frames-and-tibbles">Matrices vs.&nbsp;Data.frames and Tibbles</h2>
<p>All of these structures display data in two dimensions</p>
<p>. . .</p>
<div class="columns">
<div class="column" style="width:33%;">
<ul>
<li><p><code>matrix</code></p>
<ul>
<li>Base <code>R</code></li>
<li>Single data type allowed</li>
</ul></li>
</ul>
</div><div class="column" style="width:34%;">
<ul>
<li><p><code>data.frame</code></p>
<ul>
<li>Base <code>R</code></li>
<li>Stores multiple data types</li>
<li>Default for data storage</li>
</ul></li>
</ul>
</div><div class="column" style="width:33%;">
<ul>
<li><p><code>tibbles</code></p>
<ul>
<li><code>tidyverse</code></li>
<li>Stores multiple data types</li>
<li>Displays nicely</li>
</ul></li>
</ul>
</div>
</div>
<p>. . .</p>
<p>In practice, <code>data.frames</code> and <code>tibbles</code> are very similar!</p>
</section>
<section id="creating-data.frames-or-tibbles" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="creating-data.frames-or-tibbles">Creating <code>data.frame</code>s or <code>tibbles</code></h2>
<p>We can create a <code>data.frame</code> or <code>tibble</code> by specifying the columns separately, as individual vectors:</p>
<p>. . .</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data.frame</span>(<span class="at">Column1 =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>),</span>
<span id="cb155-2"><a href="#cb155-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">Column2 =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt;   Column1 Column2
&gt; 1       1       A
&gt; 2       2       B
&gt; 3       3       C</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">Column1 =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>),</span>
<span id="cb157-2"><a href="#cb157-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">Column2 =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; # A tibble: 3 × 2
&gt;   Column1 Column2
&gt;     &lt;dbl&gt; &lt;chr&gt;  
&gt; 1       1 A      
&gt; 2       2 B      
&gt; 3       3 C</code></pre>
</div>
</div>
</div>
</div>
<p>. . .</p>
<p><em>Note:</em> <code>data.frame</code>s and <code>tibbles</code> allow for <strong>mixed data types!</strong></p>
<p>. . .</p>
<p>This distinction leads us to the final data type, of which <code>data.frame</code>s and <code>tibble</code>s are a subset.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p><code>tibble</code>’s additional advantages are only displaying the first 10 rows and only the columns that will comfortably fit within the parameters of your console space when called (<code>data.frame</code>will display all columns and a certain number of rows depending upon your default max setting - usually this is an overwhelming amount of output, aesthetical confusing, and not very helpful).</p>
</div></div></section>
</section>
<section id="lists" class="level1 section-title" data-background-color="#99a486">
<h1 class="section-title" data-background-color="#99a486">Lists</h1>
<section id="what-are-lists" class="level2">
<h2 class="anchored" data-anchor-id="what-are-lists">What are Lists?</h2>
<p>. . .</p>
<p><strong>Lists</strong> are objects that can store multiple types of data.</p>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a>my_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">first_thing =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>,</span>
<span id="cb159-2"><a href="#cb159-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">second_thing =</span> <span class="fu">matrix</span>(<span class="dv">8</span><span class="sc">:</span><span class="dv">11</span>, <span class="at">nrow =</span> <span class="dv">2</span>), </span>
<span id="cb159-3"><a href="#cb159-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">third_thing =</span> <span class="fu">fct</span>(<span class="fu">c</span>(<span class="st">"apple"</span>, <span class="st">"pear"</span>, <span class="st">"banana"</span>, <span class="st">"apple"</span>, <span class="st">"apple"</span>)))</span>
<span id="cb159-4"><a href="#cb159-4" aria-hidden="true" tabindex="-1"></a>my_list</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; $first_thing
&gt; [1] 1 2 3 4 5
&gt; 
&gt; $second_thing
&gt;      [,1] [,2]
&gt; [1,]    8   10
&gt; [2,]    9   11
&gt; 
&gt; $third_thing
&gt; [1] apple  pear   banana apple  apple 
&gt; Levels: apple pear banana</code></pre>
</div>
</div>
</section>
<section id="accessing-list-elements" class="level2">
<h2 class="anchored" data-anchor-id="accessing-list-elements">Accessing List Elements</h2>
<p>You can access a list element by its name or number in <code>[[ ]]</code>, or a <code>$</code> followed by its name:</p>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a>my_list[[<span class="st">"first_thing"</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 1 2 3 4 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a>my_list[[<span class="dv">1</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 1 2 3 4 5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a>my_list<span class="sc">$</span>first_thing</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] 1 2 3 4 5</code></pre>
</div>
</div>
</section>
<section id="why-two-brackets" class="level2">
<h2 class="anchored" data-anchor-id="why-two-brackets">Why Two Brackets <code>[[</code> <code>]]</code>?</h2>
<p>Double brackets get <em>the actual element</em> — as whatever data type it is stored as, in that location in the list.</p>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(my_list[[<span class="dv">1</span>]])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt;  int [1:5] 1 2 3 4 5</code></pre>
</div>
</div>
<p>. . .</p>
<p>If you use single brackets to access list elements, you get a <strong>list</strong> back.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb169"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(my_list[<span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; List of 1
&gt;  $ first_thing: int [1:5] 1 2 3 4 5</code></pre>
</div>
</div>
</section>
<section id="names-and-list-elements" class="level2">
<h2 class="anchored" data-anchor-id="names-and-list-elements"><code>names()</code> and List Elements</h2>
<p>You can use <code>names()</code> to get a vector of list element names:</p>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(my_list)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] "first_thing"  "second_thing" "third_thing"</code></pre>
</div>
</div>
</section>
<section id="pluck" class="level2">
<h2 class="anchored" data-anchor-id="pluck"><code>pluck()</code></h2>
<p>An alternative to using Base <code>R</code>’s <code>[[ ]]</code> is using <code>pluck()</code> from the tidyverse’s <code>purrr</code> package.</p>
<p>. . .</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a>obj1 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"a"</span>, <span class="fu">list</span>(<span class="dv">1</span>, <span class="at">elt =</span> <span class="st">"foo"</span>))</span>
<span id="cb173-2"><a href="#cb173-2" aria-hidden="true" tabindex="-1"></a>obj2 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"b"</span>, <span class="fu">list</span>(<span class="dv">2</span>, <span class="at">elt =</span> <span class="st">"bar"</span>))</span>
<span id="cb173-3"><a href="#cb173-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">list</span>(obj1, obj2)</span>
<span id="cb173-4"><a href="#cb173-4" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [[1]]
&gt; [[1]][[1]]
&gt; [1] "a"
&gt; 
&gt; [[1]][[2]]
&gt; [[1]][[2]][[1]]
&gt; [1] 1
&gt; 
&gt; [[1]][[2]]$elt
&gt; [1] "foo"
&gt; 
&gt; 
&gt; 
&gt; [[2]]
&gt; [[2]][[1]]
&gt; [1] "b"
&gt; 
&gt; [[2]][[2]]
&gt; [[2]][[2]][[1]]
&gt; [1] 2
&gt; 
&gt; [[2]][[2]]$elt
&gt; [1] "bar"</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pluck</span>(x, <span class="dv">1</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [[1]]
&gt; [1] "a"
&gt; 
&gt; [[2]]
&gt; [[2]][[1]]
&gt; [1] 1
&gt; 
&gt; [[2]]$elt
&gt; [1] "foo"</code></pre>
</div>
</div>
<p><br></p>
<p>This is the same as same as <code>x[[1]]</code>.</p>
</div>
</div>
</div>
</section>
<section id="pluck-1" class="level2">
<h2 class="anchored" data-anchor-id="pluck-1"><code>pluck()</code></h2>
<p>An alternative to using Base <code>R</code>s <code>[[ ]]</code> is using <code>pluck()</code> from the tidyverse’s <code>purrr</code> package.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a>obj1 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"a"</span>, <span class="fu">list</span>(<span class="dv">1</span>, <span class="at">elt =</span> <span class="st">"foo"</span>))</span>
<span id="cb177-2"><a href="#cb177-2" aria-hidden="true" tabindex="-1"></a>obj2 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"b"</span>, <span class="fu">list</span>(<span class="dv">2</span>, <span class="at">elt =</span> <span class="st">"bar"</span>))</span>
<span id="cb177-3"><a href="#cb177-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">list</span>(obj1, obj2)</span>
<span id="cb177-4"><a href="#cb177-4" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [[1]]
&gt; [[1]][[1]]
&gt; [1] "a"
&gt; 
&gt; [[1]][[2]]
&gt; [[1]][[2]][[1]]
&gt; [1] 1
&gt; 
&gt; [[1]][[2]]$elt
&gt; [1] "foo"
&gt; 
&gt; 
&gt; 
&gt; [[2]]
&gt; [[2]][[1]]
&gt; [1] "b"
&gt; 
&gt; [[2]][[2]]
&gt; [[2]][[2]][[1]]
&gt; [1] 2
&gt; 
&gt; [[2]][[2]]$elt
&gt; [1] "bar"</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb179"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pluck</span>(x, <span class="dv">1</span>, <span class="dv">2</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [[1]]
&gt; [1] 1
&gt; 
&gt; $elt
&gt; [1] "foo"</code></pre>
</div>
</div>
<p><br></p>
<p>This is the same as <code>x[[1]][[2]]</code>.</p>
</div>
</div>
</section>
<section id="pluck-2" class="level2">
<h2 class="anchored" data-anchor-id="pluck-2"><code>pluck()</code></h2>
<p>An alternative to using Base <code>R</code>s <code>[[ ]]</code> is using <code>pluck()</code> from the tidyverse’s <code>purrr</code> package.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb181"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a>obj1 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"a"</span>, <span class="fu">list</span>(<span class="dv">1</span>, <span class="at">elt =</span> <span class="st">"foo"</span>))</span>
<span id="cb181-2"><a href="#cb181-2" aria-hidden="true" tabindex="-1"></a>obj2 <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">"b"</span>, <span class="fu">list</span>(<span class="dv">2</span>, <span class="at">elt =</span> <span class="st">"bar"</span>))</span>
<span id="cb181-3"><a href="#cb181-3" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">list</span>(obj1, obj2)</span>
<span id="cb181-4"><a href="#cb181-4" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [[1]]
&gt; [[1]][[1]]
&gt; [1] "a"
&gt; 
&gt; [[1]][[2]]
&gt; [[1]][[2]][[1]]
&gt; [1] 1
&gt; 
&gt; [[1]][[2]]$elt
&gt; [1] "foo"
&gt; 
&gt; 
&gt; 
&gt; [[2]]
&gt; [[2]][[1]]
&gt; [1] "b"
&gt; 
&gt; [[2]][[2]]
&gt; [[2]][[2]][[1]]
&gt; [1] 2
&gt; 
&gt; [[2]][[2]]$elt
&gt; [1] "bar"</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb183"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pluck</span>(x, <span class="dv">1</span>, <span class="dv">2</span>, <span class="st">"elt"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] "foo"</code></pre>
</div>
</div>
<p><br></p>
<p>You can supply names to index into named vectors. This is the same as <code>x[[1]][[2]][["elt"]]</code>.</p>
</div>
</div>
</section>
<section id="example-regression-output-fa-scroll" class="level2 scrollable">
<h2 class="scrollable anchored" data-anchor-id="example-regression-output-fa-scroll">Example: Regression Output <span style="color:#99a486"><i class="fa-solid fa-scroll" aria-label="scroll"></i></span></h2>
<p>When you perform linear regression in <code>R</code>, the output is a list!</p>
<p>. . .</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb185"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a>lm_output <span class="ot">&lt;-</span> <span class="fu">lm</span>(speed <span class="sc">~</span> dist, <span class="at">data =</span> cars)</span>
<span id="cb185-2"><a href="#cb185-2" aria-hidden="true" tabindex="-1"></a><span class="fu">is.list</span>(lm_output)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; [1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb187"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(lm_output)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt;  [1] "coefficients"  "residuals"     "effects"       "rank"         
&gt;  [5] "fitted.values" "assign"        "qr"            "df.residual"  
&gt;  [9] "xlevels"       "call"          "terms"         "model"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb189"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a>lm_output<span class="sc">$</span>coefficients</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; (Intercept)        dist 
&gt;   8.2839056   0.1655676</code></pre>
</div>
</div>
<p>. . .</p>
<p>What does a list object look like?</p>
<div class="cell" data-output-location="fragment">
<div class="sourceCode cell-code" id="cb191"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb191-1"><a href="#cb191-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(lm_output)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; List of 12
&gt;  $ coefficients : Named num [1:2] 8.284 0.166
&gt;   ..- attr(*, "names")= chr [1:2] "(Intercept)" "dist"
&gt;  $ residuals    : Named num [1:50] -4.62 -5.94 -1.95 -4.93 -2.93 ...
&gt;   ..- attr(*, "names")= chr [1:50] "1" "2" "3" "4" ...
&gt;  $ effects      : Named num [1:50] -108.894 29.866 -0.501 -3.945 -1.797 ...
&gt;   ..- attr(*, "names")= chr [1:50] "(Intercept)" "dist" "" "" ...
&gt;  $ rank         : int 2
&gt;  $ fitted.values: Named num [1:50] 8.62 9.94 8.95 11.93 10.93 ...
&gt;   ..- attr(*, "names")= chr [1:50] "1" "2" "3" "4" ...
&gt;  $ assign       : int [1:2] 0 1
&gt;  $ qr           :List of 5
&gt;   ..$ qr   : num [1:50, 1:2] -7.071 0.141 0.141 0.141 0.141 ...
&gt;   .. ..- attr(*, "dimnames")=List of 2
&gt;   .. .. ..$ : chr [1:50] "1" "2" "3" "4" ...
&gt;   .. .. ..$ : chr [1:2] "(Intercept)" "dist"
&gt;   .. ..- attr(*, "assign")= int [1:2] 0 1
&gt;   ..$ qraux: num [1:2] 1.14 1.15
&gt;   ..$ pivot: int [1:2] 1 2
&gt;   ..$ tol  : num 1e-07
&gt;   ..$ rank : int 2
&gt;   ..- attr(*, "class")= chr "qr"
&gt;  $ df.residual  : int 48
&gt;  $ xlevels      : Named list()
&gt;  $ call         : language lm(formula = speed ~ dist, data = cars)
&gt;  $ terms        :Classes 'terms', 'formula'  language speed ~ dist
&gt;   .. ..- attr(*, "variables")= language list(speed, dist)
&gt;   .. ..- attr(*, "factors")= int [1:2, 1] 0 1
&gt;   .. .. ..- attr(*, "dimnames")=List of 2
&gt;   .. .. .. ..$ : chr [1:2] "speed" "dist"
&gt;   .. .. .. ..$ : chr "dist"
&gt;   .. ..- attr(*, "term.labels")= chr "dist"
&gt;   .. ..- attr(*, "order")= int 1
&gt;   .. ..- attr(*, "intercept")= int 1
&gt;   .. ..- attr(*, "response")= int 1
&gt;   .. ..- attr(*, ".Environment")=&lt;environment: R_GlobalEnv&gt; 
&gt;   .. ..- attr(*, "predvars")= language list(speed, dist)
&gt;   .. ..- attr(*, "dataClasses")= Named chr [1:2] "numeric" "numeric"
&gt;   .. .. ..- attr(*, "names")= chr [1:2] "speed" "dist"
&gt;  $ model        :'data.frame':    50 obs. of  2 variables:
&gt;   ..$ speed: num [1:50] 4 4 7 7 8 9 10 10 10 11 ...
&gt;   ..$ dist : num [1:50] 2 10 4 22 16 10 18 26 34 17 ...
&gt;   ..- attr(*, "terms")=Classes 'terms', 'formula'  language speed ~ dist
&gt;   .. .. ..- attr(*, "variables")= language list(speed, dist)
&gt;   .. .. ..- attr(*, "factors")= int [1:2, 1] 0 1
&gt;   .. .. .. ..- attr(*, "dimnames")=List of 2
&gt;   .. .. .. .. ..$ : chr [1:2] "speed" "dist"
&gt;   .. .. .. .. ..$ : chr "dist"
&gt;   .. .. ..- attr(*, "term.labels")= chr "dist"
&gt;   .. .. ..- attr(*, "order")= int 1
&gt;   .. .. ..- attr(*, "intercept")= int 1
&gt;   .. .. ..- attr(*, "response")= int 1
&gt;   .. .. ..- attr(*, ".Environment")=&lt;environment: R_GlobalEnv&gt; 
&gt;   .. .. ..- attr(*, "predvars")= language list(speed, dist)
&gt;   .. .. ..- attr(*, "dataClasses")= Named chr [1:2] "numeric" "numeric"
&gt;   .. .. .. ..- attr(*, "names")= chr [1:2] "speed" "dist"
&gt;  - attr(*, "class")= chr "lm"</code></pre>
</div>
</div>
</section>
<section id="data-structures-in-r-overview" class="level2">
<h2 class="anchored" data-anchor-id="data-structures-in-r-overview">Data Structures in <code>R</code> Overview</h2>
<p>. . .</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/data_types_r2.png" class="img-fluid figure-img" style="width:200.0%"></p>
</figure>
</div>
</section>
<section id="data-structures-in-r-overview-1" class="level2">
<h2 class="anchored" data-anchor-id="data-structures-in-r-overview-1">Data Structures in <code>R</code> Overview</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/data_types_r3.png" class="img-fluid figure-img"></p>
</figure>
</div>
</section>
</section>
<section id="lab" class="level1 section-title" data-background-color="#99a486">
<h1 class="section-title" data-background-color="#99a486">Lab</h1>
<section id="mini-check-1-types-of-data-arithmetic" class="level2">
<h2 class="anchored" data-anchor-id="mini-check-1-types-of-data-arithmetic">Mini-Check 1: Types of Data &amp; Arithmetic</h2>
<p>In each case, what will R return?</p>
<div class="incremental">
<ul class="incremental">
<li><code>is.numeric(pi)</code>
<ul class="incremental">
<li><code>TRUE</code></li>
</ul></li>
<li><code>is.integer(3.14)</code>
<ul class="incremental">
<li><code>FALSE</code></li>
</ul></li>
<li><code>is.logical(FALSE)</code>
<ul class="incremental">
<li><code>TRUE</code></li>
</ul></li>
<li><code>is.nan(NA)</code>
<ul class="incremental">
<li><code>FALSE</code></li>
</ul></li>
<li><code>10 %/% 4</code>
<ul class="incremental">
<li><code>2</code></li>
</ul></li>
<li><code>10 %% 4</code>
<ul class="incremental">
<li><code>2</code></li>
</ul></li>
</ul>
</div>
</section>
<section id="mini-check-2-vectors" class="level2">
<h2 class="anchored" data-anchor-id="mini-check-2-vectors">Mini-Check 2: Vectors</h2>
<div class="incremental">
<ul class="incremental">
<li>What does <code>sum(c(1, 2, NA))</code> output?
<ul class="incremental">
<li><code>NA</code>. The code <code>sum(c(1, 2, NA), na.rm = TRUE)</code> would output <code>3</code>.</li>
</ul></li>
</ul>
</div>
<p><br></p>
<div class="incremental">
<ul class="incremental">
<li>What does <code>rep(c(0, 1), times = 2)</code> output?
<ul class="incremental">
<li><code>c(0, 1, 0, 1)</code></li>
</ul></li>
</ul>
</div>
<p><br></p>
<div class="incremental">
<ul class="incremental">
<li>I want to get the first and second elements of my vector, <code>a_vector</code>. What’s wrong with the code <code>a_vector[1, 2]</code> ?
<ul class="incremental">
<li><code>a_vector[c(1, 2)]</code></li>
</ul></li>
</ul>
</div>
</section>
<section id="matrices-and-lists" class="level2">
<h2 class="anchored" data-anchor-id="matrices-and-lists">Matrices and Lists</h2>
<ol type="1">
<li>Write code to create the following matrix:</li>
</ol>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>&gt;      [,1] [,2] [,3]
&gt; [1,] "A"  "B"  "C" 
&gt; [2,] "D"  "E"  "F"</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>Write a line of code to extract the second column. Ensure the output is still a <em>matrix</em>.</li>
</ol>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>&gt;      [,1]
&gt; [1,] "B" 
&gt; [2,] "E"</code></pre>
</div>
</div>
<ol start="3" type="1">
<li><p>Complete the following sentence: “Lists are to vectors, what data frames are to…”</p></li>
<li><p>Create a list that contains 3 elements:</p>
<ol type="i">
<li><code>ten_numbers</code> (integers between 1 and 10)</li>
<li><code>my_name</code> (your name as a character)</li>
<li><code>booleans</code> (vector of <code>TRUE</code> and <code>FALSE</code> alternating three times)</li>
</ol></li>
</ol>
</section>
<section id="answers" class="level2">
<h2 class="anchored" data-anchor-id="answers">Answers</h2>
<p>1. Write code to create the following matrix:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb195"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb195-1"><a href="#cb195-1" aria-hidden="true" tabindex="-1"></a>matrix_test <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"D"</span>, <span class="st">"E"</span>, <span class="st">"F"</span>), <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>)</span>
<span id="cb195-2"><a href="#cb195-2" aria-hidden="true" tabindex="-1"></a>matrix_test</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt;      [,1] [,2] [,3]
&gt; [1,] "A"  "B"  "C" 
&gt; [2,] "D"  "E"  "F"</code></pre>
</div>
</div>
<p>. . .</p>
<p>2. Write a line of code to extract the second column. Ensure the output is still a <em>matrix</em>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb197"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb197-1"><a href="#cb197-1" aria-hidden="true" tabindex="-1"></a>matrix_test[ ,<span class="dv">2</span>, drop <span class="ot">=</span> <span class="cn">FALSE</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt;      [,1]
&gt; [1,] "B" 
&gt; [2,] "E"</code></pre>
</div>
</div>
</section>
<section id="answers-1" class="level2">
<h2 class="anchored" data-anchor-id="answers-1">Answers</h2>
<p>3. Complete the following sentence: “Lists are to vectors, what data frames are to…<strong>Matrices!</strong><a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>”</p>
<p>. . .</p>
<p>4. Create a list that contains 3 elements:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb199"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb199-1"><a href="#cb199-1" aria-hidden="true" tabindex="-1"></a>my_new_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">ten_numbers =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,</span>
<span id="cb199-2"><a href="#cb199-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">my_name =</span> <span class="st">"Victoria Sass"</span>,</span>
<span id="cb199-3"><a href="#cb199-3" aria-hidden="true" tabindex="-1"></a>                    <span class="at">booleans =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>), <span class="at">times =</span> <span class="dv">3</span>))</span>
<span id="cb199-4"><a href="#cb199-4" aria-hidden="true" tabindex="-1"></a>my_new_list</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&gt; $ten_numbers
&gt;  [1]  1  2  3  4  5  6  7  8  9 10
&gt; 
&gt; $my_name
&gt; [1] "Victoria Sass"
&gt; 
&gt; $booleans
&gt; [1]  TRUE FALSE  TRUE FALSE  TRUE FALSE</code></pre>
</div>
</div>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>An incredibly useful transformation for dealing with data that ranges across multiple orders of magnitude and converting exponential growth to linear growth.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Like we learned how to do with dataframes in week 3.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p><img src="images/inverse_matrix.png" class="img-fluid"><a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p><em>Lists and data frames can contain mixed data types, while vectors and matrices can only contain one data type. Additionally, lists and vectors are <strong>technically</strong> one dimension while matrices and dataframes are two dimensions.</em><a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Created with <a href="https://quarto.org/">Quarto</a> • <a href="https://creativecommons.org/licenses/by-nc/4.0/">License</a></div>   
    <div class="nav-footer-center">Copyright © 2023 Victoria Sass <br> Course content adapted from <a href="https://clanfear.github.io/CSSS508/">Chuck Lanfear</a> and <a href="https://pearce790.github.io/CSSS508/index.html">Michael Pearce</a></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="mailto:vsass@uw.edu">
      <i class="bi bi-envelope-at" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://scholar.google.com/citations?user=A3lEdiIAAAAJ&amp;hl=en">
      <i class="bi bi-google" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/vsass">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="http://vsass.github.io/Sass_Victoria_CV_2023.pdf">
      <i class="bi bi-file-person" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>



</body></html>