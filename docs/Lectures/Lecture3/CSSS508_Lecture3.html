<!DOCTYPE html>
<html lang="en"><head>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-c3c2c9e745155556954bc4da23476b10.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.32">

  <title>csss508_lecture3</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #97947a;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #97947a;  padding-left: 4px; }
    div.sourceCode
      { color: #f8f8f2; background-color: #2b2b2b; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #f8f8f2; } /* Normal */
    code span.al { color: #dcc6e0; } /* Alert */
    code span.an { color: #d4d0ab; } /* Annotation */
    code span.at { color: #ffd700; } /* Attribute */
    code span.bn { color: #dcc6e0; } /* BaseN */
    code span.bu { color: #f5ab35; } /* BuiltIn */
    code span.cf { color: #ffa07a; } /* ControlFlow */
    code span.ch { color: #abe338; } /* Char */
    code span.cn { color: #ffa07a; } /* Constant */
    code span.co { color: #d4d0ab; } /* Comment */
    code span.cv { color: #d4d0ab; font-style: italic; } /* CommentVar */
    code span.do { color: #d4d0ab; font-style: italic; } /* Documentation */
    code span.dt { color: #dcc6e0; } /* DataType */
    code span.dv { color: #dcc6e0; } /* DecVal */
    code span.er { color: #dcc6e0; } /* Error */
    code span.ex { color: #ffd700; } /* Extension */
    code span.fl { color: #f5ab35; } /* Float */
    code span.fu { color: #ffd700; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #d4d0ab; } /* Information */
    code span.kw { color: #ffa07a; } /* Keyword */
    code span.op { color: #00e0e0; } /* Operator */
    code span.ot { color: #ffa07a; } /* Other */
    code span.pp { color: #dcc6e0; } /* Preprocessor */
    code span.sc { color: #00e0e0; } /* SpecialChar */
    code span.ss { color: #abe338; } /* SpecialString */
    code span.st { color: #abe338; } /* String */
    code span.va { color: #f5ab35; } /* Variable */
    code span.vs { color: #abe338; } /* VerbatimString */
    code span.wa { color: #d4d0ab; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto-3307a7550541b6a9633e0228e3313e4d.css">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-pointer/pointer.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">


<section id="title-slide" class="slide level2 center" data-menu-title="Workflow &amp; Reproducibility" data-background="#1e4655" data-background-image="../../images/csss-logo.png" data-background-position="center top 5%" data-background-size="50%">
<h2></h2>
<p><span class="custom-title">Workflow &amp; Reproducibility</span></p>
<p><span class="custom-subtitle">CS&amp;SS 508 • Lecture 3</span></p>
<p><span class="custom-subtitle2">14 October 2025</span></p>
<p><span class="custom-subtitle3">Victoria Sass</span></p>
</section>
<section>
<section id="roadmap" class="title-slide slide level1 section-title center" data-background-color="#99a486">
<h1>Roadmap</h1>

</section>
<section class="slide level2">

<div class="columns">
<div class="column" style="width:50%;">
<p><br></p>
<h3 id="last-time-we-learned">Last time, we learned:</h3>
<ul>
<li>The <code>tidyverse</code></li>
<li>Basics of <code>ggplot2</code></li>
<li>Advanced features of <code>ggplot2</code></li>
<li>Extensions of <code>ggplot2</code></li>
</ul>
</div><div class="column" style="width:50%;">
<p><br></p>
<div class="fragment">
<h3 id="today-we-will-cover">Today, we will cover:</h3>
<ul>
<li>Code Style</li>
<li>Workflow</li>
<li>Reproducibility</li>
<li>Useful Base <code>R</code></li>
</ul>
</div>
</div></div>
</section></section>
<section>
<section id="code-style" class="title-slide slide level1 section-title center" data-background-color="#99a486">
<h1>Code Style</h1>

</section>
<section id="disclaimer" class="slide level2">
<h2>Disclaimer</h2>
<p>There are honestly no hard, fast rules about what is <strong>the</strong> <em>correct code</em>. You can produce all styles of code that will run and get you your desired results.</p>
<div class="fragment">
<p>However, the following recommendations are made with these truths in mind:</p>
<ul>
<li class="fragment">Using a consistent style cuts down on the decisions you have to make, therefore allowing you to focus your attention on the substance of your code
<ul>
<li class="fragment">This makes code easier to write and your overall process more efficient!</li>
</ul></li>
<li class="fragment">Easy-to-read code is faster-read-code: both for any collaborators you may have and also future-you.
<ul>
<li class="fragment">This is particularly helpful when scanning code in order to troubleshoot an error</li>
</ul></li>
</ul>
</div>
<div class="fragment">
<p>You can read more about the specific style we’re using in this class <a href="https://style.tidyverse.org/">here</a>.</p>
</div>
</section>
<section id="naming-objects" class="slide level2">
<h2>Naming Objects</h2>
<p>It’s good practice to name objects (and oftentimes variables) using only lowercase letters, numbers, and <code>_</code> (to separate words).</p>
<div class="fragment">
<p>Remember to give them descriptive names, even if that means they’re longer.</p>
</div>
<div class="fragment">
<p>If you have many related variables, try and be consistent with your naming convention.</p>
<ul>
<li>A common prefix is preferable to a common suffix due to RStudio’s autocomplete feature.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a><span class="co"># Code goal: </span></span>
<span id="cb1-2"><a></a>short_flights <span class="ot">&lt;-</span> flights <span class="sc">|&gt;</span> </span>
<span id="cb1-3"><a></a>  <span class="fu">filter</span>(air_time <span class="sc">&lt;</span> <span class="dv">60</span>)</span>
<span id="cb1-4"><a></a></span>
<span id="cb1-5"><a></a><span class="co"># Code foul: </span></span>
<span id="cb1-6"><a></a>SHORTFLIGHTS <span class="ot">&lt;-</span> flights <span class="sc">|&gt;</span> </span>
<span id="cb1-7"><a></a>  <span class="fu">filter</span>(air_time <span class="sc">&lt;</span> <span class="dv">60</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="spacing" class="slide level2">
<h2>Spacing</h2>
<p>For readability you’ll want to put spaces around all mathematical operators<sup>1</sup> (i.e.&nbsp;<code>+</code>, <code>-</code>, <code>==</code>, <code>&lt;</code>, etc.) as well as the assignment operator (<code>&lt;-</code>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a></a><span class="co"># Code goals: </span></span>
<span id="cb2-2"><a></a>z <span class="ot">&lt;-</span> (a <span class="sc">+</span> b)<span class="sc">^</span><span class="dv">2</span> <span class="sc">/</span> d</span>
<span id="cb2-3"><a></a><span class="fu">mean</span>(x, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-4"><a></a></span>
<span id="cb2-5"><a></a><span class="co"># Code foul: </span></span>
<span id="cb2-6"><a></a>z<span class="ot">&lt;-</span>( a<span class="sc">+</span>b ) <span class="sc">^</span> <span class="dv">2</span><span class="sc">/</span>d</span>
<span id="cb2-7"><a></a><span class="fu">mean</span> (x ,<span class="at">na.rm=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>To make code easier to skim quickly it’s alright to add extra space for better alignment.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a></a>flights <span class="sc">|&gt;</span> </span>
<span id="cb3-2"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb3-3"><a></a>    <span class="at">speed      =</span> distance <span class="sc">/</span> air_time,</span>
<span id="cb3-4"><a></a>    <span class="at">dep_hour   =</span> dep_time <span class="sc">%/%</span> <span class="dv">100</span>,</span>
<span id="cb3-5"><a></a>    <span class="at">dep_minute =</span> dep_time <span class="sc">%%</span>  <span class="dv">100</span></span>
<span id="cb3-6"><a></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<aside><ol class="aside-footnotes"><li id="fn1"><p>except for <code>^</code></p></li></ol></aside></section>
<section id="pipes" class="slide level2">
<h2>Pipes</h2>
<p>As you begin to use more functions, sequentially, it can start to get unclear what’s happening when, and to what.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a></a><span class="fu">median</span>(<span class="fu">sqrt</span>(<span class="fu">log</span>(<span class="fu">mean</span>(gapminder<span class="sc">$</span>pop))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>With nested functions, like those above, you need to read the order of operations inside out, which is a bit awkward. It becomes even more confusing the more function calls you have, especially when they have multiple arguments each.</p>
</div>
<div class="fragment">
<p><strong>Enter the pipe<sup>1</sup>:</strong> <code>|&gt;</code></p>
<p>Pipes read “left to right” which is much more intuitive!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a></a>gapminder<span class="sc">$</span>pop <span class="sc">|&gt;</span> <span class="fu">mean</span>() <span class="sc">|&gt;</span> <span class="fu">log</span>() <span class="sc">|&gt;</span> <span class="fu">sqrt</span>() <span class="sc">|&gt;</span> <span class="fu">median</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li class="fragment">The above code takes what’s on the left-hand side of <code>|&gt;</code> and gives it as the first <strong>unnamed</strong> argument to the first function (<code>mean()</code>).</li>
<li class="fragment">The result of that function call is then “piped” to the first <strong>unnamed</strong> argument of the second function (<code>log()</code>)…</li>
</ul>
</div>
<aside><ol class="aside-footnotes"><li id="fn2"><p>A component of programming which allows us to break a problem into a number of steps, each of which is straightforward and easy to understand.</p></li></ol></aside></section>
<section id="pipes-1" class="slide level2">
<h2>Pipes</h2>
<p>As you can see, pipes allow us to “chain” many function calls together easily.</p>
<p><br>
</p>
<div class="fragment">
<p>The so-called “native pipe” (i.e.&nbsp;built into base <code>R</code>) is relatively new. Before this, the pipe was a function from the <code>magrittr</code> package that looks like this: <code>%&gt;%</code>.</p>
<p><br>
</p>
</div>
<div class="fragment">
<p>This latter version continues to work but has a different functionality than the new, native pipe.</p>
</div>
</section>
<section id="versus" class="slide level2 smaller">
<h2><code>%&gt;%</code> versus <code>|&gt;</code></h2>
<p><span style="font-size: 85%;">Most importantly, while both the <code>magrittr</code> pipe and the native pipe take the LHS (left-hand side) and “pipe” it to the RHS (right-hand side), they operate differently when it comes to explicitly specifying which argument of the RHS to pipe the LHS into.</span></p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Z"</span>, <span class="cn">NA</span>, <span class="st">"C"</span>, <span class="st">"G"</span>, <span class="st">"A"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</div>
<div class="fragment">
<div class="columns">
<div class="column" style="width:50%;">
<h4 id="magrittr-pipe"><code>%&gt;%</code> (<code>magrittr</code> pipe)</h4>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-12"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="1">1</button><span id="annotated-cell-12-1" class="code-annotation-target"><a href="#annotated-cell-12-1"></a>a <span class="sc">%&gt;%</span> <span class="fu">gsub</span>(<span class="at">pattern =</span> <span class="st">'A'</span>,</span>
<span id="annotated-cell-12-2"><a href="#annotated-cell-12-2"></a>           <span class="at">replacement =</span> <span class="st">'-'</span>, </span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-12" data-target-annotation="2">2</button><span id="annotated-cell-12-3" class="code-annotation-target"><a href="#annotated-cell-12-3"></a>           <span class="at">x =</span> .)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-12" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="1" data-code-annotation="1"><code>gsub</code> looks for a regular expression <code>pattern</code> (more on this in <a href="https://vsass.github.io/CSSS508/Lectures/Lecture7/CSSS508_Lecture7_index.html">Week 7</a>) within the specified character vector <code>x</code>, and substitutes it with the specified <code>replacement</code> value.</span>
</dd>
<dt data-target-cell="annotated-cell-12" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-12" data-code-lines="3" data-code-annotation="2">By default, both pipes will pass the LHS to the first argument of the function on the RHS. If you need to pass the LHS to a different argument, i.e.&nbsp;the second, or third, etc., you need to explicitly tell the pipe which argument to pass it to. The placeholder for <code>%&gt;%</code> is <code>.</code> (a period)</span>
</dd>
</dl>
</div>
</div>
<p><br>
</p>
<p><span style="font-size: 85%;">Each of these examples returns:</span></p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Z" NA  "C" "G" "-"</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<h4 id="native-r-pipe"><code>|&gt;</code> (native <code>R</code> pipe)</h4>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-14"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="3">3</button><span id="annotated-cell-14-1" class="code-annotation-target"><a href="#annotated-cell-14-1"></a>a <span class="sc">|&gt;</span> <span class="fu">gsub</span>(<span class="st">'A'</span>,</span>
<span id="annotated-cell-14-2"><a href="#annotated-cell-14-2"></a>          <span class="st">'-'</span>,</span>
<span id="annotated-cell-14-3"><a href="#annotated-cell-14-3"></a>          <span class="at">x =</span> _)</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="4">4</button><span id="annotated-cell-14-4" class="code-annotation-target"><a href="#annotated-cell-14-4"></a>a <span class="sc">|&gt;</span> <span class="fu">gsub</span>(<span class="at">pattern =</span> <span class="st">'A'</span>,</span>
<span id="annotated-cell-14-5"><a href="#annotated-cell-14-5"></a>          <span class="at">replacement =</span> <span class="st">'-'</span>)</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-14" data-target-annotation="5">5</button><span id="annotated-cell-14-6" class="code-annotation-target"><a href="#annotated-cell-14-6"></a>a <span class="sc">|&gt;</span> (\(placeholder)</span>
<span id="annotated-cell-14-7"><a href="#annotated-cell-14-7"></a>      <span class="fu">gsub</span>(<span class="st">'A'</span>,</span>
<span id="annotated-cell-14-8"><a href="#annotated-cell-14-8"></a>           <span class="st">'-'</span>,</span>
<span id="annotated-cell-14-9"><a href="#annotated-cell-14-9"></a>           <span class="at">x =</span> placeholder))()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-14" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="1,2,3" data-code-annotation="3"><code>_</code> is the placeholder for <code>|&gt;</code></span>
</dd>
<dt data-target-cell="annotated-cell-14" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="4,5" data-code-annotation="4">Leaving the “piped” argument as the only unnamed argument also works</span>
</dd>
<dt data-target-cell="annotated-cell-14" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-14" data-code-lines="6,7,8,9" data-code-annotation="5">Using an anonymous function call allows you to be explicit while specifying your own placeholder</span>
</dd>
</dl>
</div>
</div>
</div></div>

</div>
<aside><div>
<p>You can read more about the differences between <code>|&gt;</code> and <code>%&gt;%</code> <a href="https://www.tidyverse.org/blog/2023/04/base-vs-magrittr-pipe/#-vs">here</a> and anonymous functions <a href="http://adv-r.had.co.nz/Functional-programming.html#anonymous-functions">here</a>. Code above comes from responses to <a href="https://stackoverflow.com/questions/70598384/piping-second-or-higher-argument-in-native-pipe">this stackoverflow post</a>.</p>
</div></aside></section>
<section id="pipes-2" class="slide level2">
<h2>Pipes</h2>
<p>Some good syntax practices:</p>
<ul>
<li class="fragment">You should always put a space before <code>|&gt;</code> and it should usually be the last thing on a line.<br>
</li>
<li class="fragment">New functions should be on a new line, indented 2 spaces (RStudio will automatically do this for you if you hit return after a pipe)</li>
<li class="fragment">Named arguments within a function should also get their own line</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a></a><span class="co"># code goals</span></span>
<span id="cb8-2"><a></a>flights <span class="sc">|&gt;</span>  </span>
<span id="cb8-3"><a></a>  <span class="fu">group_by</span>(tailnum) <span class="sc">|&gt;</span> </span>
<span id="cb8-4"><a></a>  <span class="fu">summarize</span>(</span>
<span id="cb8-5"><a></a>    <span class="at">delay =</span> <span class="fu">mean</span>(arr_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb8-6"><a></a>    <span class="at">n =</span> <span class="fu">n</span>()</span>
<span id="cb8-7"><a></a>  )</span>
<span id="cb8-8"><a></a></span>
<span id="cb8-9"><a></a><span class="co"># code fouls</span></span>
<span id="cb8-10"><a></a>flights <span class="sc">|&gt;</span> <span class="fu">group_by</span>(tailnum) <span class="sc">|&gt;</span> </span>
<span id="cb8-11"><a></a>  <span class="fu">summarize</span>(<span class="at">delay =</span> <span class="fu">mean</span>(arr_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="at">n =</span> <span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="selecting-the-native-pipe" class="slide level2">
<h2>Selecting the native pipe</h2>
<p>The <code>|&gt;</code> is recommended over <code>%&gt;%</code> simply because it’s much simpler to use and it’s always available (<code>%&gt;%</code> relied on the <code>magrittr</code> package which was a dependency of <code>tidyverse</code> packages).</p>
<div class="fragment">
<p>You’ll need to specify to <code>R</code> that you want to enable its usage by going to <em>Tools</em> &gt; <em>Global Options</em> &gt; <em>Code</em>. Within the “Editing” Tab there is an option to “Use native pipe operator, <code>|&gt;</code>”. Check it! <span style="color:#e15759"><i class="fa-solid fa-check" aria-label="check"></i></span></p>
<div class="columns">
<div class="column" style="width:62%;">
<div class="quarto-figure quarto-figure-left">
<figure>
<p><img data-src="images/rstudio-pipe-options.png" class="quarto-figure quarto-figure-left" style="width:110.0%"></p>
</figure>
</div>
</div><div class="column" style="width:38%;">
<p><br></p>
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong><span style="color:blue"><i class="fa-solid fa-keyboard" aria-label="keyboard"></i></span> Keyboard Shortcut</strong></p>
</div>
<div class="callout-content">
<p>To insert a pipe (with spaces) quickly: <strong><em>Ctrl+Shift+M</em></strong> (Windows &amp; Linux OS) <strong><em>Shift+Command+M</em></strong> (Mac)</p>
</div>
</div>
</div>
</div></div>
</div>
</section>
<section id="other-formatting-options" class="slide level2">
<h2>Other Formatting Options</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p><br></p>
<p>There are some other useful formatting options I’d suggest setting globally and others you can specify to your preferences.</p>
<p><br></p>
<h4 id="suggested">Suggested:</h4>
<ul>
<li>Highlight Function Calls</li>
<li>Enable preview of colors<br>
</li>
<li>Rainbow parentheses</li>
</ul>
</div><div class="column" style="width:60%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/rainbow_function.png" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div></div>
</section>
<section id="other-formatting-options-1" class="slide level2">
<h2>Other Formatting Options</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p><br></p>
<p>There are some other useful formatting options I’d suggest setting globally and others you can specify to your preferences.</p>
<p><br></p>
<h4 id="suggested-1">Suggested:</h4>
<ul>
<li><span class="highlight-tableaured">Highlight Function Calls</span></li>
<li>Enable preview of colors<br>
</li>
<li>Rainbow parentheses</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/function_colors.png" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div><div class="column" style="width:60%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/rainbow_function.png" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div></div>
</section>
<section id="other-formatting-options-2" class="slide level2">
<h2>Other Formatting Options</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p><br></p>
<p>There are some other useful formatting options I’d suggest setting globally and others you can specify to your preferences.</p>
<p><br></p>
<h4 id="suggested-2">Suggested:</h4>
<ul>
<li>Highlight Function Calls</li>
<li><span class="highlight-tableaured">Enable preview of colors</span></li>
<li>Rainbow parentheses</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/colors.png" class="quarto-figure quarto-figure-center" style="width:55.0%"></p>
</figure>
</div>
</div><div class="column" style="width:60%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/rainbow_function.png" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div></div>
</section>
<section id="other-formatting-options-3" class="slide level2">
<h2>Other Formatting Options</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p><br></p>
<p>There are some other useful formatting options I’d suggest setting globally and others you can specify to your preferences.</p>
<p><br></p>
<h4 id="suggested-3">Suggested:</h4>
<ul>
<li>Highlight Function Calls</li>
<li>Enable preview of colors</li>
<li><span class="highlight-tableaured">Rainbow parentheses</span></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/parentheses.png" class="quarto-figure quarto-figure-center" style="width:75.0%"></p>
</figure>
</div>
</div><div class="column" style="width:60%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/rainbow_function.png" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div></div>
</section>
<section id="other-formatting-options-4" class="slide level2">
<h2>Other Formatting Options</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p><br></p>
<p>There are some other useful formatting options I’d suggest setting globally and others you can specify to your preferences.</p>
<p><br></p>
<h4 id="up-to-you">Up to you:</h4>
<ul>
<li>Code highlight style</li>
</ul>
</div><div class="column" style="width:60%;">
<p><img data-src="images/code_style.png"></p>
</div></div>
</section>
<section id="other-formatting-options-5" class="slide level2">
<h2>Other Formatting Options</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p><br></p>
<p>There are some other useful formatting options I’d suggest setting globally and others you can specify to your preferences.</p>
<p><br></p>
<h4 id="up-to-you-1">Up to you:</h4>
<ul>
<li>Pane layout</li>
</ul>
</div><div class="column" style="width:60%;">
<p><img data-src="images/pane_arrangement.png"></p>
</div></div>
</section>
<section id="other-formatting-options-6" class="slide level2">
<h2>Other Formatting Options</h2>
<div class="columns">
<div class="column" style="width:40%;">
<p><br></p>
<p>There are some other useful formatting options I’d suggest setting globally and others you can specify to your preferences.</p>
<p><br></p>
<h4 id="up-to-you-2">Up to you:</h4>
<ul>
<li>Markdown options
<ul>
<li>Output preview</li>
<li>Inline output</li>
</ul></li>
</ul>
</div><div class="column" style="width:60%;">
<p><img data-src="images/markdown_preferences.png"></p>
</div></div>
</section>
<section id="styling-existing-code" class="slide level2">
<h2>Styling existing code</h2>
<p>Imagine you’ve inherited a bunch of code from someone else and NOTHING is styled in the <code>tidyverse</code> way you’ve become accustomed. Or, you’ve dabbled in <code>R</code> before and you have some old code that is all over the place, with respect to styling.</p>
<div class="fragment">
<p>Thanks to Lorenz Walthert there’s a package for that! Using the <a href="https://styler.r-lib.org/index.html"><code>styler</code> package</a> you can automatically apply the <a href="https://style.tidyverse.org/"><code>tidyverse</code> style guide</a> standards to various filetypes (.R, .qmd, .Rmd, etc.) or even entire projects.</p>
</div>
<div class="fragment">
<p>Have a style or variation of the <code>tidyverse</code> style that you prefer? You can specify that in the package as well. Use the keyboard shortcut <em>Cmd</em>/<em>Ctl</em> + <em>Shift</em> + <em>P</em> and search for “styler” to see all the options available.</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/rstudio-styler.png" class="quarto-figure quarto-figure-center" style="width:70.0%"></p>
</figure>
</div>
</div>
</section></section>
<section>
<section id="workflow" class="title-slide slide level1 section-title center" data-background-color="#99a486">
<h1>Workflow</h1>

</section>
<section id="r-scripts" class="slide level2">
<h2>.R scripts</h2>
<p>We’ve been working with Quarto documents but you’ll sometimes simply want to use an R script, which is basically an entire file that is just a code chunk.</p>
<div class="fragment">
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">Why would you prefer an .R file over a .qmd file?</a></li><li><a href="#tabset-1-2">When might you use a .qmd file?</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<ul>
<li>You just need to run code, without the need for accompanying text output and plots in the same document. Examples include:
<ul>
<li>Reading in and cleaning/manipulating your data before analysis</li>
<li>Writing functions you’ll use throughout your project</li>
<li>Getting descriptive statistics/making descriptive plots of data</li>
<li>Running models and generating tables/plots of their results</li>
</ul></li>
</ul>
</div>
<div id="tabset-1-2">
<ul>
<li>Homework assignments (like for this class) that require you to show code, describe your process for arriving at your solution, and include any results (i.e.&nbsp;tables, statistics, visualizations)</li>
<li>Academic articles</li>
<li>Presentations for class, conferences, talks, etc.</li>
<li>Theses/dissertations</li>
<li>Interactive visualizations (i.e.&nbsp;widgets)</li>
<li>Building your own website</li>
</ul>
</div>
</div>
</div>
</div>
</section>
<section id="file-naming" class="slide level2">
<h2>File naming</h2>
<p>File names should:</p>
<div class="fragment">
<ul>
<li>be machine readable: avoid spaces, symbols, and special characters. Don’t rely on case sensitivity to distinguish files.</li>
<li>be human readable: use file names to describe what’s in the file.</li>
<li>play well with default ordering: start file names with numbers so that alphabetical sorting puts them in the order they get used.</li>
</ul>
</div>
</section>
<section id="organization-and-portability" class="slide level2">
<h2>Organization and Portability</h2>
<p>Organizing research projects is something you either do accidentally — and badly — or purposefully with some upfront labor.</p>
<div class="fragment">
<p>Uniform organization makes switching between or revisiting projects easier.</p>
</div>
<div class="fragment">
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1">Good Example directory</a></li><li><a href="#tabset-2-2">Bad Example directory</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<div class="columns">
<div class="column" style="width:50%;">
<pre><code>project/
   readme.md
   data/
     derived/
       data_processed.RData
     raw/
       data_core.csv
       data_supplementary.csv
   docs/
     paper_asa.qmd
     paper_journal.qmd
   syntax/
     01-functions.R
     02-cleaning.R
     03_merging.R
     04-exploratory.R
     05-models.R
     06-visualizations.R
   visuals/ 
     descriptive.png
     heatmap.png
     predicted_probabilities.png</code></pre>
</div><div class="column" style="width:50%;">
<div class="small1">
<ol type="1">
<li class="fragment">There is a clear hierarchy
<ul>
<li class="fragment">Written content is in <code>docs</code></li>
<li class="fragment">Code is in <code>syntax</code></li>
<li class="fragment">Data is in <code>data</code></li>
<li class="fragment">Visualizations are in <code>visuals</code></li>
<li class="fragment">The <code>readme.md</code> describes the project</li>
</ul></li>
<li class="fragment">Naming is uniform
<ul>
<li class="fragment">All lower case</li>
<li class="fragment">Words separated by underscores</li>
</ul></li>
<li class="fragment">Names are self-descriptive</li>
<li class="fragment">Numbering scripts makes it clear in which order they should be run.</li>
</ol>
</div>
</div></div>
</div>
<div id="tabset-2-2">
<div class="columns">
<div class="column" style="width:40%;">
<pre><code>alternative model.R
code for exploratory analysis.r
finalreport.qmd
FinalReport.qmd
fig 1.png
Figure_02.png
model_first_try.R
run-first.r
temp.txt</code></pre>
</div><div class="column" style="width:60%;">
<ul>
<li class="fragment">Ordering of the files is unclear</li>
<li class="fragment">Inconsistent naming is confusing (which final report is THE final report?)</li>
<li class="fragment">Non-descriptive naming means more work for you in trying to decipher its contents</li>
</ul>
</div></div>
</div>
</div>
</div>
</div>
</section>
<section id="working-directory" class="slide level2">
<h2>Working directory</h2>
<p>Your <strong>working directory</strong> is where <code>R</code> will look for any files that you ask it to load and where it’ll put anything you ask it to save. It is literally just a folder somewhere on your computer or the remote server/cloud you’re working within.</p>
<div class="fragment">
<p>You can ask <code>R</code> what your current working directory is by running <code>getwd()</code> (<code>get</code> <code>w</code>orking <code>d</code>irectory).</p>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a></a><span class="fu">getwd</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "/Users/victoriasass/Desktop/GitHub/CSSS508/Lectures/Lecture3"</code></pre>
</div>
</div>
<p>You can see above that this lecture was created in a lecture-specific folder within a lectures folder, in a directory for this class, which is in a folder called <code>GitHub</code> on the Desktop of my laptop.</p>
</div>
<div class="fragment">
<p>While you can <em>technically</em> set your working directory using <code>setwd()</code> (<code>set</code> <code>w</code>orking <code>d</code>irectory) and giving <code>R</code> a filepath, in the name of reproducible research DO NOT DO THIS! I strongly advise an alternative: <strong>RStudio Projects</strong>.</p>
</div>
</section>
<section id="projects" class="slide level2">
<h2>Projects</h2>
<p>A “project” is RStudio’s built-in organizational support system which keeps all the files associated with a given project (i.e.&nbsp;data, R scripts, figures, results) together in one directory.</p>
<div class="fragment">
<p>Creating a new project quite basically creates a new folder in a place that you specify. But it also does a few of other extremely useful things:</p>
<ul>
<li class="fragment">Creates a <code>.Rproj</code> file which tracks your command history and all the files in your project folder.</li>
<li class="fragment">Contains all the files needed to reproduce your work
<ul>
<li class="fragment">i.e.&nbsp;you can send a project folder to someone and they will be able to run it on their local machine</li>
</ul></li>
<li class="fragment">Facilitates version control with built-in git/GitHub connection <em>(more on this later in the course)</em></li>
</ul>
</div>
</section>
<section id="creating-an-rstudio-project" class="slide level2">
<h2>Creating an RStudio Project</h2>
<div class="columns">
<div class="column" style="width:65%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/new-project.png" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div><div class="column" style="width:35%;">
<p>You can create a project by clicking</p>
<ul>
<li><em>File</em> &gt; <em>New Project…</em></li>
<li><span>  </span> <img data-src="images/rproject_icon.png" class="absolute" style="top: 200px; "> in the upper-left corner of RStudio</li>
<li>the dropdown menu in the upper-right corner of RStudio and selecting <em>New Project…</em></li>
</ul>
</div></div>
</section>
<section id="workflow-versus-product" class="slide level2">
<h2>Workflow versus Product</h2>
<p>To summarize Jenny Bryan, <a href="https://www.tidyverse.org/articles/2017/12/workflow-vs-script/">one should <strong>separate workflow</strong> (i.e.&nbsp;your personal tastes and habits) <strong>from product</strong> (i.e.&nbsp;the logic and output that is the essence of your project).</a></p>
<p><br></p>
<div class="fragment">
<div class="columns">
<div class="column" style="width:50%;">
<h3 id="workflow-1">Workflow</h3>
<ul>
<li><p>The software you use to write your code (e.g.&nbsp;R/RStudio)</p></li>
<li><p>The location you store a project</p></li>
<li><p>The specific computer you use</p></li>
<li><p>The code you ran earlier or typed into your console</p></li>
</ul>
</div><div class="column" style="width:50%;">
<h3 id="product">Product</h3>
<ul>
<li><p>The raw data</p></li>
<li><p>The code that operates on your raw data</p></li>
<li><p>The packages you use</p></li>
<li><p>The output files or documents</p></li>
</ul>
</div></div>
</div>
<div class="fragment">
<p>Each data analysis (<em>or course using R</em>) should be organized as a <span class="highlight-tableaured"><strong>project</strong></span>.</p>
<ul>
<li>Projects <em>should NOT modify anything outside of the project</em> nor need to be modified by someone else (or future you) to run.</li>
<li><strong>Projects <em>should be independent of your workflow</em>.</strong></li>
</ul>
</div>
</section>
<section id="portability" class="slide level2">
<h2>Portability</h2>
<p>For research to be reproducible, it must also be <em>portable</em>. Portable software operates <em>independently of workflow</em>.</p>
<div class="panel-tabset">
<ul id="tabset-3" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-3-1"><strong>Do Not:</strong></a></li><li><a href="#tabset-3-2"><strong>Do:</strong></a></li></ul>
<div class="tab-content">
<div id="tabset-3-1">
<ul>
<li>Use <code>setwd()</code>.</li>
<li>Use <em>absolute paths</em> except for <em>fixed, immovable sources</em> (secure data).
<ul>
<li><code>read_csv("C:/my_project/data/my_data.csv")</code></li>
</ul></li>
<li>Use <code>install.packages()</code> in <code>R</code> script or .qmd files.</li>
<li>Use <code>rm(list=ls())</code> anywhere but your console.</li>
</ul>
</div>
<div id="tabset-3-2">
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Use RStudio projects (or the <a href="https://github.com/jennybc/here_here"><code>here</code> package</a>) to set directories.</li>
<li>Use <em>relative paths</em> to load and save files:
<ul>
<li><code>read_csv("./data/my_data.csv")</code></li>
</ul></li>
<li>Load all required packages using <code>library()</code>.</li>
<li>Clear your workspace when closing RStudio.
<ul>
<li>Set <em>Tools &gt; Global Options… &gt; Save workspace…</em> to <strong>Never</strong></li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<p><img data-src="images/clean-slate.png" class="absolute" style="bottom: 10px; right: 10px; height: 75%; "></p>
</div></div>
</div>
</div>
</div>
</section>
<section id="psa-setwd-and-rmlistls" class="slide level2">
<h2>PSA: <code>setwd()</code> and <code>rm(list=ls())</code></h2>
<p><br></p>
<div class="fragment">
<div class="callout callout-warning no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong><span style="color:orange"><i class="fa-solid fa-triangle-exclamation" aria-label="triangle-exclamation"></i></span> <code>setwd()</code></strong></p>
</div>
<div class="callout-content">
<p>Setting your working directory using <code>setwd()</code> makes it impossible for your project to be replicated by anyone but you, and only on the exact same computer on which it was created.</p>
</div>
</div>
</div>
</div>
<div class="fragment">
<p><br></p>
<div class="callout callout-important no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong><span style="color:red"><i class="fa-solid fa-circle-exclamation" aria-label="circle-exclamation"></i></span> <code>rm(list=ls())</code></strong></p>
</div>
<div class="callout-content">
<p>Make sure not to expect <code>rm(list=ls())</code> to give you a fresh <code>R</code> session. It may feel that way when all the objects in your global environment disappear but there are a host of dependencies (i.e.&nbsp;loaded packages, options set to non-defaults, the working directory) that have not changed. Your script will still be vulnerable to those settings unless you start a fresh <code>R</code> session.</p>
</div>
</div>
</div>
</div>
</section>
<section id="file-paths" class="slide level2">
<h2>File paths</h2>
<p>A file path specifies the location of a file in a computer’s file system structure. They can be used to locate files and web resources. Some important things to note:</p>
<ul>
<li class="fragment">For file systems, each level in the hierarchy is a directory
<ul>
<li class="fragment">For URLs, each level in the hierarchy is a page.</li>
</ul></li>
<li class="fragment">A path is a string of characters which specifies a unique location in a directory or page hierarchy.</li>
<li class="fragment">Different sections of the path are separated by a path separator, such as a forward slash (<code>/</code>).
<ul>
<li class="fragment">These different sections represent the separate directories or pages in the hierarchy.</li>
</ul></li>
<li class="fragment">In Unix-based operating systems, such as Linux or macOS, the path separator is a forward slash (<code>/</code>).
<ul>
<li class="fragment">In Windows, the path separator is a back slash (<code>\</code>).</li>
<li class="fragment">URLs follow a standard format that always uses a forward slash (<code>/</code>) as the path separator regardless of the operating system.</li>
</ul></li>
</ul>
</section>
<section id="absolute-versus-relative-paths" class="slide level2">
<h2>Absolute Versus Relative Paths</h2>
<div class="panel-tabset">
<ul id="tabset-4" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-4-1">Absolute</a></li><li><a href="#tabset-4-2">Relative</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1">
<p>Specifies the location of a file from the root directory in the file system structure. They are also called “full file paths” or “full paths.”</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a></a><span class="st">"/Users/victoriasass/Desktop/GitHub/CSSS508/Lectures/Lecture3/CSSS508_Lecture3.qmd"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<div class="fragment">
<p>In Linux, the <code>~</code> is commonly used to represent a user’s home directory, i.e.:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a></a><span class="st">"~/Desktop/GitHub/CSSS508/Lectures/Lecture3/CSSS508_Lecture3.qmd"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div id="tabset-4-2">
<p>Specifies the location of a file in the same folder or on the same server. In other words, a relative file path specifies a location of a file that is relative to the current directory.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a></a><span class="st">"./CSSS508_Lecture3.qmd"`</span><span class="at"> or </span><span class="st">`"CSSS508_Lecture3.qmd"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<div class="fragment">
<p>Relative file paths use a dot notation at the start of the path, followed by a path separator and the location of the file.</p>
<ul>
<li>A single dot (<code>.</code>) indicates the current directory (as shown above)</li>
<li>A double dot (<code>..</code>) indicates the parent directory.</li>
</ul>
</div>
<div class="fragment">
<p>For example, if I wanted to reference the syllabus (which is in the main project folder <code>CSSS508</code>) from my current folder <code>Lecture3</code> I would write:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a></a><span class="st">"../../syllabus.qmd"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="paths-and-projects" class="slide level2">
<h2>Paths and Projects</h2>
<p>When you work in an RStudio Project your <em>working directory</em> is the project folder.</p>
<div class="fragment">
<p>If you are working on a <code>R</code> script or qmd file in a subfolder of this project, the working directory of that file will be its subfolder (not the project folder.</p>
</div>
<div class="fragment">
<p>Keep this in mind when you’re writing code and testing it interactively! Your current working directory will be the project folder when running code interactively even if you’re writing code for a qmd that has a subfolder as the working directory.</p>

</div>
<aside><div>
<p>This is only relevant when using file paths (obviously). The most common uses of file paths in an <code>R</code> script or qmd is to read in or write data, and to save plots and tables.</p>
</div></aside></section>
<section id="divide-and-conquer" class="slide level2">
<h2>Divide and Conquer</h2>
<p>Often you do not want to include all code for a project in one <code>.qmd</code> file:</p>
<ul>
<li>The code takes too long to knit.</li>
<li>The file is so long it is difficult to read.</li>
</ul>
<div class="fragment">
<p>There are two ways to deal with this:</p>
<ol type="1">
<li><p>Use separate <code>.R</code> scripts or <code>.qmd</code> files which save results from complicated parts of a project, then load these results in the main <code>.qmd</code> file.</p>
<ul>
<li>This is good for loading and cleaning large data.</li>
<li>Also for running slow models.</li>
</ul></li>
</ol>
</div>
<div class="fragment">
<ol start="2" type="1">
<li><p>Use <code>source()</code> to run external <code>.R</code> scripts when the <code>.qmd</code> renders</p>
<ul>
<li>This can be used to run large files that aren’t impractically slow.</li>
<li>Also good for loading project-specific functions.</li>
</ul></li>
</ol>
</div>
</section>
<section id="the-way-of-many-files" class="slide level2">
<h2>The Way of Many Files</h2>
<p>I find it beneficial to break projects into <em>many</em> files:</p>
<ul>
<li>Scripts with specialized functions.</li>
<li>Scripts to load and clean each set of variables.</li>
<li>Scripts to run each set of models and make tables and plots.</li>
<li>A main .qmd that runs some or all of these to reproduce the entire project.</li>
</ul>
<div class="fragment">
<p>Splitting up a project carries benefits:</p>
<ul>
<li>Once a portion of the project is done and in its own file, <em>it is out of your way.</em></li>
<li>If you need to make changes, you don’t need to search through huge files.</li>
<li>Entire sections of the project can be added or removed quickly (e.g.&nbsp;converted to an appendix of an article)</li>
<li><strong>It is the only way to build a proper <em>pipeline</em> for a project. </strong></li>
</ul>
</div>
</section>
<section id="pipelines" class="slide level2">
<h2>Pipelines</h2>
<p>Professional researchers and teams design projects as a <strong>pipeline</strong>.</p>
<div class="fragment">
<p>A <strong>pipeline</strong> is a series of consecutive processing elements (scripts and functions in R).</p>
</div>
<div class="fragment">
<p>Each stage of a pipeline…</p>
<ol type="1">
<li>Has clearly defined inputs and outputs</li>
<li>Does not modify its inputs.</li>
<li>Produces the exact same output every time it is re-run.</li>
</ol>
</div>
<div class="fragment">
<p>This means…</p>
<ol type="1">
<li>When you modify one stage, you only need to rerun <em>subsequent stages</em>.</li>
<li>Different people can work on each stage.</li>
<li>Problems are isolated within stages.</li>
<li>You can depict your project as a <em>directed graph</em> of <strong>dependencies</strong>.</li>
</ol>
</div>
</section>
<section id="example-pipeline" class="slide level2">
<h2>Example Pipeline</h2>
<p>Every stage (oval) has an unambiguous input and output. Everything that precedes a given stage is a <strong>dependency</strong> — something required to run it.</p>
<p><img data-src="images/pipeline.svg"></p>

<aside><div>
<p>Note: <a href="https://docs.ropensci.org/targets/"><code>targets</code> is a great package for managing R research pipelines.</a></p>
</div></aside></section></section>
<section>
<section id="lab-3" class="title-slide slide level1 section-title center" data-background-color="#99a486">
<h1>Lab 3</h1>

</section>
<section id="section" class="slide level2" data-menu-title="Lab Exercises">
<h2></h2>
<ol type="1">
<li><p>If you haven’t already, go to <em>Tools</em> &gt; <em>Global Options</em> and adjust your settings (i.e.&nbsp;<em>General</em>, <em>Code</em> &gt; <em>Editing</em>, and <em>Code</em> &gt; <em>Display</em>) to those recommended in the lecture and any others that you’d like to change (i.e.&nbsp;<em>Appearance</em>, <em>Pane Layout</em>, or <em>R Markdown</em>)</p></li>
<li><p>Restyle the following pipelines following the guidelines discussed in lecture:</p></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a></a>flights<span class="sc">|&gt;</span><span class="fu">filter</span>(dest<span class="sc">==</span><span class="st">"IAH"</span>)<span class="sc">|&gt;</span><span class="fu">group_by</span>(year,month,day)<span class="sc">|&gt;</span><span class="fu">summarize</span>(<span class="at">n=</span><span class="fu">n</span>(),</span>
<span id="cb17-2"><a></a><span class="at">delay=</span><span class="fu">mean</span>(arr_delay,<span class="at">na.rm=</span><span class="cn">TRUE</span>))<span class="sc">|&gt;</span><span class="fu">filter</span>(n<span class="sc">&gt;</span><span class="dv">10</span>)</span>
<span id="cb17-3"><a></a></span>
<span id="cb17-4"><a></a>flights<span class="sc">|&gt;</span><span class="fu">filter</span>(carrier<span class="sc">==</span><span class="st">"UA"</span>,dest<span class="sc">%in%</span><span class="fu">c</span>(<span class="st">"IAH"</span>,<span class="st">"HOU"</span>),sched_dep_time<span class="sc">&gt;</span></span>
<span id="cb17-5"><a></a><span class="dv">0900</span>,sched_arr_time<span class="sc">&lt;</span><span class="dv">2000</span>)<span class="sc">|&gt;</span><span class="fu">group_by</span>(flight)<span class="sc">|&gt;</span><span class="fu">summarize</span>(<span class="at">delay=</span><span class="fu">mean</span>(</span>
<span id="cb17-6"><a></a>arr_delay,<span class="at">na.rm=</span><span class="cn">TRUE</span>),<span class="at">cancelled=</span><span class="fu">sum</span>(<span class="fu">is.na</span>(arr_delay)),<span class="at">n=</span><span class="fu">n</span>())<span class="sc">|&gt;</span><span class="fu">filter</span>(n<span class="sc">&gt;</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="3" type="1">
<li><p>Press <em>Option</em> + <em>Shift</em> + <em>K</em> / <em>Alt</em> + <em>Shift</em> + <em>K</em>. What happens? How can you get to the same place using the menus?</p></li>
<li><p>Tweak each of the following R commands so that they run correctly:</p></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a></a><span class="fu">libary</span>(todyverse)</span>
<span id="cb18-2"><a></a></span>
<span id="cb18-3"><a></a><span class="fu">ggplot</span>(<span class="at">dTA =</span> mpg) <span class="sc">+</span> </span>
<span id="cb18-4"><a></a>  <span class="fu">geom_point</span>(<span class="at">maping =</span> <span class="fu">aes</span>(<span class="at">x =</span> displ <span class="at">y =</span> hwy)) <span class="sc">+</span></span>
<span id="cb18-5"><a></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="5" type="1">
<li>What might be a good way to organize your homework assignments for this class?</li>
</ol>
</section>









</section>
<section id="break" class="title-slide slide level1 section-title center" data-background-color="#1e4655">
<h1>Break!</h1>

</section>

<section>
<section id="reproducible-research" class="title-slide slide level1 section-title center" data-background-color="#99a486">
<h1>Reproducible Research</h1>

</section>
<section id="why-reproducibility" class="slide level2">
<h2>Why Reproducibility?</h2>
<p>Reproducibility is not <em>replication</em>.</p>
<ul>
<li><strong>Replication</strong> is running a new study to show if and how results of a prior study hold.</li>
<li><strong>Reproducibility</strong> is about rerunning <em>the same study</em> and getting the <em>same results</em>.</li>
</ul>
<div class="fragment">
<p>Reproducible studies can still be <em>wrong</em>… and in fact reproducibility makes proving a study wrong <em>much easier</em>.</p>
</div>
<div class="fragment">
<p><br>
</p>
<p>Reproducibility means:</p>
<ul>
<li>Transparent research practices.</li>
<li>Minimal barriers to verifying your results.</li>
</ul>
</div>
<div class="fragment">
<p><em>Any study that isn’t reproducible can only be trusted on faith.</em></p>
</div>
</section>
<section id="reproducibility-definitions" class="slide level2">
<h2>Reproducibility Definitions</h2>
<p>Reproducibility comes in three forms (Stodden 2014):</p>
<ol type="1">
<li class="fragment"><strong>Empirical:</strong> Repeatability in data collection.</li>
<li class="fragment"><strong>Statistical:</strong> Verification with alternate methods of inference.</li>
<li class="fragment"><strong>Computational:</strong> Reproducibility in cleaning, organizing, and presenting data and results.</li>
</ol>
<div class="fragment">
<p>R is particularly well suited to enabling <strong>computational reproducibility</strong><sup>1</sup>.</p>
</div>
<div class="fragment">
<p>They will not fix flawed research design, nor offer a remedy for improper application of statistical methods.</p>
<p>Those are the difficult, non-automatable things you want skills in.</p>
</div>
<aside><ol class="aside-footnotes"><li id="fn3"><p> Python is equally well suited. Julia is an option as well.</p></li></ol></aside></section>
<section id="computational-reproducibility" class="slide level2">
<h2>Computational Reproducibility</h2>
<p>Elements of computational reproducibility:</p>
<div class="fragment">
<ul>
<li>Shared data
<ul>
<li>Researchers need your original data to verify and replicate your work.</li>
</ul></li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Shared code
<ul>
<li>Your code must be shared to make decisions transparent.</li>
</ul></li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Documentation
<ul>
<li>The operation of code should be either self-documenting or have written descriptions to make its use clear.</li>
</ul></li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Version Control<sup>1</sup>
<ul>
<li>Documents the research process.</li>
<li>Prevents losing work and facilitates sharing.</li>
</ul></li>
</ul>
</div>
<aside><ol class="aside-footnotes"><li id="fn4"><p>We’ll come back to this on the last week of class.</p></li></ol></aside></section>
<section id="levels-of-reproducibility" class="slide level2">
<h2>Levels of Reproducibility</h2>
<p>For academic papers, degrees of reproducibility vary:</p>
<ol start="0" type="1">
<li class="fragment">“Read the article”</li>
<li class="fragment">Shared data with documentation</li>
<li class="fragment">Shared data and all code</li>
<li class="fragment">Interactive document<sup>1</sup></li>
<li class="fragment">Research compendium<sup>2</sup></li>
<li class="fragment">Docker compendium<sup>3</sup>: Self-contained ecosystem</li>
</ol>
<aside><ol class="aside-footnotes"><li id="fn5"><p>A .qmd is one such example.</p></li><li id="fn6"><p>Usually contains all code, data, documentation, and outputs related to the project, allowing others to reproduce your analyses.</p></li><li id="fn7"><p>A research compendium that includes a Dockerfile or container image so the full computational environment can be recreated, regardless of machine setup.</p></li></ol></aside></section>
<section id="interactive-documents" class="slide level2">
<h2>Interactive Documents</h2>
<p>Interactive documents — like Quarto docs — combine code and text together into a self-contained document.</p>
<ul>
<li>Load and process data</li>
<li>Run models</li>
<li>Generate tables and plots in-line with text</li>
<li>In-text values automatically filled in</li>
</ul>
<div class="fragment">
<p>Interactive documents allow a reader to examine your computational methods within the document itself; in effect, they are self-documenting.</p>
</div>
<div class="fragment">
<p>By re-running the code, they reproduce your results on demand.</p>
</div>
<div class="fragment">
<p>Common Platforms:</p>
<ul>
<li><strong>R:</strong> Quarto</li>
<li><strong>Python:</strong> Jupyter Notebooks</li>
</ul>
</div>
</section></section>
<section>
<section id="useful-base-r" class="title-slide slide level1 section-title center" data-background-color="#99a486">
<h1>Useful Base R</h1>

</section>
<section id="selecting-from-vectors-with" class="slide level2">
<h2>Selecting from vectors with <code>[</code></h2>
<div class="columns">
<div class="column" style="width:40%;">
<p>Given a vector<sup>1</sup> of values:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">a =</span> <span class="st">"one"</span>, </span>
<span id="cb24-2"><a></a>       <span class="at">b =</span> <span class="cn">NA</span>, </span>
<span id="cb24-3"><a></a>       <span class="at">c =</span> <span class="st">"two"</span>, </span>
<span id="cb24-4"><a></a>       <span class="at">d =</span> <span class="st">"three"</span>, </span>
<span id="cb24-5"><a></a>       <span class="at">e =</span> <span class="st">"four"</span>, </span>
<span id="cb24-6"><a></a>       <span class="at">f =</span> <span class="cn">NA</span>, </span>
<span id="cb24-7"><a></a>       <span class="at">g =</span> <span class="cn">NA</span>, </span>
<span id="cb24-8"><a></a>       <span class="at">h =</span> <span class="st">"five"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:60%;">
<p>You can select from the vector</p>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-28"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-28" data-target-annotation="1">1</button><span id="annotated-cell-28-1" class="code-annotation-target"><a href="#annotated-cell-28-1"></a>x[<span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">5</span>)]</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-28" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-28" data-code-lines="1" data-code-annotation="1">With positive integers</span>
</dd>
</dl>
</div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code>     c      a      e 
 "two"  "one" "four" </code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-30"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="2">2</button><span id="annotated-cell-30-1" class="code-annotation-target"><a href="#annotated-cell-30-1"></a>x[<span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">3</span>)]</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-30" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="1" data-code-annotation="2">Even repeated values</span>
</dd>
</dl>
</div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code>     c      a      a      e      c 
 "two"  "one"  "one" "four"  "two" </code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-32"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-32" data-target-annotation="3">3</button><span id="annotated-cell-32-1" class="code-annotation-target"><a href="#annotated-cell-32-1"></a>x[<span class="fu">c</span>(<span class="sc">-</span><span class="dv">2</span>, <span class="sc">-</span><span class="dv">6</span>, <span class="sc">-</span><span class="dv">7</span>)]</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-32" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-32" data-code-lines="1" data-code-annotation="3">With negative integers (removes these elements from the vector)</span>
</dd>
</dl>
</div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code>      a       c       d       e       h 
  "one"   "two" "three"  "four"  "five" </code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-34"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-34" data-target-annotation="4">4</button><span id="annotated-cell-34-1" class="code-annotation-target"><a href="#annotated-cell-34-1"></a>x[<span class="sc">!</span><span class="fu">is.na</span>(x)]</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-34" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-34" data-code-lines="1" data-code-annotation="4">With a logical vector</span>
</dd>
</dl>
</div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code>      a       c       d       e       h 
  "one"   "two" "three"  "four"  "five" </code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-36"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-36" data-target-annotation="5">5</button><span id="annotated-cell-36-1" class="code-annotation-target"><a href="#annotated-cell-36-1"></a>x[<span class="fu">c</span>(<span class="st">"c"</span>, <span class="st">"h"</span>)]</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-36" data-target-annotation="5">5</dt>
<dd>
<span data-code-cell="annotated-cell-36" data-code-lines="1" data-code-annotation="5">Or with a named vector</span>
</dd>
</dl>
</div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code>     c      h 
 "two" "five" </code></pre>
</div>
</div>
</div>
</div></div>
<aside><ol class="aside-footnotes"><li id="fn8"><p>This is an example of a <em>named</em> vector, where each element is given a name (LHS) associated with its value (RHS).</p></li></ol></aside></section>
<section id="selecting-from-dataframes-with" class="slide level2">
<h2>Selecting from dataframes with <code>[</code></h2>
<p>You can select rows and columns from dataframes with <code>df[rows, cols]</code>.</p>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-38"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-38-1"><a href="#annotated-cell-38-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="annotated-cell-38-2"><a href="#annotated-cell-38-2"></a>  <span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, </span>
<span id="annotated-cell-38-3"><a href="#annotated-cell-38-3"></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"e"</span>, <span class="st">"f"</span>), </span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-38" data-target-annotation="1">1</button><span id="annotated-cell-38-4" class="code-annotation-target"><a href="#annotated-cell-38-4"></a>  <span class="at">z =</span> <span class="fu">runif</span>(<span class="dv">3</span>)</span>
<span id="annotated-cell-38-5"><a href="#annotated-cell-38-5"></a>)</span>
<span id="annotated-cell-38-6"><a href="#annotated-cell-38-6"></a></span>
<span id="annotated-cell-38-7"><a href="#annotated-cell-38-7"></a>df</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-38" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-38" data-code-lines="4" data-code-annotation="1">defaults: <code>min = 0</code>, <code>max = 1</code></span>
</dd>
</dl>
</div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
      x y         z
  &lt;int&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 a     0.444
2     2 e     0.215
3     3 f     0.487</code></pre>
</div>
</div>
</div><div class="column" style="width:60%;">
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-40"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-40" data-target-annotation="2">2</button><span id="annotated-cell-40-1" class="code-annotation-target"><a href="#annotated-cell-40-1"></a>df[<span class="dv">1</span>, <span class="dv">2</span>]</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-40" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-40" data-code-lines="1" data-code-annotation="2">Select first row and second column</span>
</dd>
</dl>
</div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  y    
  &lt;chr&gt;
1 a    </code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-42"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-42" data-target-annotation="3">3</button><span id="annotated-cell-42-1" class="code-annotation-target"><a href="#annotated-cell-42-1"></a>df[, <span class="fu">c</span>(<span class="st">"x"</span> , <span class="st">"y"</span>)]</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-42" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-42" data-code-lines="1" data-code-annotation="3">Select all rows and columns <code>x</code> and <code>y</code></span>
</dd>
</dl>
</div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
      x y    
  &lt;int&gt; &lt;chr&gt;
1     1 a    
2     2 e    
3     3 f    </code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-44"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-44" data-target-annotation="4">4</button><span id="annotated-cell-44-1" class="code-annotation-target"><a href="#annotated-cell-44-1"></a>df[df<span class="sc">$</span>x <span class="sc">&gt;</span> <span class="dv">1</span>, ]</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-44" data-target-annotation="4">4</dt>
<dd>
<span data-code-cell="annotated-cell-44" data-code-lines="1" data-code-annotation="4">Select rows based on a logical condition (more on this in <a href="https://vsass.github.io/CSSS508/Lectures/Lecture4/CSSS508_Lecture4_index.html">Week 4</a>), i.e.&nbsp;where rows of <code>x</code> are greater than 1 and all columns</span>
</dd>
</dl>
</div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 3
      x y         z
  &lt;int&gt; &lt;chr&gt; &lt;dbl&gt;
1     2 e     0.215
2     3 f     0.487</code></pre>
</div>
</div>
</div>
</div></div>
</section>
<section id="data.frame-vs.-tibble" class="slide level2">
<h2><code>data.frame()</code> vs.&nbsp;<code>tibble()</code></h2>
<p><span style="font-size: 85%;">Tibbles are the tidyverse version of a base <code>R</code> dataframe. Usually you can use them interchangably without issue but they have slightly different behavior that’s important to know about when indexing in this way.</span></p>
<div class="fragment">
<div class="columns">
<div class="column" style="width:50%;">
<p><span style="font-size: 85%;">If <code>df</code> is a data.frame, then <code>df[, cols]</code> will return a vector if <code>col</code> selects a single column and a data frame if it selects more than one column.</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a></a>df1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span>
<span id="cb34-2"><a></a>df1[, <span class="st">"x"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><span style="font-size: 85%;">If <code>df</code> is a tibble, then <code>[</code> will always return a tibble.</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a></a>df2 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span>
<span id="cb36-2"><a></a>df2[, <span class="st">"x"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 1
      x
  &lt;int&gt;
1     1
2     2
3     3</code></pre>
</div>
</div>
</div></div>
</div>
<div class="fragment">
<p><br>
</p>
<p><span style="font-size: 85%;">One way to avoid this ambiguity with <code>data.frames</code> is to explicitly specify <code>drop = FALSE</code>:</span></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a></a>df1[, <span class="st">"x"</span> , drop <span class="ot">=</span> <span class="cn">FALSE</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code>  x
1 1
2 2
3 3</code></pre>
</div>
</div>
</div>
</section>
<section id="selecting-from-dataframes-with-and" class="slide level2">
<h2>Selecting from dataframes with <code>[[</code> and <code>$</code></h2>
<p><code>[</code>, which selects many elements, is paired with <code>[[</code> and <code>$</code>, which extract a single element.</p>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a></a>tb <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb40-2"><a></a>  <span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>,</span>
<span id="cb40-3"><a></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">4</span>, <span class="dv">1</span>, <span class="dv">21</span>)</span>
<span id="cb40-4"><a></a>)</span>
<span id="cb40-5"><a></a></span>
<span id="cb40-6"><a></a>tb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 2
      x     y
  &lt;int&gt; &lt;dbl&gt;
1     1    10
2     2     4
3     3     1
4     4    21</code></pre>
</div>
</div>
</div><div class="column" style="width:60%;">
<div class="fragment">
<p><code>[[</code> can access by position or by name:</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-53"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-53" data-target-annotation="1">1</button><span id="annotated-cell-53-1" class="code-annotation-target"><a href="#annotated-cell-53-1"></a>tb[[<span class="dv">1</span>]]</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-53" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-53" data-code-lines="1" data-code-annotation="1">By position</span>
</dd>
</dl>
</div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-55"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-55" data-target-annotation="2">2</button><span id="annotated-cell-55-1" class="code-annotation-target"><a href="#annotated-cell-55-1"></a>tb[[<span class="st">"x"</span>]]</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-55" data-target-annotation="2">2</dt>
<dd>
<span data-code-cell="annotated-cell-55" data-code-lines="1" data-code-annotation="2">By name</span>
</dd>
</dl>
</div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-57"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><button class="code-annotation-anchor" data-target-cell="annotated-cell-57" data-target-annotation="3">3</button><span id="annotated-cell-57-1" class="code-annotation-target"><a href="#annotated-cell-57-1"></a>tb<span class="sc">$</span>x</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-57" data-target-annotation="3">3</dt>
<dd>
<span data-code-cell="annotated-cell-57" data-code-lines="1" data-code-annotation="3"><code>$</code> is specialized for access by name</span>
</dd>
</dl>
</div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p>They can also be used to create new columns.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a></a>tb<span class="sc">$</span>z <span class="ot">&lt;-</span> tb<span class="sc">$</span>x <span class="sc">+</span> tb<span class="sc">$</span>y</span>
<span id="cb45-2"><a></a>tb</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 3
      x     y     z
  &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;
1     1    10    11
2     2     4     6
3     3     1     4
4     4    21    25</code></pre>
</div>
</div>
</div>
</div></div>
</section>
<section id="getting-help" class="slide level2 scrollable">
<h2>Getting Help <span style="color:#99a486"><i class="fa-solid fa-scroll" aria-label="scroll"></i></span></h2>
<p>One of the most difficult things as a beginner in <code>R</code> (or any language tbh) is not always knowing what to ask to solve your issue. Being in this class is a great first step! Some other useful tools:</p>
<ul>
<li class="fragment"><strong>Google</strong>
<ul>
<li class="fragment">Adding <code>R</code> to your query is basic but useful and often overlooked. Including the package name, if you’re using one, is another. Finally, what is it you want to do? For example “R dplyr create new variable based on value of another.”</li>
<li class="fragment">Copy and pasting error messages is also helpful!</li>
</ul></li>
<li class="fragment"><strong>StackOverflow</strong>
<ul>
<li class="fragment">Many of your Google queries will take you here anyways so you might try going directly to the source! Filter by <code>R</code> and make sure to include a <code>reprex</code> so people can actually understand what your issue is.</li>
</ul></li>
<li class="fragment"><strong>Reprex</strong>
<ul>
<li class="fragment">Short for minimal <code>repr</code>oducible <code>ex</code>ample this is a version of your code that someone could copy and run on their own machine, making it possible for them to help you troubleshoot your problem.</li>
<li class="fragment">You want to strip away everything not pertinent to the issue you’re having so that it’s simple and straightforward.</li>
<li class="fragment">You can use the <a href="https://reprex.tidyverse.org/"><code>reprex</code></a> package for assistance with this!<sup>1</sup></li>
</ul></li>
<li class="fragment"><strong>Putting in the work up front</strong>
<ul>
<li class="fragment">It’s cliché, but investing in your learning right now will pay off down the road.</li>
<li class="fragment">Learning how to do something, why <code>R</code> works in a certain way, and developing practices that keep you organized will make you more efficient and help prevent minor and major frustrations going forward.</li>
</ul></li>
</ul>
<aside><ol class="aside-footnotes"><li id="fn9"><p><code>dput()</code> is also a useful function for quickly creating a snippet of your data to share with others to illustrate your issue.</p></li></ol></aside></section></section>
<section>
<section id="homework" class="title-slide slide level1 section-title center" data-background-color="#1e4655">
<h1>Homework</h1>

</section>
<section id="section-1" class="slide level2" data-menu-title="Homework 3" data-background-iframe="https://vsass.github.io/CSSS508/Homework/HW3/homework3.html" data-background-interactive="TRUE">
<h2></h2>


</section></section>

    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-pointer/pointer.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': false,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'pointer': {"key":"q","color":"#b18eb1","pointerSize":16,"alwaysVisible":false},
'smaller': true,
 
        // Display controls in the bottom right corner
        controls: true,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: true,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: false,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: true,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, RevealPointer, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
                // default icon
                link.classList.add("external");
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
            let selectedAnnoteEl;
            const selectorForAnnotation = ( cell, annotation) => {
              let cellAttr = 'data-code-cell="' + cell + '"';
              let lineAttr = 'data-code-annotation="' +  annotation + '"';
              const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
              return selector;
            }
            const selectCodeLines = (annoteEl) => {
              const doc = window.document;
              const targetCell = annoteEl.getAttribute("data-target-cell");
              const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
              const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
              const lines = annoteSpan.getAttribute("data-code-lines").split(",");
              const lineIds = lines.map((line) => {
                return targetCell + "-" + line;
              })
              let top = null;
              let height = null;
              let parent = null;
              if (lineIds.length > 0) {
                  //compute the position of the single el (top and bottom and make a div)
                  const el = window.document.getElementById(lineIds[0]);
                  top = el.offsetTop;
                  height = el.offsetHeight;
                  parent = el.parentElement.parentElement;
                if (lineIds.length > 1) {
                  const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
                  const bottom = lastEl.offsetTop + lastEl.offsetHeight;
                  height = bottom - top;
                }
                if (top !== null && height !== null && parent !== null) {
                  // cook up a div (if necessary) and position it 
                  let div = window.document.getElementById("code-annotation-line-highlight");
                  if (div === null) {
                    div = window.document.createElement("div");
                    div.setAttribute("id", "code-annotation-line-highlight");
                    div.style.position = 'absolute';
                    parent.appendChild(div);
                  }
                  div.style.top = top - 2 + "px";
                  div.style.height = height + 4 + "px";
                  div.style.left = 0;
                  let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
                  if (gutterDiv === null) {
                    gutterDiv = window.document.createElement("div");
                    gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                    gutterDiv.style.position = 'absolute';
                    const codeCell = window.document.getElementById(targetCell);
                    const gutter = codeCell.querySelector('.code-annotation-gutter');
                    gutter.appendChild(gutterDiv);
                  }
                  gutterDiv.style.top = top - 2 + "px";
                  gutterDiv.style.height = height + 4 + "px";
                }
                selectedAnnoteEl = annoteEl;
              }
            };
            const unselectCodeLines = () => {
              const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
              elementsIds.forEach((elId) => {
                const div = window.document.getElementById(elId);
                if (div) {
                  div.remove();
                }
              });
              selectedAnnoteEl = undefined;
            };
              // Handle positioning of the toggle
          window.addEventListener(
            "resize",
            throttle(() => {
              elRect = undefined;
              if (selectedAnnoteEl) {
                selectCodeLines(selectedAnnoteEl);
              }
            }, 10)
          );
          function throttle(fn, ms) {
          let throttle = false;
          let timer;
            return (...args) => {
              if(!throttle) { // first call gets through
                  fn.apply(this, args);
                  throttle = true;
              } else { // all the others get throttled
                  if(timer) clearTimeout(timer); // cancel #2
                  timer = setTimeout(() => {
                    fn.apply(this, args);
                    timer = throttle = false;
                  }, ms);
              }
            };
          }
            const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
            for (let i=0; i<annoteTargets.length; i++) {
              const annoteTarget = annoteTargets[i];
              const targetCell = annoteTarget.getAttribute("data-target-cell");
              const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
              const contentFn = () => {
                const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
                if (content) {
                  const tipContent = content.cloneNode(true);
                  tipContent.classList.add("code-annotation-tip-content");
                  return tipContent.outerHTML;
                }
              }
              const config = {
                allowHTML: true,
                content: contentFn,
                onShow: (instance) => {
                  selectCodeLines(instance.reference);
                  instance.reference.classList.add('code-annotation-active');
                  window.tippy.hideAll();
                },
                onHide: (instance) => {
                  unselectCodeLines();
                  instance.reference.classList.remove('code-annotation-active');
                },
                maxWidth: 300,
                delay: [50, 0],
                duration: [200, 0],
                offset: [5, 10],
                arrow: true,
                appendTo: function(el) {
                  return el.parentElement.parentElement.parentElement;
                },
                interactive: true,
                interactiveBorder: 10,
                theme: 'light-border',
                placement: 'right',
                popperOptions: {
                  modifiers: [
                  {
                    name: 'flip',
                    options: {
                      flipVariations: false, // true by default
                      allowedAutoPlacements: ['right'],
                      fallbackPlacements: ['right', 'top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end', 'left'],
                    },
                  },
                  {
                    name: 'preventOverflow',
                    options: {
                      mainAxis: false,
                      altAxis: false
                    }
                  }
                  ]        
                }      
              };
              window.tippy(annoteTarget, config); 
            }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>