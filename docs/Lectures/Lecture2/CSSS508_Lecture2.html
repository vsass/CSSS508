<!DOCTYPE html>
<html lang="en"><head>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.4.551">

  <title>csss508_lecture2</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #97947a;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #97947a;  padding-left: 4px; }
    div.sourceCode
      { color: #f8f8f2; background-color: #2b2b2b; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #f8f8f2; } /* Normal */
    code span.al { color: #dcc6e0; } /* Alert */
    code span.an { color: #d4d0ab; } /* Annotation */
    code span.at { color: #ffd700; } /* Attribute */
    code span.bn { color: #dcc6e0; } /* BaseN */
    code span.bu { color: #f5ab35; } /* BuiltIn */
    code span.cf { color: #ffa07a; } /* ControlFlow */
    code span.ch { color: #abe338; } /* Char */
    code span.cn { color: #ffa07a; } /* Constant */
    code span.co { color: #d4d0ab; } /* Comment */
    code span.cv { color: #d4d0ab; font-style: italic; } /* CommentVar */
    code span.do { color: #d4d0ab; font-style: italic; } /* Documentation */
    code span.dt { color: #dcc6e0; } /* DataType */
    code span.dv { color: #dcc6e0; } /* DecVal */
    code span.er { color: #dcc6e0; } /* Error */
    code span.ex { color: #ffd700; } /* Extension */
    code span.fl { color: #f5ab35; } /* Float */
    code span.fu { color: #ffd700; } /* Function */
    code span.im { color: #f8f8f2; } /* Import */
    code span.in { color: #d4d0ab; } /* Information */
    code span.kw { color: #ffa07a; } /* Keyword */
    code span.op { color: #00e0e0; } /* Operator */
    code span.ot { color: #ffa07a; } /* Other */
    code span.pp { color: #dcc6e0; } /* Preprocessor */
    code span.sc { color: #00e0e0; } /* SpecialChar */
    code span.ss { color: #abe338; } /* SpecialString */
    code span.st { color: #abe338; } /* String */
    code span.va { color: #f5ab35; } /* Variable */
    code span.vs { color: #abe338; } /* VerbatimString */
    code span.wa { color: #d4d0ab; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto.css">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-pointer/pointer.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">


<section id="title-slide" class="slide level2 center" data-menu-title="Visualizing Data" data-background="#1e4655" data-background-image="../../images/csss-logo.png" data-background-position="center top 5%" data-background-size="50%">
<h2></h2>
<p><span class="custom-title">Visualizing Data</span></p>
<p><span class="custom-subtitle">CS&amp;SS 508 • Lecture 2</span></p>
<p><span class="custom-subtitle2">2 April 2024</span></p>
<p><span class="custom-subtitle3">Victoria Sass</span></p>
</section>
<section>
<section id="roadmap" class="title-slide slide level1 section-title center" data-background-color="#99a486">
<h1>Roadmap</h1>

</section>
<section class="slide level2">

<div class="columns">
<div class="column" style="width:50%;">
<p><br></p>
<h3 id="last-time-we-learned">Last time, we learned:</h3>
<ul>
<li>R and RStudio</li>
<li>Quarto headers, syntax, and chunks</li>
<li>Basics of functions, objects, and vectors</li>
<li>Base <code>R</code> and packages</li>
</ul>
</div><div class="column" style="width:50%;">
<p><br></p>
<div class="fragment">
<!-- -->
<h3 id="today-we-will-cover">Today, we will cover:</h3>
<ul>
<li>Introducing the <code>tidyverse</code>!</li>
<li>Basics of <code>ggplot2</code></li>
<li>Advanced features of <code>ggplot2</code></li>
<li><code>ggplot2</code> extensions</li>
</ul>
</div>
</div>
</div>
</section>
<section id="file-types" class="slide level2">
<h2>File Types</h2>
<p>We mainly work with three types of files in this class:</p>
<div>
<ul>
<li class="fragment"><code>.qmd</code><sup>1</sup>: These are <strong>markdown</strong> <em>syntax</em> files, where you write code and plain or formatted text to <em>make documents</em>.</li>
<li class="fragment"><code>.R</code>: These are <strong>R</strong> <em>syntax</em> files, where you write code to process and analyze data <em>without making an output document</em><sup>2</sup>.</li>
<li class="fragment"><code>.html</code> (or <code>.pdf</code>, <code>.docx</code>, etc.): These are the output documents created when you <em>Render</em> a quarto markdown document.</li>
</ul>
</div>
<div class="fragment">
<p>Make sure you understand the difference between the uses of these file types! Please ask for clarification if needed!</p>
</div>
<aside><ol class="aside-footnotes"><li id="fn1"><p>Quarto builds on a decade of developments with R Markdown documents. .Rmd files operate <strong>very</strong> similarly to Quarto documents but there are minor differences that you can read more about <a href="https://quarto.org/docs/computations/r.html#:~:text=Another%20difference%20between%20R%20Markdown,than%20relying%20on%20external%20packages">here</a>.</p></li><li id="fn2"><p>You can use the <code>source()</code> function to run a <code>.R</code> script file inside a <code>.qmd</code> or <code>.R</code> file. Using this you can break a large project up into multiple files but still run it all at once!</p></li></ol></aside></section></section>
<section>
<section id="introducing-the-tidyverse" class="title-slide slide level1 section-title center" data-background-color="#99a486">
<h1>Introducing the <code>tidyverse</code></h1>

</section>
<section id="packages" class="slide level2">
<h2>Packages</h2>
<p>Last week we discussed Base <code>R</code> and the fact that what makes <code>R</code> extremely powerful and flexible is the large number of diverse user-created packages.</p>
<div class="fragment">
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong><span style="color:blue"><i class="fa-solid fa-hand" aria-label="hand"></i></span> What are packages again?</strong></p>
</div>
<div class="callout-content">
<p>Recall that packages are simply <strong>collections of functions and tools</strong> others have already created, that will make your life easier!</p>
</div>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-caution no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong><span style="color:tomato"><i class="fa-solid fa-triangle-exclamation" aria-label="triangle-exclamation"></i></span> The package 2-step</strong></p>
</div>
<div class="callout-content">
<p>Remember that to <strong>install</strong> a new package you use <code>install.packages("package_name")</code> in the <strong>console</strong>. You only need to do this once per machine (unless you want to update to a newer version of a package).</p>
<p>To <strong>load</strong> a package into your current session of <code>R</code> you use <code>library(package_name)</code>, preferably at the beginning of your <code>R</code> script or Quarto document. Every time you open RStudio it’s a new session and you’ll have to call <code>library()</code> on the packages you want to use.</p>
</div>
</div>
</div>
</div>
</section>
<section id="packages-1" class="slide level2">
<h2>Packages</h2>
<p>The <code>Packages</code> tab in the bottom-right pane of RStudio lists your installed packages.</p>

<img data-src="images/package_tab.png" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="the-tidyverse" class="slide level2">
<h2>The <code>tidyverse</code></h2>
<p>The <code>tidyverse</code> refers to two things:</p>
<div>
<ol type="1">
<li class="fragment">a specific package in <code>R</code> that loads several core packages within the <code>tidyverse</code>.<br>
</li>
<li class="fragment">a specific design philosophy, grammar, and focus on “tidy” data structures developed by Hadley Wickham<sup>1</sup> and his team at RStudio (now named Posit).</li>
</ol>
</div>
<aside><ol class="aside-footnotes"><li id="fn3"><p>You can read the official manifesto <a href="https://tidyverse.tidyverse.org/articles/manifesto.html">here</a>.</p></li></ol></aside></section>
<section id="the-tidyverse-package" class="slide level2">
<h2>The <code>tidyverse</code> package</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>The core packages within the <code>tidyverse</code> include:</p>
<div>
<ul>
<li class="fragment"><code>ggplot2</code> (visualizations)</li>
<li class="fragment"><code>dplyr</code> (data manipulation)</li>
<li class="fragment"><code>tidyr</code> (data reshaping)</li>
<li class="fragment"><code>readr</code> (data import/export)</li>
<li class="fragment"><code>purrr</code> (iteration)</li>
<li class="fragment"><code>tibble</code> (modern dataframe)</li>
<li class="fragment"><code>stringr</code> (text data)</li>
<li class="fragment"><code>forcats</code> (factors)</li>
</ul>
</div>
</div><div class="column" style="width:50%;">
<p><br></p>
<p><img data-src="images/tidyverse.png"></p>
</div>
</div>
</section>
<section id="the-tidyverse-philosophy" class="slide level2">
<h2>The <code>tidyverse</code> philosophy</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>The principles underlying the tidyverse are:</p>
<div>
<ol type="1">
<li class="fragment">Reuse existing data structures.</li>
<li class="fragment">Compose simple functions with the pipe.</li>
<li class="fragment">Embrace functional programming.</li>
<li class="fragment">Design for humans.</li>
</ol>
</div>
</div><div class="column" style="width:50%;">
<p><img data-src="images/extended_tidyverse.jpeg"></p>
</div>
</div>
</section>
<section id="section" class="slide level2" data-menu-title="Research process" data-background-image="images/research_process.png" data-background-position="center" data-background-size="90%">
<h2></h2>
</section>
<section id="section-1" class="slide level2" data-menu-title="Research process - visualization" data-background-image="images/research_process_visualize.png" data-background-position="center" data-background-size="90%">
<h2></h2>
</section>
<section id="section-2" class="slide level2" data-menu-title="Research process - communication" data-background-image="images/research_process_communicate.png" data-background-position="center" data-background-size="90%">
<h2></h2>
</section>
<section id="gapminder-data" class="slide level2">
<h2>Gapminder Data</h2>
<p>We’ll be working with data from Hans Rosling’s <a href="http://www.gapminder.org">Gapminder</a> project. An excerpt of these data can be accessed through an R package called <code>gapminder</code><sup>1</sup>. Check the packages tab to see if <code>gapminder</code> appears (unchecked) in your computer’s list of downloaded packages.</p>
<div class="fragment">
<p>If it doesn’t, run <code>install.packages("gapminder")</code> in the console.</p>
</div>
<div class="fragment">
<p>Now, load the <code>gapminder</code> package as well as the <code>tidyverse</code> package:</p>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-1"><pre class="sourceCode numberSource r code-annotation-code number-lines code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-1-1"><a href="#annotated-cell-1-1"></a><span class="fu">library</span>(gapminder)</span>
<button class="code-annotation-anchor" data-target-cell="annotated-cell-1" data-target-annotation="1">1</button><span id="annotated-cell-1-2" class="code-annotation-target"><a href="#annotated-cell-1-2"></a><span class="fu">library</span>(tidyverse)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-hidden code-annotation-container-grid">
<dt data-target-cell="annotated-cell-1" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-1" data-code-lines="2" data-code-annotation="1">Every time you <code>library</code> (i.e.&nbsp;load) <code>tidyverse</code> it will tell you which individual packages it is loading, as well as all function conflicts it has with other packages loaded in the current session. This is useful information but you can suppress seeing/printing this output by adding the <code>message: false</code> chunk option to your code chunk.</span>
</dd>
</dl>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.3     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.5.0     ✔ tibble    3.2.1
✔ lubridate 1.9.3     ✔ tidyr     1.3.0
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
</div>
</div>
<aside><ol class="aside-footnotes"><li id="fn4"><p>Cleaned and assembled by Jenny Bryan at UBC.</p></li></ol></aside></section>
<section id="check-out-gapminder" class="slide level2 scrollable">
<h2>Check Out Gapminder <span style="color:#99a486"><i class="fa-solid fa-scroll" aria-label="scroll"></i></span></h2>
<p>The data frame we will work with is called <code>gapminder</code>, available once you have loaded the package. Let’s see its structure:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a></a><span class="fu">str</span>(gapminder)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [1,704 × 6] (S3: tbl_df/tbl/data.frame)
 $ country  : Factor w/ 142 levels "Afghanistan",..: 1 1 1 1 1 1 1 1 1 1 ...
 $ continent: Factor w/ 5 levels "Africa","Americas",..: 3 3 3 3 3 3 3 3 3 3 ...
 $ year     : int [1:1704] 1952 1957 1962 1967 1972 1977 1982 1987 1992 1997 ...
 $ lifeExp  : num [1:1704] 28.8 30.3 32 34 36.1 ...
 $ pop      : int [1:1704] 8425333 9240934 10267083 11537966 13079460 14880372 12881816 13867957 16317921 22227415 ...
 $ gdpPercap: num [1:1704] 779 821 853 836 740 ...</code></pre>
</div>
</div>
<div class="fragment">
<p><br></p>
<h4 id="whats-notable-here">What’s Notable Here?</h4>
<div>
<ul>
<li class="fragment"><strong>Factor</strong> variables <code>country</code> and <code>continent</code>
<ul>
<li class="fragment">Factors are categorical data with an underlying numeric representation</li>
<li class="fragment">We’ll spend a lot of time on factors later!</li>
</ul></li>
<li class="fragment">Many observations: <span class="math inline">\(n=1704\)</span> rows</li>
<li class="fragment">For each observation, a few variables: <span class="math inline">\(p=6\)</span> columns</li>
<li class="fragment">A nested/hierarchical structure: <code>year</code> in <code>country</code> in <code>continent</code>
<ul>
<li class="fragment">These are panel data!</li>
</ul></li>
</ul>
</div>
</div>
</section>
<section id="base-r-plot" class="slide level2">
<h2>Base <code>R</code> plot</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a></a>China <span class="ot">&lt;-</span> gapminder <span class="sc">|&gt;</span> </span>
<span id="cb4-2"><a></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"China"</span>)</span>
<span id="cb4-3"><a></a><span class="fu">plot</span>(lifeExp <span class="sc">~</span> year, </span>
<span id="cb4-4"><a></a>     <span class="at">data =</span> China, </span>
<span id="cb4-5"><a></a>     <span class="at">xlab =</span> <span class="st">"Year"</span>, </span>
<span id="cb4-6"><a></a>     <span class="at">ylab =</span> <span class="st">"Life expectancy"</span>,</span>
<span id="cb4-7"><a></a>     <span class="at">main =</span> <span class="st">"Life expectancy in China"</span>, </span>
<span id="cb4-8"><a></a>     <span class="at">col =</span> <span class="st">"red"</span>, </span>
<span id="cb4-9"><a></a>     <span class="at">pch =</span> <span class="dv">16</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<p>This plot is made with <em>one function</em> and <em>many arguments.</em></p>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-5-1.svg"></p>
</figure>
</div>
</div>
</div>
</div>
</div>

<aside><div>
<p>Note: Don’t worry about the code used to create the object <code>China</code>. We’ll explore data manipulation in a couple weeks!</p>
</div></aside></section>
<section id="fancier-ggplot" class="slide level2">
<h2>Fancier: <code>ggplot</code></h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> China, </span>
<span id="cb5-2"><a></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb5-3"><a></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb5-4"><a></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Life expectancy in China"</span>, </span>
<span id="cb5-5"><a></a>       <span class="at">x =</span> <span class="st">"Year"</span>, </span>
<span id="cb5-6"><a></a>       <span class="at">y =</span> <span class="st">"Life expectancy"</span>) <span class="sc">+</span></span>
<span id="cb5-7"><a></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">18</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<p>This <code>ggplot</code> is made with <em>many functions</em> and <em>fewer arguments</em> in each.</p>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-7-1.svg"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="section-3" class="title-slide slide level1 section-title center" data-menu-title="`ggplot`" data-background-image="images/ggplot2.png" data-background-size="contain" data-background-position="center" data-background-color="#1e4655">
<h1></h1>

</section>
<section id="ggplot2" class="slide level2">
<h2><code>ggplot2</code></h2>
<p>The <code>ggplot2</code> package provides an alternative toolbox for plotting.</p>
<div class="fragment">
<p>The core idea underlying this package is the <a href="https://vita.had.co.nz/papers/layered-grammar.pdf"><strong>layered grammar of graphics</strong></a>: i.e.&nbsp;that we can break up elements of a plot into pieces and combine them.</p>
</div>
<div class="fragment">
<p><code>ggplot</code>s take a <em>bit</em> more work to create than Base <code>R</code> plots, but are usually:</p>
<ul>
<li>prettier</li>
<li>more professional</li>
<li><strong>much</strong> more customizable</li>
</ul>
</div>
</section>
<section id="layered-grammar-of-graphics" class="slide level2 scrollable">
<h2>Layered grammar of graphics <span style="color:#99a486"><i class="fa-solid fa-scroll" aria-label="scroll"></i></span></h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="images/gglayers.png" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>

<aside><div>
<p>This is based on Leland Wilkinson’s book <a href="https://orbiscascade-washington.primo.exlibrisgroup.com/permalink/01ALLIANCE_UW/1juclfo/alma99145336560001452"><em>The Grammar of Graphics</em></a> and extended by Hadley Wickham in his paper <a href="https://vita.had.co.nz/papers/layered-grammar.html">“A layered grammar of graphics”</a>.</p>
</div></aside></section>
<section id="structure-of-a-ggplot" class="slide level2">
<h2>Structure of a ggplot</h2>
<p><code>ggplot</code> graphics objects consist of two primary components:</p>
<div class="fragment">
<ol type="1">
<li><p><strong>Layers</strong>, the components of a graph.</p>
<ul>
<li>We <em>add</em> layers to a <code>ggplot</code> object using <code>+</code>.</li>
<li>This includes adding lines, shapes, and text to a plot.</li>
</ul></li>
</ol>
</div>
<div class="fragment">
<ol start="2" type="1">
<li><p><strong>Aesthetics</strong>, which determine how the layers appear.</p>
<ul>
<li>We <em>set</em> aesthetics using <em>arguments</em> (e.g.&nbsp;<code>color = "red"</code>) inside layer functions.</li>
<li>This includes modifying locations, colors, and sizes of the layers.</li>
</ul></li>
</ol>
<div class="callout callout-tip no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong><span style="color:green"><i class="fa-solid fa-hand-point-up" aria-label="hand-point-up"></i></span> Aesthetic Vignette</strong></p>
</div>
<div class="callout-content">
<p>Learn more about all possible aesthetic mappings <a href="https://ggplot2.tidyverse.org/articles/ggplot2-specs.html">here</a>.</p>
</div>
</div>
</div>
</div>
</section>
<section id="layers" class="slide level2">
<h2>Layers</h2>
<p><strong>Layers</strong> are the components of the graph, such as:</p>
<div>
<ul>
<li class="fragment"><code>ggplot()</code>: initializes basic plotting object, specifies input data</li>
<li class="fragment"><code>geom_point()</code>: layer of scatterplot points</li>
<li class="fragment"><code>geom_line()</code>: layer of lines</li>
<li class="fragment"><code>geom_histogram()</code>: layer of a histogram</li>
<li class="fragment"><code>labs</code> (or to specify individually: <code>ggtitle()</code>, <code>xlab()</code>, <code>ylab()</code>): layers of labels</li>
<li class="fragment"><code>facet_wrap()</code>: layer creating multiple plot panels</li>
<li class="fragment"><code>theme_bw()</code>: layer replacing default gray background with black-and-white</li>
</ul>
</div>
<div class="fragment">
<p>Layers are separated by a <code>+</code> sign. For clarity, I usually put each layer on a new line.</p>
<div class="callout callout-important no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong><span style="color:red"><i class="fa-solid fa-circle-exclamation" aria-label="circle-exclamation"></i></span> Syntax Warning</strong></p>
</div>
<div class="callout-content">
<p>Be sure to <strong>end</strong> each line with the <code>+</code>. The code will not run if a new line <em>begins</em> with a <code>+</code>.</p>
</div>
</div>
</div>
</div>
</section>
<section id="aesthetics" class="slide level2">
<h2>Aesthetics</h2>
<p><strong>Aesthetics</strong> control the appearance of the layers:</p>
<ul>
<li><code>x</code>, <code>y</code>: <span class="math inline">\(x\)</span> and <span class="math inline">\(y\)</span> coordinate values to use</li>
<li><code>color</code>: set color of elements based on some data value</li>
<li><code>group</code>: describe which points are conceptually grouped together for the plot (often used with lines)</li>
<li><code>size</code>: set size of points/lines based on some data value (greater than 0)</li>
<li><code>alpha</code>: set transparency based on some data value (between 0 and 1)</li>
</ul>
<div class="callout callout-warning no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong><span style="color:orange"><i class="fa-solid fa-triangle-exclamation" aria-label="triangle-exclamation"></i></span> Mapping data inside <code>aes()</code> vs.&nbsp;creating plot-wise settings outside <code>aes()</code></strong></p>
</div>
<div class="callout-content">
<p>When aesthetic arguments are called within <code>aes()</code> they specify a variable of the data and therefore map said value of the data by that aesthetic. Called outside <code>aes()</code>, these are only settings that can be given a specific value but will not display a dimension of the data.</p>
</div>
</div>
</div>
</section>
<section id="ggplot-templates" class="slide level2">
<h2><code>ggplot</code> Templates</h2>
<p><br></p>
<div class="fragment">
<h4 id="all-layers-have">All layers have:</h4>
<p>an initializing <code>ggplot</code> call and at least one <code>geom</code> function.</p>
<p><br></p>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">same data &amp; aesthetics</a></li><li><a href="#tabset-1-2">same data, diff aesthetics</a></li><li><a href="#tabset-1-3">diff data &amp; aesthetics</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> [dataset], </span>
<span id="cb6-2"><a></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> [x<span class="sc">-</span>variable], <span class="at">y =</span> [y<span class="sc">-</span>variable])) <span class="sc">+</span></span>
<span id="cb6-3"><a></a>  <span class="fu">geom_xxx</span>() <span class="sc">+</span></span>
<span id="cb6-4"><a></a>  other options</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-1-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> [dataset], </span>
<span id="cb7-2"><a></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> [x<span class="sc">-</span>variable], <span class="at">y =</span> [y<span class="sc">-</span>variable])) <span class="sc">+</span></span>
<span id="cb7-3"><a></a>  <span class="fu">geom_xxx</span>() <span class="sc">+</span></span>
<span id="cb7-4"><a></a>  <span class="fu">geom_yyy</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> [x<span class="sc">-</span>variable], <span class="at">y =</span> [y<span class="sc">-</span>variable])) <span class="sc">+</span></span>
<span id="cb7-5"><a></a>  other options</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-1-3">
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb8-2"><a></a>  <span class="fu">geom_xxx</span>(<span class="at">data =</span> [dataset1],</span>
<span id="cb8-3"><a></a>           <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> [x<span class="sc">-</span>variable], <span class="at">y =</span> [y<span class="sc">-</span>variable])) <span class="sc">+</span></span>
<span id="cb8-4"><a></a>  <span class="fu">geom_yyy</span>(<span class="at">data =</span> [dataset2],</span>
<span id="cb8-5"><a></a>           <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> [x<span class="sc">-</span>variable], <span class="at">y =</span> [y<span class="sc">-</span>variable])) <span class="sc">+</span></span>
<span id="cb8-6"><a></a>  other options</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="example-basic-jargon-in-action" class="title-slide slide level1 section-title center" data-background-color="#99a486">
<h1>Example: Basic Jargon in Action!</h1>

</section>
<section id="axis-labels-points-no-background" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Axis Labels, Points, No Background</h2>
<h3 id="base-ggplot">Base <code>ggplot</code></h3>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb9" data-code-line-numbers="1-2"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb9-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> China,  </span>
<span id="cb9-2" class="hljs-ln-code"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-12-1.svg"></p>
</figure>
</div>
</div>
</div>
</div>
</div>

<aside><div>
<p>Initialize the plot with <code>ggplot()</code> and <code>x</code> and <code>y</code> aesthetics <strong>mapped</strong> to variables. These aesthetics will be accessible to any future layers since they’re in the primary layer.</p>
</div></aside></section>
<section id="axis-labels-points-no-background-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Axis Labels, Points, No Background</h2>
<h3 id="scatterplot">Scatterplot</h3>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb10" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb10-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> China, </span>
<span id="cb10-2" class="hljs-ln-code"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb10-3" class="hljs-ln-code"><a></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-14-1.svg"></p>
</figure>
</div>
</div>
</div>
</div>
</div>

<aside><div>
<p>Add a scatterplot <strong>layer</strong>.</p>
</div></aside></section>
<section id="axis-labels-points-no-background-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Axis Labels, Points, No Background</h2>
<h3 id="point-color-and-size">Point Color and Size</h3>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb11" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb11-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> China, </span>
<span id="cb11-2" class="hljs-ln-code"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb11-3" class="hljs-ln-code"><a></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-16-1.svg"></p>
</figure>
</div>
</div>
</div>
</div>
</div>

<aside><div>
<p><strong>Set</strong> aesthetics to make the points larger and red. Notice that these “aesthetics” are not inside the <code>aes</code> call the way <code>x</code> and <code>y</code> are on line 2. These are therefore global settings rather than mapping aesthetics.</p>
</div></aside></section>
<section id="axis-labels-points-no-background-3" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Axis Labels, Points, No Background</h2>
<h3 id="x-axis-label">X-Axis Label</h3>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb12" data-code-line-numbers="4"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb12-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> China, </span>
<span id="cb12-2" class="hljs-ln-code"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb12-3" class="hljs-ln-code"><a></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb12-4" class="hljs-ln-code"><a></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-18-1.svg"></p>
</figure>
</div>
</div>
</div>
</div>
</div>

<aside><div>
<p>Add a layer to capitalize the x-axis label.</p>
</div></aside></section>
<section id="axis-labels-points-no-background-4" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Axis Labels, Points, No Background</h2>
<h3 id="y-axis-label">Y-Axis Label</h3>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb13" data-code-line-numbers="5"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb13-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> China, </span>
<span id="cb13-2" class="hljs-ln-code"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb13-3" class="hljs-ln-code"><a></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb13-4" class="hljs-ln-code"><a></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>, </span>
<span id="cb13-5" class="hljs-ln-code"><a></a>       <span class="at">y =</span> <span class="st">"Life expectancy"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-20-1.svg"></p>
</figure>
</div>
</div>
</div>
</div>
</div>

<aside><div>
<p>Add a layer to clean up the y-axis label.</p>
</div></aside></section>
<section id="axis-labels-points-no-background-5" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Axis Labels, Points, No Background</h2>
<h3 id="title">Title</h3>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb14" data-code-line-numbers="6"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb14-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> China, </span>
<span id="cb14-2" class="hljs-ln-code"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb14-3" class="hljs-ln-code"><a></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb14-4" class="hljs-ln-code"><a></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb14-5" class="hljs-ln-code"><a></a>       <span class="at">y =</span> <span class="st">"Life expectancy"</span>,</span>
<span id="cb14-6" class="hljs-ln-code"><a></a>       <span class="at">title =</span> <span class="st">"Life expectancy in China"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-22-1.svg"></p>
</figure>
</div>
</div>
</div>
</div>
</div>

<aside><div>
<p>Add a title layer.</p>
</div></aside></section>
<section id="axis-labels-points-no-background-6" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Axis Labels, Points, No Background</h2>
<h3 id="theme">Theme</h3>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb15" data-code-line-numbers="7"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb15-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> China, </span>
<span id="cb15-2" class="hljs-ln-code"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb15-3" class="hljs-ln-code"><a></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb15-4" class="hljs-ln-code"><a></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb15-5" class="hljs-ln-code"><a></a>       <span class="at">y =</span> <span class="st">"Life expectancy"</span>,</span>
<span id="cb15-6" class="hljs-ln-code"><a></a>       <span class="at">title =</span> <span class="st">"Life expectancy in China"</span>) <span class="sc">+</span></span>
<span id="cb15-7" class="hljs-ln-code"><a></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-24-1.svg"></p>
</figure>
</div>
</div>
</div>
</div>
</div>

<aside><div>
<p>Pick a nicer theme with a new layer.</p>
</div></aside></section>
<section id="axis-labels-points-no-background-7" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Axis Labels, Points, No Background</h2>
<h3 id="text-size">Text Size</h3>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb16" data-code-line-numbers="7"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb16-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> China, </span>
<span id="cb16-2" class="hljs-ln-code"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb16-3" class="hljs-ln-code"><a></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb16-4" class="hljs-ln-code"><a></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb16-5" class="hljs-ln-code"><a></a>       <span class="at">y =</span> <span class="st">"Life expectancy"</span>,</span>
<span id="cb16-6" class="hljs-ln-code"><a></a>       <span class="at">title =</span> <span class="st">"Life expectancy in China"</span>) <span class="sc">+</span></span>
<span id="cb16-7" class="hljs-ln-code"><a></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">18</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-26-1.svg"></p>
</figure>
</div>
</div>
</div>
</div>
</div>

<aside><div>
<p>Increase the base text size.</p>
</div></aside></section>
<section id="plotting-all-countries" class="slide level2">
<h2>Plotting All Countries</h2>
<p>We have a plot we like for China…</p>
<div class="fragment">
<p>… but what if we want <em>all the countries</em>?</p>
</div>
</section>
<section id="plotting-all-countries-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Plotting All Countries</h2>
<h3 id="a-mess">A Mess!</h3>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb17" data-code-line-numbers="|1|3"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb17-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> gapminder,</span>
<span id="cb17-2" class="hljs-ln-code"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb17-3" class="hljs-ln-code"><a></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb17-4" class="hljs-ln-code"><a></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb17-5" class="hljs-ln-code"><a></a>       <span class="at">y =</span> <span class="st">"Life expectancy"</span>,</span>
<span id="cb17-6" class="hljs-ln-code"><a></a>       <span class="at">title =</span> <span class="st">"Life expectancy over time"</span>) <span class="sc">+</span> </span>
<span id="cb17-7" class="hljs-ln-code"><a></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">18</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-28-1.svg"></p>
</figure>
</div>
</div>
</div>
</div>
</div>

<aside><div>
<p>We can’t tell countries apart! Maybe we could follow <em>lines</em>?</p>
</div></aside></section>
<section id="plotting-all-countries-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Plotting All Countries</h2>
<h3 id="lines">Lines</h3>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb18" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb18-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> gapminder, </span>
<span id="cb18-2" class="hljs-ln-code"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb18-3" class="hljs-ln-code"><a></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span> </span>
<span id="cb18-4" class="hljs-ln-code"><a></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb18-5" class="hljs-ln-code"><a></a>       <span class="at">y =</span> <span class="st">"Life expectancy"</span>,</span>
<span id="cb18-6" class="hljs-ln-code"><a></a>       <span class="at">title =</span> <span class="st">"Life expectancy over time"</span>) <span class="sc">+</span> </span>
<span id="cb18-7" class="hljs-ln-code"><a></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">18</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-30-1.svg"></p>
</figure>
</div>
</div>
</div>
</div>
</div>

<aside><div>
<p><code>ggplot2</code> doesn’t know how to connect the lines!</p>
</div></aside></section>
<section id="plotting-all-countries-3" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Plotting All Countries</h2>
<h3 id="grouping">Grouping</h3>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb19" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb19-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> gapminder, </span>
<span id="cb19-2" class="hljs-ln-code"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp, </span>
<span id="cb19-3" class="hljs-ln-code"><a></a>           <span class="at">group =</span> country)) <span class="sc">+</span></span>
<span id="cb19-4" class="hljs-ln-code"><a></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb19-5" class="hljs-ln-code"><a></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb19-6" class="hljs-ln-code"><a></a>       <span class="at">y =</span> <span class="st">"Life expectancy"</span>,</span>
<span id="cb19-7" class="hljs-ln-code"><a></a>       <span class="at">title =</span> <span class="st">"Life expectancy over time"</span>) <span class="sc">+</span> </span>
<span id="cb19-8" class="hljs-ln-code"><a></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">18</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-32-1.svg"></p>
</figure>
</div>
</div>
</div>
</div>
</div>

<aside><div>
<p>That looks more reasonable… but the lines are too thick!</p>
</div></aside></section>
<section id="plotting-all-countries-4" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Plotting All Countries</h2>
<h3 id="size">Size</h3>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb20" data-code-line-numbers="4"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb20-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> gapminder, </span>
<span id="cb20-2" class="hljs-ln-code"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp, </span>
<span id="cb20-3" class="hljs-ln-code"><a></a>           <span class="at">group =</span> country)) <span class="sc">+</span></span>
<span id="cb20-4" class="hljs-ln-code"><a></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb20-5" class="hljs-ln-code"><a></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb20-6" class="hljs-ln-code"><a></a>       <span class="at">y =</span> <span class="st">"Life expectancy"</span>,</span>
<span id="cb20-7" class="hljs-ln-code"><a></a>       <span class="at">title =</span> <span class="st">"Life expectancy over time"</span>) <span class="sc">+</span> </span>
<span id="cb20-8" class="hljs-ln-code"><a></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">18</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-34-1.svg"></p>
</figure>
</div>
</div>
</div>
</div>
</div>

<aside><div>
<p>Much better… but what if we highlight regional differences?</p>
</div></aside></section>
<section id="plotting-all-countries-5" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Plotting All Countries</h2>
<h3 id="color">Color</h3>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb21" data-code-line-numbers="4-5"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb21-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> gapminder, </span>
<span id="cb21-2" class="hljs-ln-code"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp, </span>
<span id="cb21-3" class="hljs-ln-code"><a></a>           <span class="at">group =</span> country, </span>
<span id="cb21-4" class="hljs-ln-code"><a></a>           <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb21-5" class="hljs-ln-code"><a></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb21-6" class="hljs-ln-code"><a></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb21-7" class="hljs-ln-code"><a></a>       <span class="at">y =</span> <span class="st">"Life expectancy"</span>,</span>
<span id="cb21-8" class="hljs-ln-code"><a></a>       <span class="at">title =</span> <span class="st">"Life expectancy over time"</span>) <span class="sc">+</span> </span>
<span id="cb21-9" class="hljs-ln-code"><a></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">18</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-36-1.svg"></p>
</figure>
</div>
</div>
</div>
</div>
</div>

<aside><div>
<p>Patterns are obvious… but it might be even more impactful if we separate continents completely.</p>
</div></aside></section>
<section id="plotting-all-countries-6" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Plotting All Countries</h2>
<h3 id="facets">Facets</h3>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb22" data-code-line-numbers="10"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb22-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> gapminder, </span>
<span id="cb22-2" class="hljs-ln-code"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp, </span>
<span id="cb22-3" class="hljs-ln-code"><a></a>           <span class="at">group =</span> country, </span>
<span id="cb22-4" class="hljs-ln-code"><a></a>           <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb22-5" class="hljs-ln-code"><a></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb22-6" class="hljs-ln-code"><a></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb22-7" class="hljs-ln-code"><a></a>       <span class="at">y =</span> <span class="st">"Life expectancy"</span>,</span>
<span id="cb22-8" class="hljs-ln-code"><a></a>       <span class="at">title =</span> <span class="st">"Life expectancy over time"</span>) <span class="sc">+</span> </span>
<span id="cb22-9" class="hljs-ln-code"><a></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">18</span>) <span class="sc">+</span></span>
<span id="cb22-10" class="hljs-ln-code"><a></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(continent))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-38-1.svg"></p>
</figure>
</div>
</div>
</div>
</div>
</div>

<aside><div>
<p>Now the text is too big!</p>
</div></aside></section>
<section id="plotting-all-countries-7" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Plotting All Countries</h2>
<h3 id="text-size-1">Text Size</h3>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb23" data-code-line-numbers="9"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb23-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> gapminder, </span>
<span id="cb23-2" class="hljs-ln-code"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp, </span>
<span id="cb23-3" class="hljs-ln-code"><a></a>           <span class="at">group =</span> country, </span>
<span id="cb23-4" class="hljs-ln-code"><a></a>           <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb23-5" class="hljs-ln-code"><a></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb23-6" class="hljs-ln-code"><a></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb23-7" class="hljs-ln-code"><a></a>       <span class="at">y =</span> <span class="st">"Life expectancy"</span>,</span>
<span id="cb23-8" class="hljs-ln-code"><a></a>       <span class="at">title =</span> <span class="st">"Life expectancy over time"</span>) <span class="sc">+</span> </span>
<span id="cb23-9" class="hljs-ln-code"><a></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb23-10" class="hljs-ln-code"><a></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(continent))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-40-1.svg"></p>
</figure>
</div>
</div>
</div>
</div>
</div>

<aside><div>
<p>Better. Do we even need the legend anymore?</p>
</div></aside></section>
<section id="plotting-all-countries-8" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Plotting All Countries</h2>
<h3 id="no-legend">No Legend</h3>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb24" data-code-line-numbers="11"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb24-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> gapminder, </span>
<span id="cb24-2" class="hljs-ln-code"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp, </span>
<span id="cb24-3" class="hljs-ln-code"><a></a>           <span class="at">group =</span> country, </span>
<span id="cb24-4" class="hljs-ln-code"><a></a>           <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb24-5" class="hljs-ln-code"><a></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb24-6" class="hljs-ln-code"><a></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb24-7" class="hljs-ln-code"><a></a>       <span class="at">y =</span> <span class="st">"Life expectancy"</span>,</span>
<span id="cb24-8" class="hljs-ln-code"><a></a>       <span class="at">title =</span> <span class="st">"Life expectancy over time"</span>) <span class="sc">+</span> </span>
<span id="cb24-9" class="hljs-ln-code"><a></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb24-10" class="hljs-ln-code"><a></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(continent)) <span class="sc">+</span> </span>
<span id="cb24-11" class="hljs-ln-code"><a></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-42-1.svg"></p>
</figure>
</div>
</div>
</div>
</div>
</div>

<aside><div>
<p>Looking pretty good!</p>
</div></aside></section></section>
<section>
<section id="lab-2" class="title-slide slide level1 section-title center" data-background-color="#99a486">
<h1>Lab 2</h1>

</section>
<section id="make-a-histogram" class="slide level2">
<h2>Make a histogram</h2>
<p>In pairs, create a histogram of life expectancy observations in the complete Gapminder dataset.</p>
<ol type="1">
<li><p>Set the base layer by specifying the data as <code>gapminder</code> and the x variable as <code>lifeExp</code></p></li>
<li><p>Add a second layer to create a histogram using the function <code>geom_histogram()</code></p></li>
<li><p>Customize your plot with nice axis labels and a title.</p></li>
<li><p>Add the color “salmon” to the entire plot (hint: use the <code>fill</code> argument, not <code>color</code>).</p></li>
<li><p>Change this fill setting to an aesthetic and map continent onto it.</p></li>
<li><p>Change the <code>geom</code> to <code>geom_freqpoly</code>. What happened and how might you fix it?</p></li>
<li><p>Add facets for <code>continent</code> (create only 1 column).</p></li>
<li><p>Add one of the <a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">built-in themes</a> from <code>ggplot2</code>.</p></li>
<li><p>Remove the legend from the plot.</p></li>
</ol>
</section>
<section id="solution-1.-set-base-layer" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Solution: 1. Set Base Layer</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb25-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(<span class="at">x =</span> lifeExp))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-43-1.svg" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="solution-2.-add-histogram-layer" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Solution: 2. Add Histogram Layer</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb26" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb26-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(<span class="at">x =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb26-2" class="hljs-ln-code"><a></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">30</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-44-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>

<aside><div>
<p>Setting the <code>bins</code> aesthetic tells ggplot how many values to bin by (lower is more fine-grained, higher is less descriptive).</p>
</div></aside></section>
<section id="solution-3.-add-label-layers" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Solution: 3. Add Label Layers</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb27" data-code-line-numbers="3-5"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb27-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(<span class="at">x =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb27-2" class="hljs-ln-code"><a></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">30</span>) <span class="sc">+</span></span>
<span id="cb27-3" class="hljs-ln-code"><a></a>  <span class="fu">xlab</span>(<span class="st">"Life Expectancy"</span>) <span class="sc">+</span></span>
<span id="cb27-4" class="hljs-ln-code"><a></a>  <span class="fu">ylab</span>(<span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb27-5" class="hljs-ln-code"><a></a>  <span class="fu">ggtitle</span>(<span class="st">"Histogram of Life Expectancy in Gapminder Data"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-45-1.svg" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="solution-4.-add-fill-setting" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Solution: 4. Add fill setting</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb28" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb28-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(<span class="at">x =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb28-2" class="hljs-ln-code"><a></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">30</span>, <span class="at">fill =</span> <span class="st">"salmon"</span>) <span class="sc">+</span></span>
<span id="cb28-3" class="hljs-ln-code"><a></a>  <span class="fu">xlab</span>(<span class="st">"Life Expectancy"</span>) <span class="sc">+</span></span>
<span id="cb28-4" class="hljs-ln-code"><a></a>  <span class="fu">ylab</span>(<span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb28-5" class="hljs-ln-code"><a></a>  <span class="fu">ggtitle</span>(<span class="st">"Histogram of Life Expectancy in Gapminder Data"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-46-1.svg" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="solution-5.-add-fill-aesthetic" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Solution: 5. Add fill aesthetic</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb29-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(<span class="at">x =</span> lifeExp, <span class="at">fill =</span> continent)) <span class="sc">+</span></span>
<span id="cb29-2" class="hljs-ln-code"><a></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">30</span>) <span class="sc">+</span></span>
<span id="cb29-3" class="hljs-ln-code"><a></a>  <span class="fu">xlab</span>(<span class="st">"Life Expectancy"</span>) <span class="sc">+</span></span>
<span id="cb29-4" class="hljs-ln-code"><a></a>  <span class="fu">ylab</span>(<span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb29-5" class="hljs-ln-code"><a></a>  <span class="fu">ggtitle</span>(<span class="st">"Histogram of Life Expectancy in Gapminder Data"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-47-1.svg" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="solution-6.-change-geometry" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Solution: 6. Change geometry</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb30" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb30-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(<span class="at">x =</span> lifeExp, <span class="at">fill =</span> continent)) <span class="sc">+</span></span>
<span id="cb30-2" class="hljs-ln-code"><a></a>  <span class="fu">geom_freqpoly</span>(<span class="at">bins =</span> <span class="dv">30</span>) <span class="sc">+</span></span>
<span id="cb30-3" class="hljs-ln-code"><a></a>  <span class="fu">xlab</span>(<span class="st">"Life Expectancy"</span>) <span class="sc">+</span></span>
<span id="cb30-4" class="hljs-ln-code"><a></a>  <span class="fu">ylab</span>(<span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb30-5" class="hljs-ln-code"><a></a>  <span class="fu">ggtitle</span>(<span class="st">"Histogram of Life Expectancy in Gapminder Data"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-48-1.svg" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="solution-6.-change-geometry-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Solution: 6. Change geometry</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb31" data-code-line-numbers="2|1"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb31-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(<span class="at">x =</span> lifeExp, <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb31-2" class="hljs-ln-code"><a></a>  <span class="fu">geom_freqpoly</span>(<span class="at">bins =</span> <span class="dv">30</span>) <span class="sc">+</span></span>
<span id="cb31-3" class="hljs-ln-code"><a></a>  <span class="fu">xlab</span>(<span class="st">"Life Expectancy"</span>) <span class="sc">+</span></span>
<span id="cb31-4" class="hljs-ln-code"><a></a>  <span class="fu">ylab</span>(<span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb31-5" class="hljs-ln-code"><a></a>  <span class="fu">ggtitle</span>(<span class="st">"Histogram of Life Expectancy in Gapminder Data"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-49-1.svg" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="solution-7.-add-facets" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Solution: 7. Add facets</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb32" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb32-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(<span class="at">x =</span> lifeExp, <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb32-2" class="hljs-ln-code"><a></a>  <span class="fu">geom_freqpoly</span>(<span class="at">bins =</span> <span class="dv">30</span>) <span class="sc">+</span></span>
<span id="cb32-3" class="hljs-ln-code"><a></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(continent), <span class="at">ncol =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb32-4" class="hljs-ln-code"><a></a>  <span class="fu">xlab</span>(<span class="st">"Life Expectancy"</span>) <span class="sc">+</span></span>
<span id="cb32-5" class="hljs-ln-code"><a></a>  <span class="fu">ylab</span>(<span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb32-6" class="hljs-ln-code"><a></a>  <span class="fu">ggtitle</span>(<span class="st">"Histogram of Life Expectancy in Gapminder Data"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-50-1.svg" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="solution-8.-add-nicer-theme" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Solution: 8. Add nicer theme</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb33" data-code-line-numbers="7"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb33-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(<span class="at">x =</span> lifeExp, <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb33-2" class="hljs-ln-code"><a></a>  <span class="fu">geom_freqpoly</span>(<span class="at">bins =</span> <span class="dv">30</span>) <span class="sc">+</span></span>
<span id="cb33-3" class="hljs-ln-code"><a></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(continent), <span class="at">ncol =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb33-4" class="hljs-ln-code"><a></a>  <span class="fu">xlab</span>(<span class="st">"Life Expectancy"</span>) <span class="sc">+</span></span>
<span id="cb33-5" class="hljs-ln-code"><a></a>  <span class="fu">ylab</span>(<span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb33-6" class="hljs-ln-code"><a></a>  <span class="fu">ggtitle</span>(<span class="st">"Histogram of Life Expectancy in Gapminder Data"</span>) <span class="sc">+</span></span>
<span id="cb33-7" class="hljs-ln-code"><a></a>  <span class="fu">theme_minimal</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-51-1.svg" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="solution-9.-remove-legend" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Solution: 9. Remove legend</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb34" data-code-line-numbers="8"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb34-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(<span class="at">x =</span> lifeExp, <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb34-2" class="hljs-ln-code"><a></a>  <span class="fu">geom_freqpoly</span>(<span class="at">bins =</span> <span class="dv">30</span>) <span class="sc">+</span></span>
<span id="cb34-3" class="hljs-ln-code"><a></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(continent), <span class="at">ncol =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb34-4" class="hljs-ln-code"><a></a>  <span class="fu">xlab</span>(<span class="st">"Life Expectancy"</span>) <span class="sc">+</span></span>
<span id="cb34-5" class="hljs-ln-code"><a></a>  <span class="fu">ylab</span>(<span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb34-6" class="hljs-ln-code"><a></a>  <span class="fu">ggtitle</span>(<span class="st">"Histogram of Life Expectancy in Gapminder Data"</span>) <span class="sc">+</span> </span>
<span id="cb34-7" class="hljs-ln-code"><a></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> </span>
<span id="cb34-8" class="hljs-ln-code"><a></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-52-1.svg" class="quarto-figure quarto-figure-center r-stretch"></section></section>
<section id="break" class="title-slide slide level1 section-title center" data-background-color="#1e4655">
<h1>Break!</h1>

</section>

<section>
<section id="advanced-ggplot-tools" class="title-slide slide level1 section-title center" data-background-color="#99a486">
<h1>Advanced ggplot tools</h1>

</section>
<section id="further-customization" class="slide level2">
<h2>Further customization</h2>
<p>Next, we’ll discuss:</p>
<ul>
<li><p>Storing, modifying, and saving ggplots</p></li>
<li><p>Advanced axis changes (scales, text, ticks)</p></li>
<li><p>Legend changes (scales, colors, locations)</p></li>
<li><p>Using multiple <code>geoms</code></p></li>
<li><p>Adding annotation for emphasis</p></li>
</ul>
</section>
<section id="storing-plots" class="slide level2">
<h2>Storing Plots</h2>
<p>We can assign a <code>ggplot</code> object to a name:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a></a>lifeExp_by_year <span class="ot">&lt;-</span> </span>
<span id="cb35-2"><a></a>  <span class="fu">ggplot</span>(<span class="at">data =</span> gapminder, </span>
<span id="cb35-3"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp, </span>
<span id="cb35-4"><a></a>           <span class="at">group =</span> country, </span>
<span id="cb35-5"><a></a>           <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb35-6"><a></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb35-7"><a></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb35-8"><a></a>       <span class="at">y =</span> <span class="st">"Life expectancy"</span>,</span>
<span id="cb35-9"><a></a>       <span class="at">title =</span> <span class="st">"Life expectancy over time"</span>) <span class="sc">+</span> </span>
<span id="cb35-10"><a></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> </span>
<span id="cb35-11"><a></a>  <span class="fu">facet_wrap</span>(<span class="fu">vars</span>(continent)) <span class="sc">+</span></span>
<span id="cb35-12"><a></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Afterwards, you can display or modify <code>ggplot</code>s…</p>
</section>
<section id="showing-a-stored-graph" class="slide level2">
<h2>Showing a Stored Graph</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a></a>lifeExp_by_year</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-54-1.svg" class="r-stretch"></section>
<section id="overriding-previous-specifications" class="slide level2">
<h2>Overriding previous specifications</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb37" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a></a>lifeExp_by_year <span class="sc">+</span> </span>
<span id="cb37-2"><a></a>  <span class="fu">facet_grid</span>(<span class="at">cols =</span> <span class="fu">vars</span>(continent)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-55-1.svg" class="r-stretch"></section>
<section id="adding-more-layers" class="slide level2">
<h2>Adding More Layers</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb38" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a></a>lifeExp_by_year <span class="sc">+</span></span>
<span id="cb38-2"><a></a>  <span class="fu">facet_grid</span>(<span class="at">cols =</span> <span class="fu">vars</span>(continent)) <span class="sc">+</span> </span>
<span id="cb38-3"><a></a>    <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-56-1.svg" class="r-stretch"></section>
<section id="saving-ggplot-plots" class="slide level2">
<h2>Saving <code>ggplot</code> Plots</h2>
<p>If you want to save a ggplot, use <code>ggsave()</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a></a><span class="fu">ggsave</span>(<span class="at">filename =</span> <span class="st">"I_saved_a_file.pdf"</span>, </span>
<span id="cb39-2"><a></a>       <span class="at">plot =</span> lifeExp_by_year,</span>
<span id="cb39-3"><a></a>       <span class="at">height =</span> <span class="dv">3</span>, <span class="at">width =</span> <span class="dv">5</span>, <span class="at">units =</span> <span class="st">"in"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If you didn’t manually set font sizes, these will usually come out at a reasonable size given the dimensions of your output file.</p>
</section>
<section id="changing-the-axes" class="slide level2">
<h2>Changing the Axes</h2>
<p>We can modify the axes in a variety of ways, such as:</p>
<ul>
<li><p>Change the <span class="math inline">\(x\)</span> or <span class="math inline">\(y\)</span> range using <code>xlim()</code> or <code>ylim()</code> layers</p></li>
<li><p>Change to a logarithmic or square-root scale on either axis: <code>scale_x_log10()</code>, <code>scale_y_sqrt()</code></p></li>
<li><p>Change where the major/minor breaks are: <code>scale_x_continuous(breaks =, minor_breaks = )</code></p></li>
</ul>
</section>
<section id="axis-changes" class="slide level2">
<h2>Axis Changes</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb40" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> China, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> gdpPercap)) <span class="sc">+</span></span>
<span id="cb40-2"><a></a>    <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb40-3"><a></a>    <span class="fu">scale_y_log10</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1000</span>, <span class="dv">2000</span>, <span class="dv">3000</span>, <span class="dv">4000</span>, <span class="dv">5000</span>)) <span class="sc">+</span> </span>
<span id="cb40-4"><a></a>    <span class="fu">xlim</span>(<span class="dv">1940</span>, <span class="dv">2010</span>) <span class="sc">+</span> <span class="fu">ggtitle</span>(<span class="st">"Chinese GDP per capita"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-58-1.svg" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="precise-legend-position" class="slide level2">
<h2>Precise Legend Position</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a></a>lifeExp_by_year <span class="sc">+</span></span>
<span id="cb41-2"><a></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.8</span>, <span class="fl">0.2</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-59-1.svg" class="quarto-figure quarto-figure-center r-stretch"><p>Instead of coordinates, you could also use “top”, “bottom”, “left”, or “right”.</p>
</section>
<section id="scales-for-color-shape-etc." class="slide level2">
<h2>Scales for Color, Shape, etc.</h2>
<p><strong>Scales</strong> are layers that control how the mapped aesthetics appear.</p>
<p>You can modify these with a <code>scale_[aesthetic]_[option]()</code> layer:</p>
<div>
<ul>
<li class="fragment"><code>[aesthetic]</code> is <code>x</code>, <code>y</code>, <code>color</code>, <code>shape</code>, <code>linetype</code>, <code>alpha</code>, <code>size</code>, <code>fill</code>, etc.</li>
<li class="fragment"><code>[option]</code> is something like <code>manual</code>, <code>continuous</code>, <code>binned</code> or <code>discrete</code> (depending on nature of the variable).</li>
</ul>
</div>
<div class="fragment">
<p><strong>Examples:</strong></p>
<ul>
<li><code>scale_alpha_ordinal()</code>: scales alpha transparency for ordinal categorical variable</li>
<li><code>scale_x_log10()</code>: maps a log10 transformation of the x-axis variable</li>
<li><code>scale_color_manual()</code>: allows manual specification of color aesthetic</li>
</ul>
</div>
</section>
<section id="legend-name-and-manual-colors" class="slide level2">
<h2>Legend Name and Manual Colors</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb42" data-code-line-numbers="3-6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a></a>lifeExp_by_year <span class="sc">+</span></span>
<span id="cb42-2"><a></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.8</span>, <span class="fl">0.2</span>)) <span class="sc">+</span></span>
<span id="cb42-3"><a></a>  <span class="fu">scale_color_manual</span>(</span>
<span id="cb42-4"><a></a>    <span class="at">name =</span> <span class="st">"Which continent are</span><span class="sc">\n</span><span class="st">we looking at?"</span>, <span class="co"># \n adds a line break </span></span>
<span id="cb42-5"><a></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Africa"</span> <span class="ot">=</span> <span class="st">"#4e79a7"</span>, <span class="st">"Americas"</span> <span class="ot">=</span> <span class="st">"#f28e2c"</span>, </span>
<span id="cb42-6"><a></a>               <span class="st">"Asia"</span> <span class="ot">=</span> <span class="st">"#e15759"</span>, <span class="st">"Europe"</span> <span class="ot">=</span> <span class="st">"#76b7b2"</span>, <span class="st">"Oceania"</span> <span class="ot">=</span> <span class="st">"#59a14f"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="columns">
<div class="column" style="width:70%;">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-61-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:30%;">
<p><br></p>
<p><br></p>
<div class="callout callout-note no-icon callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<p><strong><span style="color:blue"><i class="fa-solid fa-circle-info" aria-label="circle-info"></i></span> Note</strong></p>
</div>
<div class="callout-content">
<p>This scale argument knows to “map” onto <code>continent</code> because it is specified as the aesthetic for color in our original ggplot object.</p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="fixed-versus-free-scales" class="slide level2 scrollable">
<h2>Fixed versus Free Scales <span style="color:#99a486"><i class="fa-solid fa-scroll" aria-label="scroll"></i></span></h2>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1">Untransformed</a></li><li><a href="#tabset-2-2">Fixed</a></li><li><a href="#tabset-2-3">Free x</a></li><li><a href="#tabset-2-4">Free y</a></li><li><a href="#tabset-2-5">Free x &amp; y</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a></a>gapminder_sub <span class="ot">&lt;-</span> gapminder <span class="sc">|&gt;</span> </span>
<span id="cb43-2"><a></a>  <span class="fu">filter</span>(year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1952</span>, <span class="dv">1982</span>, <span class="dv">2002</span>)) <span class="co"># create subset with only 3 years</span></span>
<span id="cb43-3"><a></a>  </span>
<span id="cb43-4"><a></a>scales_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> gapminder_sub, </span>
<span id="cb43-5"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> lifeExp, <span class="at">y =</span> gdpPercap, <span class="at">fill =</span> continent)) <span class="sc">+</span> </span>
<span id="cb43-6"><a></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="co"># alpha of points halfway transparent</span></span>
<span id="cb43-7"><a></a>              <span class="at">pch =</span> <span class="dv">21</span>, <span class="co"># shape is a circle with fill</span></span>
<span id="cb43-8"><a></a>              <span class="at">size =</span> <span class="dv">3</span>, <span class="co"># increase size</span></span>
<span id="cb43-9"><a></a>              <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span> <span class="co"># outline of circle is black </span></span>
<span id="cb43-10"><a></a>  <span class="fu">scale_fill_viridis_d</span>(<span class="at">option =</span> <span class="st">"D"</span>) <span class="sc">+</span> <span class="co"># circle is filled by colors perceptable for various forms of color-blindness</span></span>
<span id="cb43-11"><a></a>  <span class="fu">facet_grid</span>(<span class="at">rows =</span> <span class="fu">vars</span>(year), <span class="co"># facet by years in the row</span></span>
<span id="cb43-12"><a></a>             <span class="at">cols =</span> <span class="fu">vars</span>(continent)) <span class="sc">+</span> <span class="co"># facet by continent in the columns</span></span>
<span id="cb43-13"><a></a>  ggthemes<span class="sc">::</span><span class="fu">theme_tufte</span>(<span class="at">base_size =</span> <span class="dv">20</span>) <span class="co"># increase base text size</span></span>
<span id="cb43-14"><a></a>scales_plot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-62-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-2">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a></a>scales_plot <span class="sc">+</span> <span class="fu">scale_y_log10</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">250</span>, <span class="dv">1000</span>, <span class="dv">10000</span>, <span class="dv">50000</span>, <span class="dv">115000</span>)) <span class="co"># transform the y axis to the logarithm to gain better visualization</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-63-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-3">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a></a>scales_plot <span class="sc">+</span> <span class="fu">scale_y_log10</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">250</span>, <span class="dv">1000</span>, <span class="dv">10000</span>, <span class="dv">50000</span>, <span class="dv">115000</span>)) <span class="sc">+</span></span>
<span id="cb45-2"><a></a>  <span class="fu">facet_grid</span>(<span class="at">rows =</span> <span class="fu">vars</span>(year), </span>
<span id="cb45-3"><a></a>             <span class="at">cols =</span> <span class="fu">vars</span>(continent), </span>
<span id="cb45-4"><a></a>             <span class="at">scales =</span> <span class="st">"free_x"</span>) <span class="co"># make the x axis vary by data </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-64-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-4">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a></a>scales_plot <span class="sc">+</span> <span class="fu">scale_y_log10</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">250</span>, <span class="dv">1000</span>, <span class="dv">10000</span>, <span class="dv">50000</span>, <span class="dv">115000</span>)) <span class="sc">+</span></span>
<span id="cb46-2"><a></a>  <span class="fu">facet_grid</span>(<span class="at">rows =</span> <span class="fu">vars</span>(year), </span>
<span id="cb46-3"><a></a>             <span class="at">cols =</span> <span class="fu">vars</span>(continent), </span>
<span id="cb46-4"><a></a>             <span class="at">scales =</span> <span class="st">"free_y"</span>) <span class="co"># make the y axis vary by data </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-65-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-5">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a></a>scales_plot <span class="sc">+</span> <span class="fu">scale_y_log10</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">250</span>, <span class="dv">1000</span>, <span class="dv">10000</span>, <span class="dv">50000</span>, <span class="dv">115000</span>)) <span class="sc">+</span></span>
<span id="cb47-2"><a></a>  <span class="fu">facet_grid</span>(<span class="at">rows =</span> <span class="fu">vars</span>(year), </span>
<span id="cb47-3"><a></a>             <span class="at">cols =</span> <span class="fu">vars</span>(continent), </span>
<span id="cb47-4"><a></a>             <span class="at">scales =</span> <span class="st">"free"</span>) <span class="co"># make both axes vary by data </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-66-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="using-multiple-geoms" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Using multiple <code>geoms</code></h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb48" data-code-line-numbers="|2"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb48-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(<span class="at">x =</span> continent, <span class="at">y =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb48-2" class="hljs-ln-code"><a></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.colour =</span> <span class="st">"maroon"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-67-1.svg" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="using-multiple-geoms-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Using multiple <code>geoms</code></h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb49" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb49-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(<span class="at">x =</span> continent, <span class="at">y =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb49-2" class="hljs-ln-code"><a></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.colour =</span> <span class="st">"maroon"</span>) <span class="sc">+</span></span>
<span id="cb49-3" class="hljs-ln-code"><a></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.25</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-68-1.svg" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="using-multiple-geoms-2" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Using multiple <code>geoms</code></h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb50" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb50-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(<span class="at">x =</span> continent, <span class="at">y =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb50-2" class="hljs-ln-code"><a></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.colour =</span> <span class="st">"maroon"</span>) <span class="sc">+</span></span>
<span id="cb50-3" class="hljs-ln-code"><a></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.25</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-69-1.svg" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="using-multiple-geoms-3" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Using multiple <code>geoms</code></h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb51" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb51-1" class="hljs-ln-code"><a></a><span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(<span class="at">x =</span> continent, <span class="at">y =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb51-2" class="hljs-ln-code"><a></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.colour =</span> <span class="st">"maroon"</span>) <span class="sc">+</span></span>
<span id="cb51-3" class="hljs-ln-code"><a></a>  <span class="fu">geom_jitter</span>(<span class="at">position =</span> <span class="fu">position_jitter</span>(<span class="at">width =</span> <span class="fl">0.1</span>, <span class="at">height =</span> <span class="dv">0</span>), <span class="at">alpha =</span> <span class="fl">0.25</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-70-1.svg" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="annotating-specific-datapoints-for-emphasis" class="slide level2">
<h2>Annotating specific datapoints for emphasis</h2>
<div class="panel-tabset">
<ul id="tabset-3" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-3-1">Basic annotation</a></li><li><a href="#tabset-3-2">Offset annotation</a></li><li><a href="#tabset-3-3">Code: outliers</a></li><li><a href="#tabset-3-4">Code: no outliers</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52" data-code-line-numbers="|4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a></a><span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(<span class="at">x =</span> continent, <span class="at">y =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb52-2"><a></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.colour =</span> <span class="st">"maroon"</span>, <span class="at">outlier.size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb52-3"><a></a>  <span class="fu">geom_jitter</span>(<span class="at">data =</span> no_outliers, <span class="at">position =</span> <span class="fu">position_jitter</span>(<span class="at">width =</span> <span class="fl">0.1</span>, <span class="at">height =</span> <span class="dv">0</span>), <span class="at">alpha =</span> <span class="fl">0.25</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span> </span>
<span id="cb52-4"><a></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> outliers, <span class="fu">aes</span>(<span class="at">label =</span> country), <span class="at">color =</span> <span class="st">"maroon"</span>, <span class="at">size =</span> <span class="dv">8</span>) <span class="sc">+</span> </span>
<span id="cb52-5"><a></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">18</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-72-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-3-2">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53" data-code-line-numbers="|1,5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a></a><span class="fu">library</span>(ggrepel)</span>
<span id="cb53-2"><a></a><span class="fu">ggplot</span>(gapminder, <span class="fu">aes</span>(<span class="at">x =</span> continent, <span class="at">y =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb53-3"><a></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.colour =</span> <span class="st">"maroon"</span>, <span class="at">outlier.size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb53-4"><a></a>  <span class="fu">geom_jitter</span>(<span class="at">data =</span> no_outliers, <span class="at">position =</span> <span class="fu">position_jitter</span>(<span class="at">width =</span> <span class="fl">0.1</span>, <span class="at">height =</span> <span class="dv">0</span>), <span class="at">alpha =</span> <span class="fl">0.25</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span> </span>
<span id="cb53-5"><a></a>  <span class="fu">geom_label_repel</span>(<span class="at">data =</span> outliers, <span class="fu">aes</span>(<span class="at">label =</span> country), <span class="at">color =</span> <span class="st">"maroon"</span>, <span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">size =</span> <span class="dv">8</span>, <span class="at">max.overlaps =</span> <span class="dv">13</span>) <span class="sc">+</span> </span>
<span id="cb53-6"><a></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">18</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-73-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-3-3">
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a></a>outliers <span class="ot">&lt;-</span> gapminder <span class="sc">|&gt;</span> </span>
<span id="cb54-2"><a></a>  <span class="fu">group_by</span>(continent) <span class="sc">|&gt;</span> </span>
<span id="cb54-3"><a></a>  <span class="fu">mutate</span>(<span class="at">outlier =</span> <span class="fu">case_when</span>(<span class="fu">quantile</span>(lifeExp, <span class="at">probs =</span> <span class="fl">0.25</span>) <span class="sc">-</span> (<span class="fu">IQR</span>(lifeExp) <span class="sc">*</span> <span class="fl">1.5</span>) <span class="sc">&gt;</span> lifeExp <span class="sc">~</span> <span class="st">"outlier"</span>, <span class="co"># anything lower than the 1st quartile - 1.5*IQR </span></span>
<span id="cb54-4"><a></a>                             <span class="fu">quantile</span>(lifeExp, <span class="at">probs =</span> <span class="fl">0.75</span>) <span class="sc">+</span> (<span class="fu">IQR</span>(lifeExp) <span class="sc">*</span> <span class="fl">1.5</span>) <span class="sc">&lt;</span> lifeExp <span class="sc">~</span> <span class="st">"outlier"</span>, <span class="co"># anything higher than the 3rd quartile + 1.5*IQR</span></span>
<span id="cb54-5"><a></a>                             <span class="at">.default =</span> <span class="cn">NA</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb54-6"><a></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(outlier)) <span class="sc">|&gt;</span> <span class="co"># remove non-outliers</span></span>
<span id="cb54-7"><a></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> <span class="fu">group_by</span>(country) <span class="sc">|&gt;</span> <span class="co"># regroup by country</span></span>
<span id="cb54-8"><a></a>  <span class="fu">filter</span>(lifeExp <span class="sc">==</span> <span class="fu">min</span>(lifeExp)) <span class="co"># filter just the min for each country</span></span>
<span id="cb54-9"><a></a></span>
<span id="cb54-10"><a></a>outliers</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 13 × 7
# Groups:   country [13]
   country                continent  year lifeExp      pop gdpPercap outlier
   &lt;fct&gt;                  &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt; &lt;chr&gt;  
 1 Albania                Europe     1952    55.2  1282697     1601. outlier
 2 Bosnia and Herzegovina Europe     1952    53.8  2791000      974. outlier
 3 Bulgaria               Europe     1952    59.6  7274900     2444. outlier
 4 Haiti                  Americas   1952    37.6  3201488     1840. outlier
 5 Libya                  Africa     2002    72.7  5368585     9535. outlier
 6 Mauritius              Africa     2007    72.8  1250882    10957. outlier
 7 Montenegro             Europe     1952    59.2   413834     2648. outlier
 8 Portugal               Europe     1952    59.8  8526050     3068. outlier
 9 Reunion                Africa     1992    73.6   622191     6101. outlier
10 Rwanda                 Africa     1992    23.6  7290203      737. outlier
11 Serbia                 Europe     1952    58.0  6860147     3581. outlier
12 Tunisia                Africa     2002    73.0  9770575     5723. outlier
13 Turkey                 Europe     1952    43.6 22235677     1969. outlier</code></pre>
</div>
</div>
</div>
<div id="tabset-3-4">
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a></a>no_outliers <span class="ot">&lt;-</span> gapminder <span class="sc">|&gt;</span> </span>
<span id="cb56-2"><a></a>  <span class="fu">group_by</span>(continent) <span class="sc">|&gt;</span> </span>
<span id="cb56-3"><a></a>  <span class="fu">mutate</span>(<span class="at">outlier =</span> <span class="fu">case_when</span>(<span class="fu">quantile</span>(lifeExp, <span class="at">probs =</span> <span class="fl">0.25</span>) <span class="sc">-</span> (<span class="fu">IQR</span>(lifeExp) <span class="sc">*</span> <span class="fl">1.5</span>) <span class="sc">&gt;</span> lifeExp <span class="sc">~</span> <span class="st">"outlier"</span>,</span>
<span id="cb56-4"><a></a>                             <span class="fu">quantile</span>(lifeExp, <span class="at">probs =</span> <span class="fl">0.75</span>) <span class="sc">+</span> (<span class="fu">IQR</span>(lifeExp) <span class="sc">*</span> <span class="fl">1.5</span>) <span class="sc">&lt;</span> lifeExp <span class="sc">~</span> <span class="st">"outlier"</span>, </span>
<span id="cb56-5"><a></a>                             <span class="at">.default =</span> <span class="cn">NA</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb56-6"><a></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(outlier)) <span class="co"># remove outliers</span></span>
<span id="cb56-7"><a></a></span>
<span id="cb56-8"><a></a>no_outliers</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,679 × 7
# Groups:   continent [5]
   country     continent  year lifeExp      pop gdpPercap outlier
   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt; &lt;chr&gt;  
 1 Afghanistan Asia       1952    28.8  8425333      779. &lt;NA&gt;   
 2 Afghanistan Asia       1957    30.3  9240934      821. &lt;NA&gt;   
 3 Afghanistan Asia       1962    32.0 10267083      853. &lt;NA&gt;   
 4 Afghanistan Asia       1967    34.0 11537966      836. &lt;NA&gt;   
 5 Afghanistan Asia       1972    36.1 13079460      740. &lt;NA&gt;   
 6 Afghanistan Asia       1977    38.4 14880372      786. &lt;NA&gt;   
 7 Afghanistan Asia       1982    39.9 12881816      978. &lt;NA&gt;   
 8 Afghanistan Asia       1987    40.8 13867957      852. &lt;NA&gt;   
 9 Afghanistan Asia       1992    41.7 16317921      649. &lt;NA&gt;   
10 Afghanistan Asia       1997    41.8 22227415      635. &lt;NA&gt;   
# ℹ 1,669 more rows</code></pre>
</div>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="bonus-advanced-example" class="title-slide slide level1 section-title center" data-background-color="#99a486">
<h1>Bonus: Advanced Example!</h1>

</section>
<section id="end-result" class="slide level2">
<h2>End Result</h2>
<p>We’re going to <em>slowly</em> build up a <em>really detailed plot</em> now!</p>

<img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-76-1.svg" class="r-stretch"></section>
<section id="base-ggplot-1" class="slide level2">
<h2>Base <code>ggplot</code></h2>
<div class="panel-tabset">
<ul id="tabset-4" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-4-1">Code</a></li><li><a href="#tabset-4-2">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> gapminder, </span>
<span id="cb58-2"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp, <span class="at">group =</span> country)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-4-2">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-78-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>

<aside><div>
<p>What might be a good <code>geom</code> layer for this data?</p>
</div></aside></section>
<section id="lines-1" class="slide level2">
<h2>Lines</h2>
<div class="panel-tabset">
<ul id="tabset-5" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-5-1">Code</a></li><li><a href="#tabset-5-2">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb59" data-code-line-numbers="3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> gapminder, </span>
<span id="cb59-2"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp, <span class="at">group =</span> country)) <span class="sc">+</span></span>
<span id="cb59-3"><a></a>  <span class="fu">geom_line</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-5-2">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-80-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>

</div>
</div>
</div>
<aside><div>
<p>Let’s also add a continent-specific average so we can visualize country-deviations from the regional average.</p>
</div></aside></section>
<section id="continent-average" class="slide level2">
<h2>Continent Average</h2>
<div class="panel-tabset">
<ul id="tabset-6" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-6-1">Code</a></li><li><a href="#tabset-6-2">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb60" data-code-line-numbers="4-6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> gapminder, </span>
<span id="cb60-2"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp, <span class="at">group =</span> country)) <span class="sc">+</span></span>
<span id="cb60-3"><a></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb60-4"><a></a>  <span class="fu">geom_line</span>(<span class="at">stat =</span> <span class="st">"smooth"</span>, </span>
<span id="cb60-5"><a></a>            <span class="at">method =</span> <span class="st">"loess"</span>, </span>
<span id="cb60-6"><a></a>            <span class="fu">aes</span>(<span class="at">group =</span> continent)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-6-2">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-82-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>

<aside><div>
<p>A <a href="https://en.wikipedia.org/wiki/Local_regression"><em>loess</em> curve</a> is something like a moving average.</p>
</div></aside></section>
<section id="facets-1" class="slide level2">
<h2>Facets</h2>
<div class="panel-tabset">
<ul id="tabset-7" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-7-1">Code</a></li><li><a href="#tabset-7-2">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb61" data-code-line-numbers="7-8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> gapminder, </span>
<span id="cb61-2"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp, <span class="at">group =</span> country)) <span class="sc">+</span></span>
<span id="cb61-3"><a></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb61-4"><a></a>  <span class="fu">geom_line</span>(<span class="at">stat =</span> <span class="st">"smooth"</span>, </span>
<span id="cb61-5"><a></a>            <span class="at">method =</span> <span class="st">"loess"</span>, </span>
<span id="cb61-6"><a></a>            <span class="fu">aes</span>(<span class="at">group =</span> continent)) <span class="sc">+</span></span>
<span id="cb61-7"><a></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> continent, </span>
<span id="cb61-8"><a></a>             <span class="at">nrow =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-7-2">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-84-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>

<aside><div>
<p>Facets allow us to gain a clearer understanding of the regional patterns. We want to differentiate the continent-average line from the country-specific lines though so let’s change it’s color.</p>
</div></aside></section>
<section id="color-scale" class="slide level2">
<h2>Color Scale</h2>
<div class="panel-tabset">
<ul id="tabset-8" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-8-1">Code</a></li><li><a href="#tabset-8-2">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-8-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb62" data-code-line-numbers="9-10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> gapminder, </span>
<span id="cb62-2"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp, <span class="at">group =</span> country)) <span class="sc">+</span></span>
<span id="cb62-3"><a></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb62-4"><a></a>  <span class="fu">geom_line</span>(<span class="at">stat =</span> <span class="st">"smooth"</span>, </span>
<span id="cb62-5"><a></a>            <span class="at">method =</span> <span class="st">"loess"</span>, </span>
<span id="cb62-6"><a></a>            <span class="fu">aes</span>(<span class="at">group =</span> continent)) <span class="sc">+</span></span>
<span id="cb62-7"><a></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> continent, </span>
<span id="cb62-8"><a></a>             <span class="at">nrow =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb62-9"><a></a>  <span class="fu">scale_color_manual</span>(<span class="at">name =</span> <span class="st">"Life Exp. for:"</span>, </span>
<span id="cb62-10"><a></a>                     <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Country"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"Continent"</span> <span class="ot">=</span> <span class="st">"blue"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-8-2">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-86-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>

</div>
</div>
</div>
<aside><div>
<p>Hmm, can’t quite see the blue line yet. Let’s make it bigger?</p>
</div></aside></section>
<section id="size-scale" class="slide level2">
<h2>Size Scale</h2>
<div class="panel-tabset">
<ul id="tabset-9" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-9-1">Code</a></li><li><a href="#tabset-9-2">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-9-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb63" data-code-line-numbers="11-12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> gapminder, </span>
<span id="cb63-2"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp, <span class="at">group =</span> country)) <span class="sc">+</span></span>
<span id="cb63-3"><a></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb63-4"><a></a>  <span class="fu">geom_line</span>(<span class="at">stat =</span> <span class="st">"smooth"</span>, </span>
<span id="cb63-5"><a></a>            <span class="at">method =</span> <span class="st">"loess"</span>, </span>
<span id="cb63-6"><a></a>            <span class="fu">aes</span>(<span class="at">group =</span> continent)) <span class="sc">+</span></span>
<span id="cb63-7"><a></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> continent, </span>
<span id="cb63-8"><a></a>             <span class="at">nrow =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb63-9"><a></a>  <span class="fu">scale_color_manual</span>(<span class="at">name =</span> <span class="st">"Life Exp. for:"</span>, </span>
<span id="cb63-10"><a></a>                     <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Country"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"Continent"</span> <span class="ot">=</span> <span class="st">"blue"</span>)) <span class="sc">+</span></span>
<span id="cb63-11"><a></a>  <span class="fu">scale_size_manual</span>(<span class="at">name =</span> <span class="st">"Life Exp. for:"</span>, </span>
<span id="cb63-12"><a></a>                    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Country"</span> <span class="ot">=</span> <span class="fl">0.25</span>, <span class="st">"Continent"</span> <span class="ot">=</span> <span class="dv">3</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-9-2">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-88-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>

<aside><div>
<p>It doesn’t look like our color and size scales are actually mapping onto our variables. Why is that?</p>
</div></aside></section>
<section id="mapping-color-size" class="slide level2">
<h2>Mapping Color &amp; Size</h2>
<div class="panel-tabset">
<ul id="tabset-10" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-10-1">Code</a></li><li><a href="#tabset-10-2">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-10-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb64" data-code-line-numbers="3,5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> gapminder, </span>
<span id="cb64-2"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp, <span class="at">group =</span> country)) <span class="sc">+</span></span>
<span id="cb64-3"><a></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">color =</span> <span class="st">"Country"</span>, <span class="at">size =</span> <span class="st">"Country"</span>)) <span class="sc">+</span></span>
<span id="cb64-4"><a></a>  <span class="fu">geom_line</span>(<span class="at">stat =</span> <span class="st">"smooth"</span>, <span class="at">method =</span> <span class="st">"loess"</span>, </span>
<span id="cb64-5"><a></a>            <span class="fu">aes</span>(<span class="at">group =</span> continent, <span class="at">color =</span> <span class="st">"Continent"</span>, <span class="at">size =</span> <span class="st">"Continent"</span>)) <span class="sc">+</span></span>
<span id="cb64-6"><a></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> continent, </span>
<span id="cb64-7"><a></a>             <span class="at">nrow =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb64-8"><a></a>  <span class="fu">scale_color_manual</span>(<span class="at">name =</span> <span class="st">"Life Exp. for:"</span>, </span>
<span id="cb64-9"><a></a>                     <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Country"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"Continent"</span> <span class="ot">=</span> <span class="st">"blue"</span>)) <span class="sc">+</span></span>
<span id="cb64-10"><a></a>  <span class="fu">scale_size_manual</span>(<span class="at">name =</span> <span class="st">"Life Exp. for:"</span>, </span>
<span id="cb64-11"><a></a>                    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Country"</span> <span class="ot">=</span> <span class="fl">0.25</span>, <span class="st">"Continent"</span> <span class="ot">=</span> <span class="dv">3</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-10-2">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-90-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>

<aside><div>
<p>Huzzah! Let’s change the transparency on these lines a touch so we can see all our data more easily.</p>
</div></aside></section>
<section id="alpha-transparency" class="slide level2">
<h2>Alpha (Transparency)</h2>
<div class="panel-tabset">
<ul id="tabset-11" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-11-1">Code</a></li><li><a href="#tabset-11-2">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-11-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb65" data-code-line-numbers="3,7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> gapminder, </span>
<span id="cb65-2"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp, <span class="at">group =</span> country)) <span class="sc">+</span></span>
<span id="cb65-3"><a></a>  <span class="fu">geom_line</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>, </span>
<span id="cb65-4"><a></a>            <span class="fu">aes</span>(<span class="at">color =</span> <span class="st">"Country"</span>, <span class="at">size =</span> <span class="st">"Country"</span>)) <span class="sc">+</span></span>
<span id="cb65-5"><a></a>  <span class="fu">geom_line</span>(<span class="at">stat =</span> <span class="st">"smooth"</span>, <span class="at">method =</span> <span class="st">"loess"</span>, </span>
<span id="cb65-6"><a></a>            <span class="fu">aes</span>(<span class="at">group =</span> continent, <span class="at">color =</span> <span class="st">"Continent"</span>, <span class="at">size =</span> <span class="st">"Continent"</span>), </span>
<span id="cb65-7"><a></a>            <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb65-8"><a></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> continent, </span>
<span id="cb65-9"><a></a>             <span class="at">nrow =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb65-10"><a></a>  <span class="fu">scale_color_manual</span>(<span class="at">name =</span> <span class="st">"Life Exp. for:"</span>, </span>
<span id="cb65-11"><a></a>                     <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Country"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"Continent"</span> <span class="ot">=</span> <span class="st">"blue"</span>)) <span class="sc">+</span></span>
<span id="cb65-12"><a></a>  <span class="fu">scale_size_manual</span>(<span class="at">name =</span> <span class="st">"Life Exp. for:"</span>, </span>
<span id="cb65-13"><a></a>                    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Country"</span> <span class="ot">=</span> <span class="fl">0.25</span>, <span class="st">"Continent"</span> <span class="ot">=</span> <span class="dv">3</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-11-2">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-92-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>

<aside><div>
<p>Now we’re getting somewhere! We can also add useful labels and clean up the theme.</p>
</div></aside></section>
<section id="theme-and-labels" class="slide level2">
<h2>Theme and Labels</h2>
<div class="panel-tabset">
<ul id="tabset-12" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-12-1">Code</a></li><li><a href="#tabset-12-2">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-12-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb66" data-code-line-numbers="13-15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> gapminder, </span>
<span id="cb66-2"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp, <span class="at">group =</span> country)) <span class="sc">+</span></span>
<span id="cb66-3"><a></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb66-4"><a></a>  <span class="fu">geom_line</span>(<span class="at">stat =</span> <span class="st">"smooth"</span>, </span>
<span id="cb66-5"><a></a>            <span class="at">method =</span> <span class="st">"loess"</span>, </span>
<span id="cb66-6"><a></a>            <span class="fu">aes</span>(<span class="at">group =</span> continent)) <span class="sc">+</span></span>
<span id="cb66-7"><a></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> continent, </span>
<span id="cb66-8"><a></a>             <span class="at">nrow =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb66-9"><a></a>  <span class="fu">scale_color_manual</span>(<span class="at">name =</span> <span class="st">"Life Exp. for:"</span>, </span>
<span id="cb66-10"><a></a>                     <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Country"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"Continent"</span> <span class="ot">=</span> <span class="st">"blue"</span>)) <span class="sc">+</span></span>
<span id="cb66-11"><a></a>  <span class="fu">scale_size_manual</span>(<span class="at">name =</span> <span class="st">"Life Exp. for:"</span>, </span>
<span id="cb66-12"><a></a>                    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Country"</span> <span class="ot">=</span> <span class="fl">0.25</span>, <span class="st">"Continent"</span> <span class="ot">=</span> <span class="dv">3</span>)) <span class="sc">+</span></span>
<span id="cb66-13"><a></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span> </span>
<span id="cb66-14"><a></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Years"</span>, </span>
<span id="cb66-15"><a></a>       <span class="at">x =</span> <span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-12-2">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-94-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>

<aside><div>
<p>What’s our plot showing? We should be explicit about that.</p>
</div></aside></section>
<section id="title-and-subtitle" class="slide level2">
<h2>Title and Subtitle</h2>
<div class="panel-tabset">
<ul id="tabset-13" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-13-1">Code</a></li><li><a href="#tabset-13-2">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-13-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb67" data-code-line-numbers="16-17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> gapminder, </span>
<span id="cb67-2"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp, <span class="at">group =</span> country)) <span class="sc">+</span></span>
<span id="cb67-3"><a></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb67-4"><a></a>  <span class="fu">geom_line</span>(<span class="at">stat =</span> <span class="st">"smooth"</span>, </span>
<span id="cb67-5"><a></a>            <span class="at">method =</span> <span class="st">"loess"</span>, </span>
<span id="cb67-6"><a></a>            <span class="fu">aes</span>(<span class="at">group =</span> continent)) <span class="sc">+</span></span>
<span id="cb67-7"><a></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> continent, </span>
<span id="cb67-8"><a></a>             <span class="at">nrow =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb67-9"><a></a>  <span class="fu">scale_color_manual</span>(<span class="at">name =</span> <span class="st">"Life Exp. for:"</span>, </span>
<span id="cb67-10"><a></a>                     <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Country"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"Continent"</span> <span class="ot">=</span> <span class="st">"blue"</span>)) <span class="sc">+</span></span>
<span id="cb67-11"><a></a>  <span class="fu">scale_size_manual</span>(<span class="at">name =</span> <span class="st">"Life Exp. for:"</span>, </span>
<span id="cb67-12"><a></a>                    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Country"</span> <span class="ot">=</span> <span class="fl">0.25</span>, <span class="st">"Continent"</span> <span class="ot">=</span> <span class="dv">3</span>)) <span class="sc">+</span></span>
<span id="cb67-13"><a></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span> </span>
<span id="cb67-14"><a></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Years"</span>, </span>
<span id="cb67-15"><a></a>       <span class="at">x =</span> <span class="st">""</span>, </span>
<span id="cb67-16"><a></a>       <span class="at">title =</span> <span class="st">"Life Expectancy, 1952-2007"</span>, </span>
<span id="cb67-17"><a></a>       <span class="at">subtitle =</span> <span class="st">"By continent and country"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-13-2">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-96-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>

<aside><div>
<p>The x-axis feels a little busy right now…</p>
</div></aside></section>
<section id="angled-tick-values" class="slide level2">
<h2>Angled Tick Values</h2>
<div class="panel-tabset">
<ul id="tabset-14" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-14-1">Code</a></li><li><a href="#tabset-14-2">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-14-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb68" data-code-line-numbers="18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> gapminder, </span>
<span id="cb68-2"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp, <span class="at">group =</span> country)) <span class="sc">+</span></span>
<span id="cb68-3"><a></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb68-4"><a></a>  <span class="fu">geom_line</span>(<span class="at">stat =</span> <span class="st">"smooth"</span>, </span>
<span id="cb68-5"><a></a>            <span class="at">method =</span> <span class="st">"loess"</span>, </span>
<span id="cb68-6"><a></a>            <span class="fu">aes</span>(<span class="at">group =</span> continent)) <span class="sc">+</span></span>
<span id="cb68-7"><a></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> continent, </span>
<span id="cb68-8"><a></a>             <span class="at">nrow =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb68-9"><a></a>  <span class="fu">scale_color_manual</span>(<span class="at">name =</span> <span class="st">"Life Exp. for:"</span>, </span>
<span id="cb68-10"><a></a>                     <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Country"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"Continent"</span> <span class="ot">=</span> <span class="st">"blue"</span>)) <span class="sc">+</span></span>
<span id="cb68-11"><a></a>  <span class="fu">scale_size_manual</span>(<span class="at">name =</span> <span class="st">"Life Exp. for:"</span>, </span>
<span id="cb68-12"><a></a>                    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Country"</span> <span class="ot">=</span> <span class="fl">0.25</span>, <span class="st">"Continent"</span> <span class="ot">=</span> <span class="dv">3</span>)) <span class="sc">+</span></span>
<span id="cb68-13"><a></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span> </span>
<span id="cb68-14"><a></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Years"</span>, </span>
<span id="cb68-15"><a></a>       <span class="at">x =</span> <span class="st">""</span>, </span>
<span id="cb68-16"><a></a>       <span class="at">title =</span> <span class="st">"Life Expectancy, 1952-2007"</span>, </span>
<span id="cb68-17"><a></a>       <span class="at">subtitle =</span> <span class="st">"By continent and country"</span>) <span class="sc">+</span></span>
<span id="cb68-18"><a></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-14-2">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-98-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="fragment">

</div>
<aside><div>
<p>Note: Fewer values might be better than angled labels! Finally, let’s move our legend so it isn’t wasting space.</p>
</div></aside></section>
<section id="legend-position" class="slide level2">
<h2>Legend Position</h2>
<div class="panel-tabset">
<ul id="tabset-15" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-15-1">Code</a></li><li><a href="#tabset-15-2">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-15-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb69" data-code-line-numbers="18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a></a><span class="fu">ggplot</span>(<span class="at">data =</span> gapminder, </span>
<span id="cb69-2"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> lifeExp, <span class="at">group =</span> country)) <span class="sc">+</span></span>
<span id="cb69-3"><a></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb69-4"><a></a>  <span class="fu">geom_line</span>(<span class="at">stat =</span> <span class="st">"smooth"</span>, </span>
<span id="cb69-5"><a></a>            <span class="at">method =</span> <span class="st">"loess"</span>, </span>
<span id="cb69-6"><a></a>            <span class="fu">aes</span>(<span class="at">group =</span> continent)) <span class="sc">+</span></span>
<span id="cb69-7"><a></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> continent, </span>
<span id="cb69-8"><a></a>             <span class="at">nrow =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb69-9"><a></a>  <span class="fu">scale_color_manual</span>(<span class="at">name =</span> <span class="st">"Life Exp. for:"</span>, </span>
<span id="cb69-10"><a></a>                     <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Country"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"Continent"</span> <span class="ot">=</span> <span class="st">"blue"</span>)) <span class="sc">+</span></span>
<span id="cb69-11"><a></a>  <span class="fu">scale_size_manual</span>(<span class="at">name =</span> <span class="st">"Life Exp. for:"</span>, </span>
<span id="cb69-12"><a></a>                    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Country"</span> <span class="ot">=</span> <span class="fl">0.25</span>, <span class="st">"Continent"</span> <span class="ot">=</span> <span class="dv">3</span>)) <span class="sc">+</span></span>
<span id="cb69-13"><a></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">14</span>) <span class="sc">+</span> </span>
<span id="cb69-14"><a></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"Years"</span>, </span>
<span id="cb69-15"><a></a>       <span class="at">x =</span> <span class="st">""</span>, </span>
<span id="cb69-16"><a></a>       <span class="at">title =</span> <span class="st">"Life Expectancy, 1952-2007"</span>, </span>
<span id="cb69-17"><a></a>       <span class="at">subtitle =</span> <span class="st">"By continent and country"</span>) <span class="sc">+</span></span>
<span id="cb69-18"><a></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.82</span>, <span class="fl">0.15</span>), </span>
<span id="cb69-19"><a></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-15-2">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-100-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>

<aside><div>
<p>Voilà!</p>
</div></aside></section></section>
<section>
<section id="ggplot-extensions" class="title-slide slide level1 section-title center" data-background-color="#99a486">
<h1><code>ggplot</code> Extensions!</h1>

</section>
<section id="tidyverse-extended-universe" class="slide level2">
<h2><code>tidyverse</code> extended universe</h2>
<p><code>ggplot2</code> can obviously do a lot on its own. But because <code>R</code> allows for anyone and everyone to expand the functionality of what already exists, numerous extensions<sup>1</sup> to <code>ggplot2</code> have been created.</p>
<div class="fragment">
<p>We’ve already seen one example with <code>ggrepel</code>. But let’s look at a few others…</p>
</div>
<aside><ol class="aside-footnotes"><li id="fn5"><p>The full list can be found <a href="https://exts.ggplot2.tidyverse.org/gallery/">here</a>.</p></li></ol></aside></section>
<section id="geomtextpath" class="slide level2 scrollable">
<h2><code>geomtextpath</code> <span style="color:#99a486"><i class="fa-solid fa-scroll" aria-label="scroll"></i></span></h2>
<p>If you want your labels to follow along the path of your plot (and maintain proper angles and spacing) try using <a href="https://allancameron.github.io/geomtextpath/index.html"><code>geomtextpath</code></a>.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a></a><span class="co"># install.packages("geomtextpath") &lt;- run in console first</span></span>
<span id="cb70-2"><a></a><span class="fu">library</span>(geomtextpath)</span>
<span id="cb70-3"><a></a>gapminder <span class="sc">|&gt;</span> </span>
<span id="cb70-4"><a></a>  <span class="fu">filter</span>(country <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Cuba"</span>, <span class="st">"Haiti"</span>, <span class="st">"Dominican Republic"</span>)) <span class="sc">|&gt;</span> <span class="co"># restricting data to 3 regionally-specific countries</span></span>
<span id="cb70-5"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year, </span>
<span id="cb70-6"><a></a>             <span class="at">y =</span> lifeExp, </span>
<span id="cb70-7"><a></a>             <span class="at">color =</span> country, </span>
<span id="cb70-8"><a></a>             <span class="at">label =</span> country)) <span class="sc">+</span> <span class="co"># specify label with text to appear</span></span>
<span id="cb70-9"><a></a>  <span class="fu">geom_textpath</span>() <span class="sc">+</span> <span class="co"># adding textpath geom to put labels within lines</span></span>
<span id="cb70-10"><a></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>) <span class="co"># removing legend</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>

</div>
<img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-101-1.svg" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="ggridges" class="slide level2 scrollable">
<h2><code>ggridges</code> <span style="color:#99a486"><i class="fa-solid fa-scroll" aria-label="scroll"></i></span></h2>
<p>We can visualize the differing distributions of a continuous variable by levels of a categorical variable with <a href="https://wilkelab.org/ggridges/">ggridges</a>!</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a></a><span class="co"># install.packages("ggridges") &lt;- run in console first</span></span>
<span id="cb71-2"><a></a><span class="fu">library</span>(ggridges)</span>
<span id="cb71-3"><a></a><span class="fu">ggplot</span>(gapminder, </span>
<span id="cb71-4"><a></a>       <span class="fu">aes</span>(<span class="at">x =</span> lifeExp, </span>
<span id="cb71-5"><a></a>           <span class="at">y =</span> continent, </span>
<span id="cb71-6"><a></a>           <span class="at">fill =</span> continent, </span>
<span id="cb71-7"><a></a>           <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb71-8"><a></a>  <span class="fu">geom_density_ridges</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>, </span>
<span id="cb71-9"><a></a>                      <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="co"># add ridges, make all a bit transparent, remove legend</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>

</div>
<img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-102-1.svg" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="correlation-matricies" class="slide level2 scrollable">
<h2>Correlation Matricies <span style="color:#99a486"><i class="fa-solid fa-scroll" aria-label="scroll"></i></span></h2>
<p>Make visually appealing &amp; informative correlation plots in <a href=""><code>GGally</code></a> or <a href=""><code>ggcorrplot</code></a>.</p>
<div class="panel-tabset">
<ul id="tabset-16" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-16-1"><code>GGally</code></a></li><li><a href="#tabset-16-2"><code>ggcorrplot</code></a></li><li><a href="#tabset-16-3">Bonus: <code>ggpairs()</code> from <code>GGally</code></a></li></ul>
<div class="tab-content">
<div id="tabset-16-1">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a></a><span class="co"># install.packages("GGally") &lt;- run in console first</span></span>
<span id="cb72-2"><a></a><span class="fu">library</span>(GGally)</span>
<span id="cb72-3"><a></a></span>
<span id="cb72-4"><a></a><span class="fu">ggcorr</span>(swiss, </span>
<span id="cb72-5"><a></a>       <span class="at">geom =</span> <span class="st">"circle"</span>, </span>
<span id="cb72-6"><a></a>       <span class="at">min_size =</span> <span class="dv">25</span>, <span class="co"># specify minimum size of shape </span></span>
<span id="cb72-7"><a></a>       <span class="at">max_size =</span> <span class="dv">25</span>, <span class="co"># specify maximum size of shape </span></span>
<span id="cb72-8"><a></a>       <span class="at">label =</span> <span class="cn">TRUE</span>, <span class="co"># label circles with correlation coefficient</span></span>
<span id="cb72-9"><a></a>       <span class="at">label_alpha =</span> <span class="cn">TRUE</span>, <span class="co"># less strong correlations have lower alpha</span></span>
<span id="cb72-10"><a></a>       <span class="at">label_round =</span> <span class="dv">2</span>, <span class="co"># round correlations coefficients to 2 decimal points</span></span>
<span id="cb72-11"><a></a>       <span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.15</span>, <span class="fl">0.6</span>), </span>
<span id="cb72-12"><a></a>       <span class="at">legend.size =</span> <span class="dv">12</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-103-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-16-2">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a></a><span class="co"># install.packages("ggcorrplot") &lt;- run in console first</span></span>
<span id="cb73-2"><a></a><span class="fu">library</span>(ggcorrplot)</span>
<span id="cb73-3"><a></a></span>
<span id="cb73-4"><a></a><span class="co"># compute correlation matrix</span></span>
<span id="cb73-5"><a></a>corr <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">cor</span>(swiss), <span class="dv">1</span>)</span>
<span id="cb73-6"><a></a><span class="co"># computer matrix of correlation p-values</span></span>
<span id="cb73-7"><a></a>p_mat <span class="ot">&lt;-</span> <span class="fu">cor_pmat</span>(swiss)</span>
<span id="cb73-8"><a></a></span>
<span id="cb73-9"><a></a><span class="fu">ggcorrplot</span>(corr,</span>
<span id="cb73-10"><a></a>           <span class="at">hc.order =</span> <span class="cn">TRUE</span>, <span class="co"># use hierarchical clustering to group like-correlations together</span></span>
<span id="cb73-11"><a></a>           <span class="at">type =</span> <span class="st">"lower"</span>, <span class="co"># only show lower half of correlation matrix</span></span>
<span id="cb73-12"><a></a>           <span class="at">p.mat =</span> p_mat, <span class="co"># give corresponding p-values for correlation matrix</span></span>
<span id="cb73-13"><a></a>           <span class="at">insig =</span> <span class="st">"pch"</span>, <span class="co"># add default shape (an X) to correlations that are insignificant</span></span>
<span id="cb73-14"><a></a>           <span class="at">outline.color =</span> <span class="st">"black"</span>, <span class="co"># outline cells in white</span></span>
<span id="cb73-15"><a></a>           <span class="at">ggtheme =</span> ggthemes<span class="sc">::</span><span class="fu">theme_tufte</span>(), <span class="co"># using a specific theme I like from ggthemes package </span></span>
<span id="cb73-16"><a></a>           <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"#4e79a7"</span>, <span class="st">"white"</span>, <span class="st">"#e15759"</span>)) <span class="sc">+</span> <span class="co"># specify custom colors </span></span>
<span id="cb73-17"><a></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.15</span>, <span class="fl">0.67</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-104-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-16-3">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a></a><span class="fu">ggpairs</span>(swiss, </span>
<span id="cb74-2"><a></a>        <span class="at">lower =</span> <span class="fu">list</span>(<span class="at">continuous =</span> <span class="fu">wrap</span>(<span class="st">"smooth"</span>, <span class="co"># specify a smoothing line added to scatterplots</span></span>
<span id="cb74-3"><a></a>                                       <span class="at">alpha =</span> <span class="fl">0.5</span>, </span>
<span id="cb74-4"><a></a>                                       <span class="at">size=</span><span class="fl">0.2</span>))) <span class="sc">+</span> </span>
<span id="cb74-5"><a></a>  ggthemes<span class="sc">::</span><span class="fu">theme_tufte</span>() <span class="co"># add nice theme from ggthemes</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-105-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="patchwork" class="slide level2 scrollable">
<h2><code>patchwork</code> <span style="color:#99a486"><i class="fa-solid fa-scroll" aria-label="scroll"></i></span></h2>
<p>Combine separate plots into the same graphic using <a href=""><code>patchwork</code></a>.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a></a><span class="co"># install.packages("patchwork") &lt;- run in console first</span></span>
<span id="cb75-2"><a></a><span class="fu">library</span>(patchwork)</span>
<span id="cb75-3"><a></a></span>
<span id="cb75-4"><a></a><span class="co"># Create first plot object</span></span>
<span id="cb75-5"><a></a>plot_lifeExp <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(gapminder, </span>
<span id="cb75-6"><a></a>                       <span class="fu">aes</span>(<span class="at">x =</span> lifeExp, <span class="at">y =</span> continent, <span class="at">fill =</span> continent, <span class="at">color =</span> continent)) <span class="sc">+</span></span>
<span id="cb75-7"><a></a>  <span class="fu">geom_density_ridges</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>)</span>
<span id="cb75-8"><a></a></span>
<span id="cb75-9"><a></a><span class="co"># Create second plot object</span></span>
<span id="cb75-10"><a></a>plot_boxplot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(gapminder, </span>
<span id="cb75-11"><a></a>                       <span class="fu">aes</span>(<span class="at">x =</span> continent, <span class="at">y =</span> lifeExp, <span class="at">color =</span> continent), </span>
<span id="cb75-12"><a></a>                       <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb75-13"><a></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.colour =</span> <span class="st">"black"</span>, <span class="at">varwidth =</span> <span class="cn">TRUE</span>) <span class="sc">+</span> <span class="co"># change outlier color and make width of boxes relative to N</span></span>
<span id="cb75-14"><a></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span> <span class="co"># flip the coordinates (x &amp; y) to align with first plot</span></span>
<span id="cb75-15"><a></a>  <span class="fu">geom_jitter</span>(<span class="at">position =</span> <span class="fu">position_jitter</span>(<span class="at">width =</span> <span class="fl">0.1</span>, <span class="at">height =</span> <span class="dv">0</span>), <span class="co"># add datapoints to boxplot</span></span>
<span id="cb75-16"><a></a>              <span class="at">alpha =</span> <span class="fl">0.25</span>) <span class="sc">+</span> </span>
<span id="cb75-17"><a></a>  <span class="fu">geom_label_repel</span>(<span class="at">data =</span> outliers, <span class="co"># mapping new dataset with the outliers</span></span>
<span id="cb75-18"><a></a>                   <span class="fu">aes</span>(<span class="at">label =</span> country), </span>
<span id="cb75-19"><a></a>                   <span class="at">color =</span> <span class="st">"black"</span>, </span>
<span id="cb75-20"><a></a>                   <span class="at">alpha =</span> <span class="fl">0.7</span>, </span>
<span id="cb75-21"><a></a>                   <span class="at">max.overlaps =</span> <span class="dv">13</span>) <span class="sc">+</span></span>
<span id="cb75-22"><a></a>  <span class="fu">theme</span>(<span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(), <span class="co"># remove y axis text </span></span>
<span id="cb75-23"><a></a>        <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>(), <span class="co"># remove y axis ticks </span></span>
<span id="cb75-24"><a></a>        <span class="at">axis.title.y =</span> <span class="fu">element_blank</span>(), <span class="co"># remove y axis title </span></span>
<span id="cb75-25"><a></a>        <span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb75-26"><a></a></span>
<span id="cb75-27"><a></a>plot_lifeExp <span class="sc">+</span> plot_boxplot <span class="co"># simply add two objects together to place side by side</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>

</div>
<img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-106-1.svg" class="quarto-figure quarto-figure-center r-stretch"></section>
<section id="themes-in-ggplot2" class="slide level2 scrollable">
<h2>themes in <code>ggplot2</code> <span style="color:#99a486"><i class="fa-solid fa-scroll" aria-label="scroll"></i></span></h2>
<p>There are several built-in themes within <code>ggplot2</code>.</p>
<div class="panel-tabset">
<ul id="tabset-17" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-17-1">bw</a></li><li><a href="#tabset-17-2">light</a></li><li><a href="#tabset-17-3">classic</a></li><li><a href="#tabset-17-4">linedraw</a></li><li><a href="#tabset-17-5">dark</a></li><li><a href="#tabset-17-6">minimal</a></li><li><a href="#tabset-17-7">gray</a></li><li><a href="#tabset-17-8">void</a></li></ul>
<div class="tab-content">
<div id="tabset-17-1">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a></a>plot_lifeExp <span class="sc">+</span> <span class="fu">theme_bw</span>() <span class="co"># reusing plot_lifeExp from previous slide and changing theme</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-107-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-17-2">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a></a>plot_lifeExp <span class="sc">+</span> <span class="fu">theme_light</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-108-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-17-3">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a></a>plot_lifeExp <span class="sc">+</span> <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-109-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-17-4">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a></a>plot_lifeExp <span class="sc">+</span> <span class="fu">theme_linedraw</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-110-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-17-5">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a></a>plot_lifeExp <span class="sc">+</span> <span class="fu">theme_dark</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-111-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-17-6">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a></a>plot_lifeExp <span class="sc">+</span> <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-112-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-17-7">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a></a>plot_lifeExp <span class="sc">+</span> <span class="fu">theme_gray</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-113-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-17-8">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a></a>plot_lifeExp <span class="sc">+</span> <span class="fu">theme_void</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-114-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="ggthemes" class="slide level2 scrollable">
<h2><a href="https://jrnold.github.io/ggthemes/"><code>ggthemes</code></a> <span style="color:#99a486"><i class="fa-solid fa-scroll" aria-label="scroll"></i></span></h2>
<div class="panel-tabset">
<ul id="tabset-18" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-18-1">excel</a></li><li><a href="#tabset-18-2">economist</a></li><li><a href="#tabset-18-3">few</a></li><li><a href="#tabset-18-4">fivethirtyeight</a></li><li><a href="#tabset-18-5">gdocs</a></li><li><a href="#tabset-18-6">stata</a></li><li><a href="#tabset-18-7">tufte</a></li><li><a href="#tabset-18-8">wsj</a></li></ul>
<div class="tab-content">
<div id="tabset-18-1">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a></a><span class="fu">library</span>(ggthemes)</span>
<span id="cb84-2"><a></a>plot_lifeExp <span class="sc">+</span> <span class="fu">theme_excel</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-115-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-18-2">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a></a>plot_lifeExp <span class="sc">+</span> <span class="fu">theme_economist</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-116-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-18-3">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a></a>plot_lifeExp <span class="sc">+</span> <span class="fu">theme_few</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-117-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-18-4">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a></a>plot_lifeExp <span class="sc">+</span> <span class="fu">theme_fivethirtyeight</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-118-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-18-5">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a></a>plot_lifeExp <span class="sc">+</span> <span class="fu">theme_gdocs</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-119-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-18-6">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a></a>plot_lifeExp <span class="sc">+</span> <span class="fu">theme_stata</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-120-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-18-7">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a></a>plot_lifeExp <span class="sc">+</span> <span class="fu">theme_tufte</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-121-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-18-8">
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a></a>plot_lifeExp <span class="sc">+</span> <span class="fu">theme_wsj</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="CSSS508_Lecture2_files/figure-revealjs/unnamed-chunk-122-1.svg" class="quarto-figure quarto-figure-center"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="other-theme-packages-and-making-your-own" class="slide level2">
<h2>Other theme packages and making your own!</h2>
<p>These are just a handful of all the ready-made theme options available out there. Some other packages that might be useful/fun to check out:</p>
<div>
<ul>
<li class="fragment"><a href="https://hrbrmstr.github.io/hrbrthemes/index.html"><code>hrbrthemes</code></a> - <em>provides typography-centric themes and theme components for ggplot2</em></li>
<li class="fragment"><a href="https://urbaninstitute.github.io/urbnthemes/index.html"><code>urbnthemes</code></a> <em>a set of tools for creating Urban Institute-themed plots and maps in R</em></li>
<li class="fragment"><a href="https://github.com/bbc/bbplot/"><code>bbplot</code></a> - <em>provides helpful functions for creating and exporting graphics made in ggplot in the style used by the BBC News data team</em></li>
<li class="fragment"><a href="https://www.garrickadenbuie.com/project/ggpomological/"><code>ggpomological</code></a> - <em>A ggplot2 theme based on the USDA Pomological Watercolor Collection</em></li>
</ul>
</div>
<div class="fragment">
<p>You are also able to design your own theme using the <code>theme()</code> function and really <a href="https://ggplot2.tidyverse.org/reference/theme.html">getting into the weeds</a> with how to specify all the non-data ink in your plot. Once you come up with a theme you like you can save it as an object (i.e.&nbsp;<code>my_theme</code>) and add it to any <code>ggplot</code> you create to maintain your own unique and consistent style.</p>
</div>
</section></section>
<section>
<section id="summary" class="title-slide slide level1 section-title center" data-background-color="#99a486">
<h1>Summary</h1>

</section>
<section id="summary-1" class="slide level2">
<h2>Summary</h2>
<p><code>ggplot2</code> can do a LOT! I don’t expect you to memorize all these tools, and neither should you! With time and practice, you’ll start to remember the key tools.</p>
<div class="columns">
<div class="column" style="width:55%;">
<ul>
<li><p>When in doubt, Google it! (i.e.&nbsp;“<em>R ggplot ‘whatever issue you need help with’</em>”)</p></li>
<li><p>There are lots of great resources out there:</p>
<ul>
<li><p>The <a href="https://ggplot2.tidyverse.org/reference/index.html">ggplot2 reference page</a></p></li>
<li><p>The <a href="http://www.cookbook-r.com/">Cookbook for R website</a></p></li>
<li><p>The <a href="https://rstudio.github.io/cheatsheets/data-visualization.pdf">RStudio ggplot Cheatsheets</a>.</p></li>
<li><p>Kieran Healy’s book <a href="https://socviz.co/">Data Visualization: A Practical Introduction</a> (right) is targeted at social scientists without technical backgrounds and uses the same tools we’ll be learning in this class.</p></li>
</ul></li>
</ul>
</div><div class="column" style="width:45%;">
<p><img data-src="images/dataviz_kieranhealy.jpeg"></p>
</div>
</div>
</section></section>
<section>
<section id="homework" class="title-slide slide level1 section-title center" data-background-color="#1e4655">
<h1>Homework</h1>

</section>
<section id="section-4" class="slide level2" data-menu-title="Homework 2" data-background-iframe="https://vsass.github.io/CSSS508/Homework/HW2/homework2.html" data-background-interactive="TRUE">
<h2></h2>

<div class="quarto-auto-generated-content">
<div class="footer footer-default">

</div>
</div>
</section></section>

    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-pointer/pointer.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': false,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'pointer': {"key":"q","color":"#b18eb1","pointerSize":16,"alwaysVisible":false},
'smaller': true,
 
        // Display controls in the bottom right corner
        controls: true,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: false,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: true,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, RevealPointer, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
              // default icon
              link.classList.add("external");
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
          let selectedAnnoteEl;
          const selectorForAnnotation = ( cell, annotation) => {
            let cellAttr = 'data-code-cell="' + cell + '"';
            let lineAttr = 'data-code-annotation="' +  annotation + '"';
            const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
            return selector;
          }
          const selectCodeLines = (annoteEl) => {
            const doc = window.document;
            const targetCell = annoteEl.getAttribute("data-target-cell");
            const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
            const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
            const lines = annoteSpan.getAttribute("data-code-lines").split(",");
            const lineIds = lines.map((line) => {
              return targetCell + "-" + line;
            })
            let top = null;
            let height = null;
            let parent = null;
            if (lineIds.length > 0) {
                //compute the position of the single el (top and bottom and make a div)
                const el = window.document.getElementById(lineIds[0]);
                top = el.offsetTop;
                height = el.offsetHeight;
                parent = el.parentElement.parentElement;
              if (lineIds.length > 1) {
                const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
                const bottom = lastEl.offsetTop + lastEl.offsetHeight;
                height = bottom - top;
              }
              if (top !== null && height !== null && parent !== null) {
                // cook up a div (if necessary) and position it 
                let div = window.document.getElementById("code-annotation-line-highlight");
                if (div === null) {
                  div = window.document.createElement("div");
                  div.setAttribute("id", "code-annotation-line-highlight");
                  div.style.position = 'absolute';
                  parent.appendChild(div);
                }
                div.style.top = top - 2 + "px";
                div.style.height = height + 4 + "px";
                div.style.left = 0;
                let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
                if (gutterDiv === null) {
                  gutterDiv = window.document.createElement("div");
                  gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                  gutterDiv.style.position = 'absolute';
                  const codeCell = window.document.getElementById(targetCell);
                  const gutter = codeCell.querySelector('.code-annotation-gutter');
                  gutter.appendChild(gutterDiv);
                }
                gutterDiv.style.top = top - 2 + "px";
                gutterDiv.style.height = height + 4 + "px";
              }
              selectedAnnoteEl = annoteEl;
            }
          };
          const unselectCodeLines = () => {
            const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
            elementsIds.forEach((elId) => {
              const div = window.document.getElementById(elId);
              if (div) {
                div.remove();
              }
            });
            selectedAnnoteEl = undefined;
          };
            // Handle positioning of the toggle
        window.addEventListener(
          "resize",
          throttle(() => {
            elRect = undefined;
            if (selectedAnnoteEl) {
              selectCodeLines(selectedAnnoteEl);
            }
          }, 10)
        );
        function throttle(fn, ms) {
        let throttle = false;
        let timer;
          return (...args) => {
            if(!throttle) { // first call gets through
                fn.apply(this, args);
                throttle = true;
            } else { // all the others get throttled
                if(timer) clearTimeout(timer); // cancel #2
                timer = setTimeout(() => {
                  fn.apply(this, args);
                  timer = throttle = false;
                }, ms);
            }
          };
        }
          const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
          for (let i=0; i<annoteTargets.length; i++) {
            const annoteTarget = annoteTargets[i];
            const targetCell = annoteTarget.getAttribute("data-target-cell");
            const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
            const contentFn = () => {
              const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
              if (content) {
                const tipContent = content.cloneNode(true);
                tipContent.classList.add("code-annotation-tip-content");
                return tipContent.outerHTML;
              }
            }
            const config = {
              allowHTML: true,
              content: contentFn,
              onShow: (instance) => {
                selectCodeLines(instance.reference);
                instance.reference.classList.add('code-annotation-active');
                window.tippy.hideAll();
              },
              onHide: (instance) => {
                unselectCodeLines();
                instance.reference.classList.remove('code-annotation-active');
              },
              maxWidth: 300,
              delay: [50, 0],
              duration: [200, 0],
              offset: [5, 10],
              arrow: true,
              appendTo: function(el) {
                return el.parentElement.parentElement.parentElement;
              },
              interactive: true,
              interactiveBorder: 10,
              theme: 'light-border',
              placement: 'right',
              popperOptions: {
                modifiers: [
                {
                  name: 'flip',
                  options: {
                    flipVariations: false, // true by default
                    allowedAutoPlacements: ['right'],
                    fallbackPlacements: ['right', 'top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end', 'left'],
                  },
                },
                {
                  name: 'preventOverflow',
                  options: {
                    mainAxis: false,
                    altAxis: false
                  }
                }
                ]        
              }      
            };
            window.tippy(annoteTarget, config); 
          }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>